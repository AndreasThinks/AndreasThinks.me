{"title":"LAPD Call Prediction for Fun (and Prophet)","markdown":{"yaml":{"title":"LAPD Call Prediction for Fun (and Prophet)","description":" Predicting LAPD police call demand using the Prophet time series forecasting library ","date":"11/05/2020","jupyter":"python3","categories":["data-science","forecasting","crime"]},"headingText":"Data Cleaning and Aggregating","containsRefs":false,"markdown":"\n\nTime series prediction is more complicated than I originally anticipated when I tackled the subject during my thesis - while you can treat the events independently, like geographic data, *everything* is related: what happened yesterday will affect what happened today, and a Friday in July is not the same as a Monday in October.\n<!-- TEASER_END -->\n\n\nThere are various weird and wonderful algorithms to cope with these complexities, but Facebook's open source Prophet does a fantastic job of providing a \"fire and forget\" solution that just *works*.  \n\nThis is the code extract from [my Medium blog here](https://towardsdatascience.com/predicting-police-call-demand-for-fun-and-prophet-2e278828a1a1).\n\nWe'll be using four years of LAPD call data, aggregated to hourly intervals.  Prophet actually copes with various intervals quite well, so don't worry too much about how you do yours: just try and keep regular intervals, without too many missings bits.\n\nYour final cleaned data-set must contain the below two columns, ds and y.  Everything else, Prophet will deal with.\n\n##Fitting and Deploying\nProphet works similar to most Python sklearn type implementations - just fit the data and you're off.\n\nHelpfully, it will also make you a data-frame containing future dates for you to predict on.  It will also provide a breakdown of seasonality trends.\n\n## Diagnostics and Cross Validation\nHelpfully, Prophet also contains cross-validation functionality - and performs quite well, very quickly!\n","srcMarkdownNoYaml":"\n\nTime series prediction is more complicated than I originally anticipated when I tackled the subject during my thesis - while you can treat the events independently, like geographic data, *everything* is related: what happened yesterday will affect what happened today, and a Friday in July is not the same as a Monday in October.\n<!-- TEASER_END -->\n\n\nThere are various weird and wonderful algorithms to cope with these complexities, but Facebook's open source Prophet does a fantastic job of providing a \"fire and forget\" solution that just *works*.  \n\nThis is the code extract from [my Medium blog here](https://towardsdatascience.com/predicting-police-call-demand-for-fun-and-prophet-2e278828a1a1).\n\n## Data Cleaning and Aggregating\nWe'll be using four years of LAPD call data, aggregated to hourly intervals.  Prophet actually copes with various intervals quite well, so don't worry too much about how you do yours: just try and keep regular intervals, without too many missings bits.\n\nYour final cleaned data-set must contain the below two columns, ds and y.  Everything else, Prophet will deal with.\n\n##Fitting and Deploying\nProphet works similar to most Python sklearn type implementations - just fit the data and you're off.\n\nHelpfully, it will also make you a data-frame containing future dates for you to predict on.  It will also provide a breakdown of seasonality trends.\n\n## Diagnostics and Cross Validation\nHelpfully, Prophet also contains cross-validation functionality - and performs quite well, very quickly!\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"output-file":"lapd_and_prophet.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","theme":"cyborg","title-block-banner":true,"title":"LAPD Call Prediction for Fun (and Prophet)","description":" Predicting LAPD police call demand using the Prophet time series forecasting library ","date":"11/05/2020","jupyter":"python3","categories":["data-science","forecasting","crime"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}