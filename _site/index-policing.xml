<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Andreas Varotsis</title>
<link>https://andreasthinks.me/index.html#category=policing</link>
<atom:link href="https://andreasthinks.me/index-policing.xml" rel="self" type="application/rss+xml"/>
<description>Personal website for Andreas Varotsis</description>
<generator>quarto-1.3.78</generator>
<lastBuildDate>Sun, 19 Mar 2023 00:00:00 GMT</lastBuildDate>
<item>
  <title>Teaching OpenAI to assess risk, with CopBot!</title>
  <link>https://andreasthinks.me/posts/Copbot/explainer.html</link>
  <description><![CDATA[ 




<p>In case you’ve been living under a rock and missed all the recent excitement around <a href="https://chat.openai.com/chat">ChatGPT</a>, it works really, really well now… Like, “oh god that’s actual wizardry” well. The fact it would probably breeze through a <a href="https://www.youtube.com/watch?v=Umc9ezAyJv0">Voight-Kampff test</a> should probably worry me a bit, but more importantly, what cool stuff can we do with it?</p>
<p>Given using the tool in development is <a href="https://openai.com/pricing">actually quite affordable</a>, I thought I’d build a few prototypes for public safety use cases, and see how it performs… and after a few hours of work, “CopBot” is alive!</p>
<p><img src="https://andreasthinks.me/posts/Copbot/images/cop_bot.png" class="img-fluid"></p>
<p>Reading, evaluating and prioritising risk is a core policing skill: from investigating crimes with piles of witness statements in dingy offices, to responding to life threatening incidents incidents at 2am on a rainy street, the key thread is you’ve got loads of risk, and you need to decide what to do first, taking into account decades worth of policing legislation and policy, and making sure your decision is justifiable when it inevitably goes wrong.</p>
<p>So can an AI learn to “speak police” and make vaguely convicing risk assessments? I scraped all the policing guidance I could find, fed it to an OpenAI powered model, and asked it to predict risk for missing people in an explainable way…and it kind of works! <strong>You <a href="https://andreasthinks-police-risk-open-ai-main-y0l65v.streamlit.app/">can try out the prototype here</a>.</strong></p>
<p>Of course, please don’t put any real personal data through it, or rely on it for actual work…it’s a weekend experiment, not an actual policing tool. For those who want to get into the detail, the <a href="https://github.com/AndreasThinks/police-risk-open-ai">project code is available here</a> (built using <a href="https://nbdev.fast.ai/">Jupyter Notebooks with nbdev</a>, which makes it easy to read and deserves it’s own blog post), and I thought I’d put together a post to explain the high level principles and document some thoughts.</p>
<section id="teaching-policing-to-ai" class="level2">
<h2 class="anchored" data-anchor-id="teaching-policing-to-ai">Teaching policing to AI</h2>
<p>You’ve probably already played with the <a href="https://openai.com/blog/chatgpt">public version of ChatGPT</a>, and hopefully understand the basic principles: the language model is trained on a huge corpus of publicly available text, aiming to answer questions in a helpful way…but not necessarily an operationally useful one, nor one that takes into account of legislation and best practice.</p>
<p>If you had all the relevant documentation to hand, and knew exactly which was most relevant, you could just feed it into your prompt - something like “answer this operation question, but consider this legislative text” - but how do you do that if you don’t know what’s relevant? If you want to teach it how to investigate missing people, where do you event start?</p>
<p>Thankfully, the <a href="https://www.college.police.uk/">College of Policing</a> is wonderfully transparent, and shares all their <a href="https://www.college.police.uk/app/major-investigation-and-public-protection/missing-persons">Authorised Professional Practice</a> in one place (though sadly not through an API). With a clever web crawler, you can quickly collect every page of guidance, as well as every other connected document.</p>
<p>The next stage is to convert all those documents into <a href="https://platform.openai.com/docs/guides/embeddings">embeddings</a>, turning them from text into numerical of their semantic meaning (according to the model). I’ve previously done those computations myself, using libraries like <a href="https://huggingface.co/">Huggingface</a> or <a href="https://spacy.io/">Spacy</a>, but <a href="https://platform.openai.com/docs/guides/embeddings">OpenAI provides all of their embeddings through a quite affordable API you can query</a>.</p>
<p>Once you’ve converted all your all our documentation into embeddings, we can quickly calculate the distance between our question and each document, and that tells us which pieces from our corpus of of text is most closely associated to the question we’re asking!</p>
<p>Unlike ChatGPT though, we want to limit our model to <em>only answer questions from that corpus</em>: if our documents don’t contain information about a certain topic, <a href="https://en.wikipedia.org/wiki/Hallucination_(artificial_intelligence)">don’t just go and hallucinate a whole new answer</a>. Then it’s just a matter of writing our question to extract the most meaningful documents linked to our question, feed them into our prompt, and ask OpenAI to complete the answer, <em>unless it doesn’t know based off the documentation provided</em>.</p>
<p>So how does it work? Well, let’s start by asking it some generic questions about policy.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1">answer_question(df, question<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"What are the most important factors to consider when searching for a missing person?"</span>, debug<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Context:
Very detailed information and a lifestyle profile will be needed in high-risk cases consider taking a full statement from the person reporting the missing person as well as any other key individuals (for example, the last person to see them) conduct initial searches of relevant premises, the extent and nature of the search should be recorded (see&nbsp;Search) consider seizing electronic devices, computers, and other documentation, (for example, diaries, financial records and notes) and obtain details of usernames and passwords obtain photos of the missing person; these should ideally be current likeness of the missing person and obtained in a digital format obtain details of the individual’s mobile phone and if they have it with them; if the missing person has a mobile phone arrange for a&nbsp;TextSafe©&nbsp;to be sent by the charity, Missing People obtain details of any vehicles that they may have access to and place markers on relevant vehicles on the&nbsp;PNC&nbsp;without delay consider obtaining any physical evidence of identity such as fingerprints or DNA samples in accordance with&nbsp;Code of Practice (2009) Collection of Missing Persons Data. confirm if the person has taken their passport, (consider prompt circulation if it is deemed likely the individual may leave the country (This is particularly important where there are concerns that an individual has been radicalised and is intending to travel abroad,&nbsp;see&nbsp;National Ports Office – Heathrow) make all immediate relevant enquiries and take immediate actions in order to locate the missing person consider the need for specialist officers or resources, for example, force helicopters, dogs, financial investigation officers upload the missing person report circulate details of the missing person on local information systems and to relevant local partners, for example, hospitals, ambulance service, taxi and bus firms It is important for an individual (who has responsibilities/concerns for the missing person) to be identified who can act as the point of contact for the police. The police will agree with the individual/family when they will next be contacted. This person should be provided with a call reference number and given details of how to contact the police with any further information they have about the case or if they would like to receive an update. An assessment must be made of the level of support required for the family, residential worker or foster carer and consideration should be given to appointing a family liaison officer. Information should then be provided regarding additional organisations that may be able to assist or support them.

###

It is also important to record the name and contact details of the person who gave that information and when this happened. Missing people may be at risk of harm resulting from factors such as: an inability to cope with weather conditions being the victim of violent crime risks relating to non-physical harm, for example, the people they are with, the places or circumstances they are in For further information see&nbsp;Mental Vulnerability and illness: Vulnerability assessment framework&nbsp;and Vulnerability-related risk guidelines.&nbsp; Assessing risk levels and taking action The missing persons process chart and risk table can assist officers to assess the risk level and appropriate actions that should be assigned to each case.&nbsp;This is a framework to assist practitioners in making operational decisions. Each case requires individual assessment and decision-making. These resources have been developed based on professional expertise and practitioner experience and are available using the following links. Risk assessment table Missing persons process chart It is important to adopt an investigative approach to all reports, ensuring that assumptions are not made about the reasons for going missing. The importance and relevance of risk factors will depend on the circumstances of each case and require investigation to determine if there is a cause for concern. The approach should not be regarded as a mechanical one and police officers should be mindful that the risk assessment is subjective, and that just one factor alone may be considered important enough to prompt an urgent response. For this reason professional experience suggests that&nbsp;a numerical scoring system may not be the most appropriate method of identifying and communicating risk. A&nbsp;decision-making guide&nbsp;should be used to encourage consistency in the application of the process, however, it should only be used as a guide. Other grounds for suspicion, even if intuitive, can be registered by the investigator and officers should be supported in applying the&nbsp;National Decision Model&nbsp;when making these assessments. Accurate record keeping It is essential to accurately record the information received about a missing person. Information that may relate to any perceived risk should be captured at the time of reporting so that it can be used to inform any investigative enquires. This will also&nbsp;prevent duplication of questioning and&nbsp;report writing by investigation officers. Call handlers should be supported by their supervisors to ensure that sufficient time is given to each call to enable all the relevant information to be captured. Detailed missing person reports should be created&nbsp;and appropriate force recording systems and IT systems should be in place to support this process. It is important that the information used and rationale for the risk assessment is clearly recorded.

###

 First published 21 November 2016  Updated 22 November 2016   Written by College of Policing  Missing persons quick reference guides  4 mins read   The primary consideration for the first responder is the safety of the missing person.&nbsp;Judgements made at this early stage may have a significant impact on the outcome of the investigation. The initial investigating officer (IIO) should: begin the investigation – identify places where the person might be, check information and assumptions, corroborate what they have been told, review the risk assessment, seek and secure evidence conduct appropriate searches – places where the missing person might be such as hospital, custody, friends and or relatives conduct appropriate intelligence checks –&nbsp;PNC, force intelligence systems,&nbsp;ViSOR,&nbsp;PND continually reassess the level of risk using the risk principles assess the level of support required for the missing person’s family, residential worker or foster carer as appropriate If it is suspected a serious crime has occurred or the individual is at significant risk of harm, the&nbsp;IIO&nbsp;should inform a supervising officer immediately. There are a&nbsp;number of actions&nbsp;that may be carried out by the&nbsp;IIO&nbsp;to ensure that sufficient information is gathered: Consider seizing electronic devices, computers, and other documentation, for example, diaries, financial records and notes and obtain details of usernames and passwords. Obtain photos of the missing person. These should ideally be current likeness of the missing person and obtained in a digital format. Obtain details of the individual’s mobile phone and if they have it with them. If they do, arrange for a&nbsp;TextSafe©&nbsp;to be sent by the Missing People charity. Obtain details of any vehicles to which the missing person may have access. Confirm if the person has taken their passport; consider prompt circulation if it is deemed likely the individual may leave the country (This is particularly important where there are concerns that an individual has been radicalised and is intending to travel abroad. See&nbsp;National Ports Office – Heathrow.) Upload the missing person report and place markers on relevant vehicles on the&nbsp;PNC&nbsp;without delay. Circulate details of the missing person on local information systems and to relevant local partners, for example, hospitals, ambulance service, taxi and bus firms. Consider obtaining any physical evidence of identity such as fingerprints or DNA samples (in accordance with&nbsp;Code of Practice (2009) Collection of Missing Persons Data).


</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>'The primary consideration for the first responder is the safety of the missing person. Judgements made at this early stage may have a significant impact on the outcome of the investigation. The initial investigating officer should begin the investigation by identifying places where the person might be, check information and assumptions, corroborate what they have been told, review the risk assessment, seek and secure evidence, conduct appropriate searches, conduct appropriate intelligence checks, continually reassess the level of risk using the risk principles, assess the level of support required for the missing person’s family, residential worker or foster carer as appropriate, consider seizing electronic devices, computers, and other documentation, obtain photos of the missing person, obtain details of the individual’s mobile phone, obtain'</code></pre>
</div>
</div>
<p>You can see that as I’ve enabled debug mode on the function, it will start by printing the relevant documentation it has found (the context), before then giving its answer…which is actually pretty convicing! Let’s see what happens if I ask a question it can’t know the answer to.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">answer_question(df, question<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"What day is it?"</span>, debug<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Context:
.

###

It’s also been raining heavily in the night and we have further calls about flooding in the road, so we ring Highways to inform them. I have a little smile to myself as I remember a call in the summer about cars stopping on the M11 because a mother duck and her ducklings were crossing the road. Lunchtime looms. I’m feeling hungry, but that disappears when I take a call from a 16-year-old male, who tells me that he can’t cope any more. He has cut himself with a knife but he doesn’t want to die. His sister has just had a baby. This goes on an emergency straight away, and officers are dispatched within three minutes. I have to talk to him about anything I can to distract him from his misery – luckily, I am good at small talk! Officers arrive and I feel relief as I can hang up the phone. COVID-19 has really affected Essex this year. People are low and weary. You can hear it in their voices. The number of mental health incidents has gone through the roof, and even the force control room team is quieter. Because of&nbsp;the onset of lockdown restrictions, more calls are coming in from the public reporting their neighbours for flouting the rules: 'We’re following the rules, why don’t they? What makes them think they are special?'&nbsp; Gone are the past calls about drunken people leaving the pub. Instead, we have members of the public who are tired of being tied to the house and resentful of those who ignore the restrictions. After lunch, we receive a flurry of calls. There’s a domestic, involving a woman who tells me that ‘he didn’t mean to hit me, he loves me’. I spend time with this caller. There are three horses in the road. A driver has hit a dog and is upset, so I reassure him it wasn’t his fault. It gets busier. Essex is up and running but I am not. I feel tired but this is my job, so I make sure that nobody will hear it in my voice. Finally, it’s time to go home and hang up the headset for another day. I tend not to reflect on my day too much, so I can have some time to myself. There is no typical day in the control room.

###

The vessel is identified as a rigid-hull inflatable boat (RHIB), which has four people on board wearing foul-weather gear and balaclavas. It appears to still have half a load of bales suspected to contain cannabis resin, wrapped in their distinctive blue and light brown hessian (approximately ¾ of a ton in total). Blue police beacons are engaged and the vessel has been repeatedly signalled to stop, but continues to carry out manoeuvres in an attempt to gain distance. The sea spray is cold and strikes the flesh like pins and needles. After a few minutes, which feel like an eternity, the pursuit is discontinued at the 3NM limits of territorial waters. CAD are informed and requested to inform Spanish Guardia Civil of the vessel’s last known speed and heading. No doubt it will return that night to attempt to unload its remaining cargo. I monitor the area and one of the crew observes something floating in the water. It is suspected to be a bale of cannabis resin, approximately 30-35kg in weight. It is retrieved and found to be in a good state with no marine growth. It is unclear whether it fell off the vessel recently pursued or belongs to a previous incident. The area is searched but nothing more is found. I return to GGMS, where I conduct a debrief. The bale is processed and conveyed to a police station for secure storage. I then complete the necessary paperwork, while the crew slip a zodiac out from the water, which was linked to the recovery of five North African migrants from the sea the previous day, and place the vessel on land. We continue with the mundane but necessary yard and vessel maintenance work. We grab a bite to eat, chat about the morning pursuit and joke about our recent mishaps. The work can be intense but we always manage to fill it with laughter. It’s now 2pm. The afternoon crew arrive. I give them a brief and handover. I then deploy on our training RHIB. As a qualified police instructor, I carry out powerboat training drills for the junior crew member. It reminds me of my early days at the helm and I enjoy passing on the knowledge. At 3.30pm, I return to base and carry out a debrief on the day’s activities. It’s the end of the shift. Let’s see what the next day brings – maybe another encounter with that RHIB.

###

Change to the order of the documents.

###

.police.uk news views.            News &amp; views | College of Policing             Sorry, you need to enable JavaScript to visit this website.    Skip to content Jump to search         Menu      Secondary navigation About us News &amp; views Contact us  Search Search     Main navigation Policing guidance Research Career &amp; learning Support for forces Ethics     Breadcrumb Home           News &amp; views            News &amp; views         On this page         All news  Category: - Any -EventGoing equippedListicleBriefExplainerCase studyConsultationNewsViews  Sort by: Most recentLess recent       13 March 2023 Bursary scheme 2023 – applications now open   News  Applications for higher education funding are open and close on Monday 3 April.

###

Updated 26 July 2022    Brief   UK and Switzerland – agreement on police cooperation  Treaty to strengthen police cooperation between law enforcement authorities in both countries Published 24 March 2022    Case study   Director of intelligence – a day in the life  There is no such thing as a typical day in any policing role and the director of intelligence is no different Published 30 July 2021    Case study   Head of intelligence analysis – a day in the life  A key senior role in the analysis side of the intelligence job family Published 30 July 2021    Case study   Intelligence manager – a day in the life  Overseeing the management, development and collection of intelligence from various sources Published 30 July 2021    Case study   Intelligence unit supervisor – a day in the life  Leading a team of intelligence officers to gather, develop and disseminate intelligence in support of local and national crime investigations Published 30 July 2021    Case study   Senior intelligence analyst – a day in the life  Managing an analytical team or a specific area of business within the analytical function Published 30 July 2021    Case study   Intelligence support officer – a day in the life  Providing information and data management and broad administrative support as part of an intelligence unit Published 30 July 2021    Case study   Intelligence officer – a day in the life  Managing dissemination of gathered intelligence to support reactive, proactive and/or crimes in action and providing advice on appropriate tactical options to support policing priorities Published 30 July 2021    Case study   Researcher in intelligence – a day in the life  Using a wide variety of sources to assess and evaluate information – they can then advise on the creation of intelligence products used to support decision-making at a strategic, tactical and/or operational level Published 30 July 2021    Case study   Intelligence analyst – a day in the life  Providing expertise through the development and use of analytical products to help make decisions at a strategic, tactical and operational level Published 30 July 2021    Case study   Using intelligence skills to target criminals ethically and proportionately  A role where it's important to keep on top of your continuing professional development and learn from research and analysis colleagues Published 5 November 2020     Looking for more on this topic? Try searching Intelligence       Was this page useful?  Yes  No   Do not provide personal information such as your name or email address in the feedback form.


</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>"I don't know."</code></pre>
</div>
</div>
<p>Sucess! While it does find a bunch of documentation relating to the current day in our corpus, it does identify that it doesn’t know what the day is now.</p>
<p>Let’s try something a little bit more technical, and see if it can answer a few questions from the <a href="https://www.college.police.uk/career-learning/taking-exams-online/nppf-step-two">Sergeants’ and inspectors’ NPPF legal exams</a>. I couldn’t find any official questions available publicly, <a href="https://www.how2become.com/blog/police-sergeants-inspectors-exam/">here are two questions from an online guidance service.</a></p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1">question <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">""" Officer Jennings is on his evening patrol. He is just about to finish for the day. As he walks down the street, he is approached by a man named Mark, who claims that he saw a man (named Steven) driving down a road not far from the location. Mark claims that he saw Steven drive into a cyclist, before driving off without stopping. Luckily, the cyclist was unharmed. The cyclist was named Kevin. Mark spoke to Kevin, and discovered that he is a 42 year old man, with a wife and two daughters.</span></span>
<span id="cb7-2"></span>
<span id="cb7-3"><span class="st" style="color: #20794D;">Fifteen minutes later, Officer Jennings manages to stop the car being driven by Steven. He pulls him over to the side of the road, and orders him to step out of the car.</span></span>
<span id="cb7-4"></span>
<span id="cb7-5"><span class="st" style="color: #20794D;"> </span></span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="st" style="color: #20794D;">Referring s.6 (5) of the Road Traffic Act 1988, is Officer Jennings within his legal rights to order that Steven takes a preliminary breath test?</span></span>
<span id="cb7-8"></span>
<span id="cb7-9"><span class="st" style="color: #20794D;">A – No. Officer Jennings has no right to tell Steven what he can and can’t do. He should never have stopped Steven in the first place.</span></span>
<span id="cb7-10"></span>
<span id="cb7-11"><span class="st" style="color: #20794D;">B – No. In order for Officer Jennings to do this, an accident must have happened. The fact that Officer Jennings suspects an accident has taken place, does not meet this requirement.</span></span>
<span id="cb7-12"></span>
<span id="cb7-13"><span class="st" style="color: #20794D;">C – Yes. However, the breath test must take place within or close to an area where the requirements for Steven to cooperate, can be imposed.</span></span>
<span id="cb7-14"></span>
<span id="cb7-15"><span class="st" style="color: #20794D;">D – Yes. Officer Jennings can tell Steven to do whatever he wants, as he’s a police officer."""</span></span>
<span id="cb7-16"></span>
<span id="cb7-17">answer_sergeant_exam_question(df,question)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>'B - No. In order for Officer Jennings to do this, an accident must have happened. The fact that Officer Jennings suspects an accident has taken place, does not meet this requirement.'</code></pre>
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1">question <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"""Sarah is walking to work one morning, when she is approached from behind by Henry and Jacob.</span></span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="st" style="color: #20794D;">‘We won’t hurt you, as long as you give us the bag,’ Henry says.</span></span>
<span id="cb9-4"></span>
<span id="cb9-5"><span class="st" style="color: #20794D;">‘You’re not getting it!’ Sarah shouts.</span></span>
<span id="cb9-6"></span>
<span id="cb9-7"><span class="st" style="color: #20794D;">Henry grabs Sarah and holds a knife to her throat, whilst Jacob tries to snatch her bag.</span></span>
<span id="cb9-8"></span>
<span id="cb9-9"><span class="st" style="color: #20794D;">Sarah fights with her attackers, and begins to run away. As the two men chase her, she trips and bangs her head on the pavement. She is taken to hospital and dies from head trauma.</span></span>
<span id="cb9-10"></span>
<span id="cb9-11"><span class="st" style="color: #20794D;">Based on the above information, which of the following options is correct?</span></span>
<span id="cb9-12"></span>
<span id="cb9-13"><span class="st" style="color: #20794D;">A – Jacob cannot be held accountable for the death of Sarah, as he simply tried to take her bag.</span></span>
<span id="cb9-14"></span>
<span id="cb9-15"><span class="st" style="color: #20794D;">B – Jacob and Henry will be charged with attempted robbery, but not in the death of Sarah.</span></span>
<span id="cb9-16"></span>
<span id="cb9-17"><span class="st" style="color: #20794D;">C – Jacob and Henry could be considered liable for the death of Sarah.</span></span>
<span id="cb9-18"></span>
<span id="cb9-19"><span class="st" style="color: #20794D;">D – Sarah’s death cannot be blamed on Henry and Jacob, as it was her choice to run away."""</span></span>
<span id="cb9-20"></span>
<span id="cb9-21">answer_sergeant_exam_question(df,question)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>'C - The answer is C because Jacob and Henry could be considered liable for the death of Sarah, as they were the ones who initiated the attack and chased her, which led to her tripping and hitting her head.'</code></pre>
</div>
</div>
<p>The answer both should have been C, so that’s 50/50 for CopBot… not bad! You can see it’s referring to to relevant guidance, but sadly that doesn’t really help you pass a promotion exam (though I suspect it would do seriously well trained on a bank of questions instead).</p>
</section>
<section id="so-does-it-work" class="level2">
<h2 class="anchored" data-anchor-id="so-does-it-work">So does it work?</h2>
<p>Before we test our model on fictional missing scenarios, I made one last tweak: I’ve amended the prompt to explictly refer to identified risk factors, and return them in a given format - you can see how it works below.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1">margaret_risk_profile <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">""" Margaret is a 97 year old woman with severe dementia from Twickenham. She lives in supported accomodation, but regularly goes missing, as she walks out when left unsupervised.</span></span>
<span id="cb11-2"></span>
<span id="cb11-3"><span class="st" style="color: #20794D;">She has been missing 6 hours, and it is now 2200.  It is getting dark, and staff are saying she is rarely missing this long"""</span></span>
<span id="cb11-4"></span>
<span id="cb11-5">margaret_answer <span class="op" style="color: #5E5E5E;">=</span> machine_risk_assessment(margaret_risk_profile, df, debug<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>)</span>
<span id="cb11-6">margaret_answer</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Question:
 Margaret is a 97 year old woman with severe dementia from Twickenham. She lives in supported accomodation, but regularly goes missing, as she walks out when left unsupervised.

She has been missing 6 hours, and it is now 2200.  It is getting dark, and staff are saying she is rarely missing this long
Context:
.police.uk research projects maximizing effectiveness police scotland investigations when people living dementia go missing.            Maximizing the effectiveness of Police Scotland investigations when people living with dementia go missing | College of Policing             Sorry, you need to enable JavaScript to visit this website.    Skip to content Jump to search         Menu      Secondary navigation About us News &amp; views Contact us  Search Search     Main navigation Policing guidance Research Career &amp; learning Support for forces Ethics     Breadcrumb Home Research Research projects map           Maximizing the effectiveness of Police Scotland investigations when people living with dementia go missing            Maximizing the effectiveness of Police Scotland investigations when people living with dementia go missing         On this page     This research aims to explore the effectiveness of searches for people living with dementia who are reported as missing. Key details             Lead institution            Queen Margaret University             Principal researcher(s)            Alistair Shields [email&nbsp;protected]             Police region                   Scotland                    Level of research                   PhD                    Project start date            September 2018             Date due for completion            January 2023  Research context In Scotland annually there are approximately 530 missing person incidents reported to the police for people living with dementia. These incidents are emotionally distressing for the families and caregivers who do not know the whereabouts of the reported person. For the person living with dementia the consequences of being missing worsen with the passage of time. It has been suggested that when reported as missing the person travels toward a place orientated to their past. The knowledge of such locations to inform police investigations, when someone is reported as missing, is commonly not available. Aim For people living with dementia who are reported as missing to improve search effectiveness by better defining areas where police should search.

###

 First published 22 November 2016  Updated 15 March 2023   Latest changes  Written by College of Policing  Missing persons  30 mins read   Implications for the UK leaving the European Union are currently under review – please see&nbsp;APP&nbsp;on international investigation&nbsp;for latest available detail on specific areas, for example: Schengen Information System Europol INTERPOL Joint Investigation Teams This section provides additional information to aid the investigation based on the vulnerability of the individual and the circumstances in which they are missing. Missing children Safeguarding young and vulnerable people is a responsibility of the police service and partner agencies (see&nbsp;Children Act 2004). When the police are notified that a child is missing, there is a clear responsibility on them to prevent the child from coming to harm. Where appropriate, a strategy meeting may be held. For further information see: Voice of the child&nbsp; Voice of the child practice briefing&nbsp; Section 11 of the Children Act 2004 Department for Education (2014) Statutory guidance on children who run away or go missing from home or care Children’s Views on being Reported Missing from Care Young people and risky behaviour Children and young people often do not have the same levels of awareness or ability to keep themselves safe as adults. Going missing may indicate that something is wrong in their lives. Many of the children and young people who repeatedly go missing are considered by some to be ‘streetwise’ and able to look after themselves. However, these children may not understand the risk they are exposing themselves to, and should not be treated as low/no apparent risk simply due to their apparent willingness/complicity. Children&nbsp;may put themselves in danger because they may have been abused, neglected or rejected by their families or others and,&nbsp;as a result, they may engage in further risky behaviours, such as: misusing substances committing crimes having risky sexual contacts living on the streets mixing with inappropriate adults Information relevant to the child When a missing person report relates to a looked-after child, it is important to&nbsp;work with all the agencies and carers&nbsp;that&nbsp;have been&nbsp;in regular contact with the child as they&nbsp;may have information about the child that might help to locate them. When a child is missing from care, close engagement with the carers is important.

###

Threshold for referral of missing persons: the individual is a ‘repeat missing person’, (reported as missing three times in a rolling 90 day period) the individual has experienced, or is likely to experience significant harm for children, the parent or carer appears unable or unwilling to work to support and meet the needs of a child that has gone missing. The&nbsp;Protection Procedures&nbsp;also recommend that there is very close working between children's social care and policing to ensure that all investigations are undertaken efficiently and without duplication of effort. Where appropriate, a multi-agency meeting is convened after a child has been missing from home or care for more than seven days, or has been missing on more than three occasions in a twelve month period. While standard thresholds for referral may be useful, senior officers will want to be sure that a process is in place to ensure cases are recognised which may require a greater safeguarding response before the threshold has been reached. For example, individuals reported missing for the first time where significant risks have been identified should be referred immediately for multi-agency support, without requiring further reports. For further information see&nbsp;HM Government (2018) Working together to safeguard children: A guide to inter-agency working to safeguard and promote the welfare of children. Prevention and intervention strategies Collecting and analysing data about cases will help the police and other agencies to understand whether there are any patterns related to missing persons incidents. The results of routine data analysis should be shared to inform the development and review of prevention and intervention strategies. Missing Persons Coordinators are vital for this information analysis and sharing. Interventions might include, for example, the use of&nbsp;Child Abduction Warning Notices, or referrals to support services. It is important that such interventions take place in appropriate circumstances and are not used as a single response when a person is at risk of harm, but form one strand of a more comprehensive approach. Regular liaison between neighbourhood policing teams and children’s and adults’ care providers may enable relationships to be developed between police officers, the staff of care establishments, and individuals who are looked after. These relationships may then support effective police intervention and the speedy resolution of cases. For lessons from other cases, see&nbsp;IOPC&nbsp;Learning the Lesson. Understanding the reasons for going missing Understanding the reasons why an individual went missing may help to prevent future harm to those individuals. The officers in charge of local areas should have clear plans on how they intend to reduce the number of people who go missing in their area.

###

It’s also been raining heavily in the night and we have further calls about flooding in the road, so we ring Highways to inform them. I have a little smile to myself as I remember a call in the summer about cars stopping on the M11 because a mother duck and her ducklings were crossing the road. Lunchtime looms. I’m feeling hungry, but that disappears when I take a call from a 16-year-old male, who tells me that he can’t cope any more. He has cut himself with a knife but he doesn’t want to die. His sister has just had a baby. This goes on an emergency straight away, and officers are dispatched within three minutes. I have to talk to him about anything I can to distract him from his misery – luckily, I am good at small talk! Officers arrive and I feel relief as I can hang up the phone. COVID-19 has really affected Essex this year. People are low and weary. You can hear it in their voices. The number of mental health incidents has gone through the roof, and even the force control room team is quieter. Because of&nbsp;the onset of lockdown restrictions, more calls are coming in from the public reporting their neighbours for flouting the rules: 'We’re following the rules, why don’t they? What makes them think they are special?'&nbsp; Gone are the past calls about drunken people leaving the pub. Instead, we have members of the public who are tired of being tied to the house and resentful of those who ignore the restrictions. After lunch, we receive a flurry of calls. There’s a domestic, involving a woman who tells me that ‘he didn’t mean to hit me, he loves me’. I spend time with this caller. There are three horses in the road. A driver has hit a dog and is upset, so I reassure him it wasn’t his fault. It gets busier. Essex is up and running but I am not. I feel tired but this is my job, so I make sure that nobody will hear it in my voice. Finally, it’s time to go home and hang up the headset for another day. I tend not to reflect on my day too much, so I can have some time to myself. There is no typical day in the control room.


</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>('Graded as High risk, because of the below risk factors: \n- Margaret is 97 years old and has severe dementia, making her more vulnerable to harm\n- She has been missing for 6 hours, which is longer than usual, and it is now dark outside, increasing the risk of harm',
 ".police.uk research projects maximizing effectiveness police scotland investigations when people living dementia go missing.            Maximizing the effectiveness of Police Scotland investigations when people living with dementia go missing | College of Policing             Sorry, you need to enable JavaScript to visit this website.    Skip to content Jump to search         Menu      Secondary navigation About us News &amp; views Contact us  Search Search     Main navigation Policing guidance Research Career &amp; learning Support for forces Ethics     Breadcrumb Home Research Research projects map           Maximizing the effectiveness of Police Scotland investigations when people living with dementia go missing            Maximizing the effectiveness of Police Scotland investigations when people living with dementia go missing         On this page     This research aims to explore the effectiveness of searches for people living with dementia who are reported as missing. Key details             Lead institution            Queen Margaret University             Principal researcher(s)            Alistair Shields [email\xa0protected]             Police region                   Scotland                    Level of research                   PhD                    Project start date            September 2018             Date due for completion            January 2023  Research context In Scotland annually there are approximately 530 missing person incidents reported to the police for people living with dementia. These incidents are emotionally distressing for the families and caregivers who do not know the whereabouts of the reported person. For the person living with dementia the consequences of being missing worsen with the passage of time. It has been suggested that when reported as missing the person travels toward a place orientated to their past. The knowledge of such locations to inform police investigations, when someone is reported as missing, is commonly not available. Aim For people living with dementia who are reported as missing to improve search effectiveness by better defining areas where police should search.\n\n###\n\n First published 22 November 2016  Updated 15 March 2023   Latest changes  Written by College of Policing  Missing persons  30 mins read   Implications for the UK leaving the European Union are currently under review – please see\xa0APP\xa0on international investigation\xa0for latest available detail on specific areas, for example: Schengen Information System Europol INTERPOL Joint Investigation Teams This section provides additional information to aid the investigation based on the vulnerability of the individual and the circumstances in which they are missing. Missing children Safeguarding young and vulnerable people is a responsibility of the police service and partner agencies (see\xa0Children Act 2004). When the police are notified that a child is missing, there is a clear responsibility on them to prevent the child from coming to harm. Where appropriate, a strategy meeting may be held. For further information see: Voice of the child\xa0 Voice of the child practice briefing\xa0 Section 11 of the Children Act 2004 Department for Education (2014) Statutory guidance on children who run away or go missing from home or care Children’s Views on being Reported Missing from Care Young people and risky behaviour Children and young people often do not have the same levels of awareness or ability to keep themselves safe as adults. Going missing may indicate that something is wrong in their lives. Many of the children and young people who repeatedly go missing are considered by some to be ‘streetwise’ and able to look after themselves. However, these children may not understand the risk they are exposing themselves to, and should not be treated as low/no apparent risk simply due to their apparent willingness/complicity. Children\xa0may put themselves in danger because they may have been abused, neglected or rejected by their families or others and,\xa0as a result, they may engage in further risky behaviours, such as: misusing substances committing crimes having risky sexual contacts living on the streets mixing with inappropriate adults Information relevant to the child When a missing person report relates to a looked-after child, it is important to\xa0work with all the agencies and carers\xa0that\xa0have been\xa0in regular contact with the child as they\xa0may have information about the child that might help to locate them. When a child is missing from care, close engagement with the carers is important.\n\n###\n\nThreshold for referral of missing persons: the individual is a ‘repeat missing person’, (reported as missing three times in a rolling 90 day period) the individual has experienced, or is likely to experience significant harm for children, the parent or carer appears unable or unwilling to work to support and meet the needs of a child that has gone missing. The\xa0Protection Procedures\xa0also recommend that there is very close working between children's social care and policing to ensure that all investigations are undertaken efficiently and without duplication of effort. Where appropriate, a multi-agency meeting is convened after a child has been missing from home or care for more than seven days, or has been missing on more than three occasions in a twelve month period. While standard thresholds for referral may be useful, senior officers will want to be sure that a process is in place to ensure cases are recognised which may require a greater safeguarding response before the threshold has been reached. For example, individuals reported missing for the first time where significant risks have been identified should be referred immediately for multi-agency support, without requiring further reports. For further information see\xa0HM Government (2018) Working together to safeguard children: A guide to inter-agency working to safeguard and promote the welfare of children. Prevention and intervention strategies Collecting and analysing data about cases will help the police and other agencies to understand whether there are any patterns related to missing persons incidents. The results of routine data analysis should be shared to inform the development and review of prevention and intervention strategies. Missing Persons Coordinators are vital for this information analysis and sharing. Interventions might include, for example, the use of\xa0Child Abduction Warning Notices, or referrals to support services. It is important that such interventions take place in appropriate circumstances and are not used as a single response when a person is at risk of harm, but form one strand of a more comprehensive approach. Regular liaison between neighbourhood policing teams and children’s and adults’ care providers may enable relationships to be developed between police officers, the staff of care establishments, and individuals who are looked after. These relationships may then support effective police intervention and the speedy resolution of cases. For lessons from other cases, see\xa0IOPC\xa0Learning the Lesson. Understanding the reasons for going missing Understanding the reasons why an individual went missing may help to prevent future harm to those individuals. The officers in charge of local areas should have clear plans on how they intend to reduce the number of people who go missing in their area.\n\n###\n\nIt’s also been raining heavily in the night and we have further calls about flooding in the road, so we ring Highways to inform them. I have a little smile to myself as I remember a call in the summer about cars stopping on the M11 because a mother duck and her ducklings were crossing the road. Lunchtime looms. I’m feeling hungry, but that disappears when I take a call from a 16-year-old male, who tells me that he can’t cope any more. He has cut himself with a knife but he doesn’t want to die. His sister has just had a baby. This goes on an emergency straight away, and officers are dispatched within three minutes. I have to talk to him about anything I can to distract him from his misery – luckily, I am good at small talk! Officers arrive and I feel relief as I can hang up the phone. COVID-19 has really affected Essex this year. People are low and weary. You can hear it in their voices. The number of mental health incidents has gone through the roof, and even the force control room team is quieter. Because of\xa0the onset of lockdown restrictions, more calls are coming in from the public reporting their neighbours for flouting the rules: 'We’re following the rules, why don’t they? What makes them think they are special?'\xa0 Gone are the past calls about drunken people leaving the pub. Instead, we have members of the public who are tired of being tied to the house and resentful of those who ignore the restrictions. After lunch, we receive a flurry of calls. There’s a domestic, involving a woman who tells me that ‘he didn’t mean to hit me, he loves me’. I spend time with this caller. There are three horses in the road. A driver has hit a dog and is upset, so I reassure him it wasn’t his fault. It gets busier. Essex is up and running but I am not. I feel tired but this is my job, so I make sure that nobody will hear it in my voice. Finally, it’s time to go home and hang up the headset for another day. I tend not to reflect on my day too much, so I can have some time to myself. There is no typical day in the control room.")</code></pre>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1">about_james <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">""" </span></span>
<span id="cb14-2"><span class="st" style="color: #20794D;">James is a 34 year old man, who was reported missing by his wife this evening as he has not returned home from work. It is now 2200, and she expected him home by 1900.</span></span>
<span id="cb14-3"><span class="st" style="color: #20794D;">She says while he does go out for drinks after work sometimes, he has not been out this late before, and his phone is off.</span></span>
<span id="cb14-4"><span class="st" style="color: #20794D;">James is in good health, there are no mental health concerns or other vulnerabilities. The weather is good, and his friend from work said he'd probably just gone out for drinks.</span></span>
<span id="cb14-5"><span class="st" style="color: #20794D;">"""</span></span>
<span id="cb14-6"></span>
<span id="cb14-7">james_answer <span class="op" style="color: #5E5E5E;">=</span> machine_risk_assessment(about_james, df, debug<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>)</span>
<span id="cb14-8">james_answer</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Question:
 
James is a 34 year old man, who was reported missing by his wife this evening as he has not returned home from work. It is now 2200, and she expected him home by 1900.
She says while he does go out for drinks after work sometimes, he has not been out this late before, and his phone is off.
James is in good health, there are no mental health concerns or other vulnerabilities. The weather is good, and his friend from work said he'd probably just gone out for drinks.

Context:
 First published 22 November 2016  Updated 15 March 2023   Latest changes  Written by College of Policing  Missing persons  30 mins read   Implications for the UK leaving the European Union are currently under review – please see&nbsp;APP&nbsp;on international investigation&nbsp;for latest available detail on specific areas, for example: Schengen Information System Europol INTERPOL Joint Investigation Teams This section provides additional information to aid the investigation based on the vulnerability of the individual and the circumstances in which they are missing. Missing children Safeguarding young and vulnerable people is a responsibility of the police service and partner agencies (see&nbsp;Children Act 2004). When the police are notified that a child is missing, there is a clear responsibility on them to prevent the child from coming to harm. Where appropriate, a strategy meeting may be held. For further information see: Voice of the child&nbsp; Voice of the child practice briefing&nbsp; Section 11 of the Children Act 2004 Department for Education (2014) Statutory guidance on children who run away or go missing from home or care Children’s Views on being Reported Missing from Care Young people and risky behaviour Children and young people often do not have the same levels of awareness or ability to keep themselves safe as adults. Going missing may indicate that something is wrong in their lives. Many of the children and young people who repeatedly go missing are considered by some to be ‘streetwise’ and able to look after themselves. However, these children may not understand the risk they are exposing themselves to, and should not be treated as low/no apparent risk simply due to their apparent willingness/complicity. Children&nbsp;may put themselves in danger because they may have been abused, neglected or rejected by their families or others and,&nbsp;as a result, they may engage in further risky behaviours, such as: misusing substances committing crimes having risky sexual contacts living on the streets mixing with inappropriate adults Information relevant to the child When a missing person report relates to a looked-after child, it is important to&nbsp;work with all the agencies and carers&nbsp;that&nbsp;have been&nbsp;in regular contact with the child as they&nbsp;may have information about the child that might help to locate them. When a child is missing from care, close engagement with the carers is important.

###

 First published 22 November 2016  Updated 16 February 2023   Latest changes  Written by College of Policing  Missing persons  11 mins read   Introduction Going missing should be treated as an indicator that the individual may be at risk of harm. The safeguarding of vulnerable people is paramount and a missing person report should be recognised as an opportunity to identify and address risks. The reasons for a person deciding to go missing may be complex and linked to a variety of social or family issues. Three key factors should be considered in a missing person investigation: protecting those at risk of harm minimising distress and ensuring high quality of service to the families and carers of missing persons prosecuting those who perpetrate harm or pose a risk of harm when this is appropriate and supported by evidence Support for law enforcement agencies Police investigators can contact the following specialists for advice and assistance in missing and unidentified person investigations. UK Missing Persons Unit (UKMPU) on 0800&nbsp;234 6034 NCA&nbsp;Major Crime Investigative Support (MCIS) on 0345 000 5463 Definition of ‘missing’ Anyone whose whereabouts cannot be established will be considered as missing until located, and their well-being or otherwise confirmed. All reports of missing people sit within a continuum of risk from ‘no apparent risk (absent)’ through to high-risk cases&nbsp;that require immediate, intensive action.  Risk assessment and response The risk assessment table The following table should be used as a guide to&nbsp;an appropriate level of police response based on initial and on-going risk assessment in each case. Risk assessment should be guided by the College of Policing&nbsp;Risk principles,&nbsp;the&nbsp;National Decision Model&nbsp;and Police&nbsp;Code of Ethics. No apparent risk (absent) There is no apparent risk of harm to either the subject or the public. Actions to locate the subject and/or gather further information should be agreed with the informant and a latest review time set to reassess the risk. Low risk The risk of harm to the subject or the public is assessed as possible but minimal. Proportionate enquiries should be carried out to ensure that the individual has not come to harm. Medium risk The risk of harm to the subject or the public is assessed as likely but not serious. This category requires an active and measured response by the police and other agencies in order to trace the missing person and support the person reporting.

###

High risk The risk of serious harm to the subject or the public is assessed as very likely. This category almost always requires the immediate deployment of police resources – action may be delayed in exceptional circumstances, such as searching water or forested areas during hours of darkness. A member of the senior management team must be involved in the examination of initial lines of enquiry and approval of appropriate staffing levels. Such cases should lead to the appointment of an investigating officer (IO) and possibly an&nbsp;SIO, and a police search adviser (PolSA).            &nbsp; There should be a press/media strategy and/or close contact with outside agencies. Family support should be put in place where appropriate. The UKMPU&nbsp;should be notified of the case without undue delay. Children’s services must also be notified immediately if the person is under 18. Risk of serious harm has been defined as (Home Office 2002 and OASys 2006): A risk which is life threatening and/or traumatic, and from which recovery, whether physical or psychological, can be expected to be difficult or impossible. Where the risk cannot be accurately assessed without active investigation, appropriate lines of enquiry should be set to gather the required information to inform the risk assessment. The missing persons process chart  Joint responsibility The police are entitled to expect parents and carers, including staff acting in a parenting role in care homes, to accept normal parenting responsibilities and undertake reasonable actions to try and establish the whereabouts of the individual. Children who are breaching parental discipline should not be dealt with by police unless there are other risks. For example, a child who is late home from a party should not be regarded as missing until the parent or carer has undertaken enquiries to locate the child. Once those enquiries have been completed, it may be appropriate to record the child as missing and take actions set out in this&nbsp;APP. Parents or carers may need police support if they are very distressed, incapacitated or otherwise unable to undertake enquiries. In such circumstances, it may be appropriate to make a referral to the local authority so that the standard of care for the missing person can be reviewed. Individuals whose whereabouts are known will not be considered as missing, but may require other police activity in order to ensure their welfare. Police should consult their local public protection procedures to ensure an appropriate safeguarding response is provided.


</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>('Graded as Medium risk, because of the below risk factors:\n- James has not returned home at the expected time, and his phone is off\n- There is no indication of any mental health concerns or other vulnerabilities that could put him at risk',
 ' First published 22 November 2016  Updated 15 March 2023   Latest changes  Written by College of Policing  Missing persons  30 mins read   Implications for the UK leaving the European Union are currently under review – please see\xa0APP\xa0on international investigation\xa0for latest available detail on specific areas, for example: Schengen Information System Europol INTERPOL Joint Investigation Teams This section provides additional information to aid the investigation based on the vulnerability of the individual and the circumstances in which they are missing. Missing children Safeguarding young and vulnerable people is a responsibility of the police service and partner agencies (see\xa0Children Act 2004). When the police are notified that a child is missing, there is a clear responsibility on them to prevent the child from coming to harm. Where appropriate, a strategy meeting may be held. For further information see: Voice of the child\xa0 Voice of the child practice briefing\xa0 Section 11 of the Children Act 2004 Department for Education (2014) Statutory guidance on children who run away or go missing from home or care Children’s Views on being Reported Missing from Care Young people and risky behaviour Children and young people often do not have the same levels of awareness or ability to keep themselves safe as adults. Going missing may indicate that something is wrong in their lives. Many of the children and young people who repeatedly go missing are considered by some to be ‘streetwise’ and able to look after themselves. However, these children may not understand the risk they are exposing themselves to, and should not be treated as low/no apparent risk simply due to their apparent willingness/complicity. Children\xa0may put themselves in danger because they may have been abused, neglected or rejected by their families or others and,\xa0as a result, they may engage in further risky behaviours, such as: misusing substances committing crimes having risky sexual contacts living on the streets mixing with inappropriate adults Information relevant to the child When a missing person report relates to a looked-after child, it is important to\xa0work with all the agencies and carers\xa0that\xa0have been\xa0in regular contact with the child as they\xa0may have information about the child that might help to locate them. When a child is missing from care, close engagement with the carers is important.\n\n###\n\n First published 22 November 2016  Updated 16 February 2023   Latest changes  Written by College of Policing  Missing persons  11 mins read   Introduction Going missing should be treated as an indicator that the individual may be at risk of harm. The safeguarding of vulnerable people is paramount and a missing person report should be recognised as an opportunity to identify and address risks. The reasons for a person deciding to go missing may be complex and linked to a variety of social or family issues. Three key factors should be considered in a missing person investigation: protecting those at risk of harm minimising distress and ensuring high quality of service to the families and carers of missing persons prosecuting those who perpetrate harm or pose a risk of harm when this is appropriate and supported by evidence Support for law enforcement agencies Police investigators can contact the following specialists for advice and assistance in missing and unidentified person investigations. UK Missing Persons Unit (UKMPU) on 0800\xa0234 6034 NCA\xa0Major Crime Investigative Support (MCIS) on 0345 000 5463 Definition of ‘missing’ Anyone whose whereabouts cannot be established will be considered as missing until located, and their well-being or otherwise confirmed. All reports of missing people sit within a continuum of risk from ‘no apparent risk (absent)’ through to high-risk cases\xa0that require immediate, intensive action.  Risk assessment and response The risk assessment table The following table should be used as a guide to\xa0an appropriate level of police response based on initial and on-going risk assessment in each case. Risk assessment should be guided by the College of Policing\xa0Risk principles,\xa0the\xa0National Decision Model\xa0and Police\xa0Code of Ethics. No apparent risk (absent) There is no apparent risk of harm to either the subject or the public. Actions to locate the subject and/or gather further information should be agreed with the informant and a latest review time set to reassess the risk. Low risk The risk of harm to the subject or the public is assessed as possible but minimal. Proportionate enquiries should be carried out to ensure that the individual has not come to harm. Medium risk The risk of harm to the subject or the public is assessed as likely but not serious. This category requires an active and measured response by the police and other agencies in order to trace the missing person and support the person reporting.\n\n###\n\nHigh risk The risk of serious harm to the subject or the public is assessed as very likely. This category almost always requires the immediate deployment of police resources – action may be delayed in exceptional circumstances, such as searching water or forested areas during hours of darkness. A member of the senior management team must be involved in the examination of initial lines of enquiry and approval of appropriate staffing levels. Such cases should lead to the appointment of an investigating officer (IO) and possibly an\xa0SIO, and a police search adviser (PolSA). \t\t\t\xa0 There should be a press/media strategy and/or close contact with outside agencies. Family support should be put in place where appropriate. The UKMPU\xa0should be notified of the case without undue delay. Children’s services must also be notified immediately if the person is under 18. Risk of serious harm has been defined as (Home Office 2002 and OASys 2006): A risk which is life threatening and/or traumatic, and from which recovery, whether physical or psychological, can be expected to be difficult or impossible. Where the risk cannot be accurately assessed without active investigation, appropriate lines of enquiry should be set to gather the required information to inform the risk assessment. The missing persons process chart  Joint responsibility The police are entitled to expect parents and carers, including staff acting in a parenting role in care homes, to accept normal parenting responsibilities and undertake reasonable actions to try and establish the whereabouts of the individual. Children who are breaching parental discipline should not be dealt with by police unless there are other risks. For example, a child who is late home from a party should not be regarded as missing until the parent or carer has undertaken enquiries to locate the child. Once those enquiries have been completed, it may be appropriate to record the child as missing and take actions set out in this\xa0APP. Parents or carers may need police support if they are very distressed, incapacitated or otherwise unable to undertake enquiries. In such circumstances, it may be appropriate to make a referral to the local authority so that the standard of care for the missing person can be reviewed. Individuals whose whereabouts are known will not be considered as missing, but may require other police activity in order to ensure their welfare. Police should consult their local public protection procedures to ensure an appropriate safeguarding response is provided.')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1">about_yannik <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">""" Yannik is a 15 year old boy. He has recently been down, and was reported missing by his parents as he did not return home from school today.</span></span>
<span id="cb17-2"></span>
<span id="cb17-3"><span class="st" style="color: #20794D;">His friends are worried he may be depressed, and when he apparently told one a few days ago 'if it doesn't get any better, I'm going to end it soon'</span></span>
<span id="cb17-4"><span class="st" style="color: #20794D;">"""</span></span>
<span id="cb17-5"></span>
<span id="cb17-6">yannik_answer <span class="op" style="color: #5E5E5E;">=</span> machine_risk_assessment(about_yannik, df, debug<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>)</span>
<span id="cb17-7">yannik_answer</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Question:
 Yannik is a 15 year old boy. He has recently been down, and was reported missing by his parents as he did not return home from school today.

His friends are worried he may be depressed, and when he apparently told one a few days ago 'if it doesn't get any better, I'm going to end it soon'

Context:
 First published 22 November 2016  Updated 15 March 2023   Latest changes  Written by College of Policing  Missing persons  30 mins read   Implications for the UK leaving the European Union are currently under review – please see&nbsp;APP&nbsp;on international investigation&nbsp;for latest available detail on specific areas, for example: Schengen Information System Europol INTERPOL Joint Investigation Teams This section provides additional information to aid the investigation based on the vulnerability of the individual and the circumstances in which they are missing. Missing children Safeguarding young and vulnerable people is a responsibility of the police service and partner agencies (see&nbsp;Children Act 2004). When the police are notified that a child is missing, there is a clear responsibility on them to prevent the child from coming to harm. Where appropriate, a strategy meeting may be held. For further information see: Voice of the child&nbsp; Voice of the child practice briefing&nbsp; Section 11 of the Children Act 2004 Department for Education (2014) Statutory guidance on children who run away or go missing from home or care Children’s Views on being Reported Missing from Care Young people and risky behaviour Children and young people often do not have the same levels of awareness or ability to keep themselves safe as adults. Going missing may indicate that something is wrong in their lives. Many of the children and young people who repeatedly go missing are considered by some to be ‘streetwise’ and able to look after themselves. However, these children may not understand the risk they are exposing themselves to, and should not be treated as low/no apparent risk simply due to their apparent willingness/complicity. Children&nbsp;may put themselves in danger because they may have been abused, neglected or rejected by their families or others and,&nbsp;as a result, they may engage in further risky behaviours, such as: misusing substances committing crimes having risky sexual contacts living on the streets mixing with inappropriate adults Information relevant to the child When a missing person report relates to a looked-after child, it is important to&nbsp;work with all the agencies and carers&nbsp;that&nbsp;have been&nbsp;in regular contact with the child as they&nbsp;may have information about the child that might help to locate them. When a child is missing from care, close engagement with the carers is important.

###

It’s also been raining heavily in the night and we have further calls about flooding in the road, so we ring Highways to inform them. I have a little smile to myself as I remember a call in the summer about cars stopping on the M11 because a mother duck and her ducklings were crossing the road. Lunchtime looms. I’m feeling hungry, but that disappears when I take a call from a 16-year-old male, who tells me that he can’t cope any more. He has cut himself with a knife but he doesn’t want to die. His sister has just had a baby. This goes on an emergency straight away, and officers are dispatched within three minutes. I have to talk to him about anything I can to distract him from his misery – luckily, I am good at small talk! Officers arrive and I feel relief as I can hang up the phone. COVID-19 has really affected Essex this year. People are low and weary. You can hear it in their voices. The number of mental health incidents has gone through the roof, and even the force control room team is quieter. Because of&nbsp;the onset of lockdown restrictions, more calls are coming in from the public reporting their neighbours for flouting the rules: 'We’re following the rules, why don’t they? What makes them think they are special?'&nbsp; Gone are the past calls about drunken people leaving the pub. Instead, we have members of the public who are tired of being tied to the house and resentful of those who ignore the restrictions. After lunch, we receive a flurry of calls. There’s a domestic, involving a woman who tells me that ‘he didn’t mean to hit me, he loves me’. I spend time with this caller. There are three horses in the road. A driver has hit a dog and is upset, so I reassure him it wasn’t his fault. It gets busier. Essex is up and running but I am not. I feel tired but this is my job, so I make sure that nobody will hear it in my voice. Finally, it’s time to go home and hang up the headset for another day. I tend not to reflect on my day too much, so I can have some time to myself. There is no typical day in the control room.

###

Police officers should ask the care home or local authority for details of the child’s risk assessment so that it can be taken into account during the investigation.&nbsp;Many forces are using the Philomena Protocol to guide their actions in relation to relevant cases involving children. A child, especially a teenager, is unlikely to share all information about their life with their parents or carers. Investigators should not overlook information from siblings, friends, associates, school teachers and others. The online activity of the child may also provide valuable additional information which parents and carers may not be aware of. For further information see: Children's views on being reported missing from care&nbsp; No Place at Home - Risks facing children and young people who go missing from out of area placements Child Rescue Alert Child Rescue Alert&nbsp;(CRA) – (available to authorised users logged on to the restricted online&nbsp;College Learn) is a partnership between the police and the media which seeks public assistance when it is feared that a child may be at risk of serious harm. Assistance is sought via TV, radio, text messaging, social and digital media (including the internet) so that relevant information relating to the child, offender or any specified vehicle is passed on to the police. CRA&nbsp;focuses on the risk to the child, rather than whether or not an offence has taken place. The criteria for launching an alert is: The child is apparently under 18 years old There is a perception that the child is in imminent danger of serious harm or death There is sufficient information available to enable the public to assist police in locating the child Child Rescue Alert Activation Protocol&nbsp;(available to authorised users logged on to the restricted online&nbsp;College Learn) The&nbsp;CRA&nbsp;has been expanded to enable alerts to be disseminated by the charity Missing People. The system is managed by the National Crime&nbsp;Agency (NCA) and specialist advice is available 24/7 by contacting 0800&nbsp;234 6034.

###

This is particularly true to the Greater Manchester area. As a result, this research seeks to utilise this appeal in providing a platform for young people who have received a Threats to Life Notice and children to parents who have received a Threat to Life Notice, in order to steer them away from potential criminal activity and receive mentoring through football coaching, education and employability skills. Operationally, this would seek to provide tactical options in the short and long-term in instances where a young person (under the age of 18) is particularly vulnerable as either a victim or perpetrator of criminal behaviour, and potentially reduce the threat, risk and harm pertaining to such individuals. The key aims are: to develop the individuals in the cohort with regards to qualifications, personal wellbeing, skill development, employability and social action (part of their local community and their perception of their community) – this in turn will potentially reduce the impact of trauma and increase confidence and self-esteem of the cohort to reduce the effects of adverse childhood experiences through re-sensitisation and raising awareness that adverse childhood experiences should not be considered the norm to understand and improve the delivery and impact of Threats to Life on young people to inform police forces on the best possible process and follow-on actions needed when delivering Threats to Life Notices  Research methodology A cohort of 16 young people between the ages of 13 to 18 will be identified through GMP’s systems who have either directly received a Threat to Life Notice in the past 12 months, or are children to a parent(s) who have received a Threat to Life Notice in the past 12 months. Their details will then be given to the mentors at the Manchester United Youth Foundation who then make contact through post in the first instance to invite the young person into the scheme. More individuals will be invited into the scheme as it progresses to ensure a minimum of 16 participants at any given stage (catering for any refusals to be involved or disengagement).


</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>('Graded as High risk, because of the below risk factors: \n- Yannik is a 15 year old boy who has been reported missing by his parents\n- His friends are worried he may be depressed\n- He has expressed suicidal ideation to one of his friends',
 " First published 22 November 2016  Updated 15 March 2023   Latest changes  Written by College of Policing  Missing persons  30 mins read   Implications for the UK leaving the European Union are currently under review – please see\xa0APP\xa0on international investigation\xa0for latest available detail on specific areas, for example: Schengen Information System Europol INTERPOL Joint Investigation Teams This section provides additional information to aid the investigation based on the vulnerability of the individual and the circumstances in which they are missing. Missing children Safeguarding young and vulnerable people is a responsibility of the police service and partner agencies (see\xa0Children Act 2004). When the police are notified that a child is missing, there is a clear responsibility on them to prevent the child from coming to harm. Where appropriate, a strategy meeting may be held. For further information see: Voice of the child\xa0 Voice of the child practice briefing\xa0 Section 11 of the Children Act 2004 Department for Education (2014) Statutory guidance on children who run away or go missing from home or care Children’s Views on being Reported Missing from Care Young people and risky behaviour Children and young people often do not have the same levels of awareness or ability to keep themselves safe as adults. Going missing may indicate that something is wrong in their lives. Many of the children and young people who repeatedly go missing are considered by some to be ‘streetwise’ and able to look after themselves. However, these children may not understand the risk they are exposing themselves to, and should not be treated as low/no apparent risk simply due to their apparent willingness/complicity. Children\xa0may put themselves in danger because they may have been abused, neglected or rejected by their families or others and,\xa0as a result, they may engage in further risky behaviours, such as: misusing substances committing crimes having risky sexual contacts living on the streets mixing with inappropriate adults Information relevant to the child When a missing person report relates to a looked-after child, it is important to\xa0work with all the agencies and carers\xa0that\xa0have been\xa0in regular contact with the child as they\xa0may have information about the child that might help to locate them. When a child is missing from care, close engagement with the carers is important.\n\n###\n\nIt’s also been raining heavily in the night and we have further calls about flooding in the road, so we ring Highways to inform them. I have a little smile to myself as I remember a call in the summer about cars stopping on the M11 because a mother duck and her ducklings were crossing the road. Lunchtime looms. I’m feeling hungry, but that disappears when I take a call from a 16-year-old male, who tells me that he can’t cope any more. He has cut himself with a knife but he doesn’t want to die. His sister has just had a baby. This goes on an emergency straight away, and officers are dispatched within three minutes. I have to talk to him about anything I can to distract him from his misery – luckily, I am good at small talk! Officers arrive and I feel relief as I can hang up the phone. COVID-19 has really affected Essex this year. People are low and weary. You can hear it in their voices. The number of mental health incidents has gone through the roof, and even the force control room team is quieter. Because of\xa0the onset of lockdown restrictions, more calls are coming in from the public reporting their neighbours for flouting the rules: 'We’re following the rules, why don’t they? What makes them think they are special?'\xa0 Gone are the past calls about drunken people leaving the pub. Instead, we have members of the public who are tired of being tied to the house and resentful of those who ignore the restrictions. After lunch, we receive a flurry of calls. There’s a domestic, involving a woman who tells me that ‘he didn’t mean to hit me, he loves me’. I spend time with this caller. There are three horses in the road. A driver has hit a dog and is upset, so I reassure him it wasn’t his fault. It gets busier. Essex is up and running but I am not. I feel tired but this is my job, so I make sure that nobody will hear it in my voice. Finally, it’s time to go home and hang up the headset for another day. I tend not to reflect on my day too much, so I can have some time to myself. There is no typical day in the control room.\n\n###\n\nPolice officers should ask the care home or local authority for details of the child’s risk assessment so that it can be taken into account during the investigation.\xa0Many forces are using the Philomena Protocol to guide their actions in relation to relevant cases involving children. A child, especially a teenager, is unlikely to share all information about their life with their parents or carers. Investigators should not overlook information from siblings, friends, associates, school teachers and others. The online activity of the child may also provide valuable additional information which parents and carers may not be aware of. For further information see: Children's views on being reported missing from care\xa0 No Place at Home - Risks facing children and young people who go missing from out of area placements Child Rescue Alert Child Rescue Alert\xa0(CRA) – (available to authorised users logged on to the restricted online\xa0College Learn) is a partnership between the police and the media which seeks public assistance when it is feared that a child may be at risk of serious harm. Assistance is sought via TV, radio, text messaging, social and digital media (including the internet) so that relevant information relating to the child, offender or any specified vehicle is passed on to the police. CRA\xa0focuses on the risk to the child, rather than whether or not an offence has taken place. The criteria for launching an alert is: The child is apparently under 18 years old There is a perception that the child is in imminent danger of serious harm or death There is sufficient information available to enable the public to assist police in locating the child Child Rescue Alert Activation Protocol\xa0(available to authorised users logged on to the restricted online\xa0College Learn) The\xa0CRA\xa0has been expanded to enable alerts to be disseminated by the charity Missing People. The system is managed by the National Crime\xa0Agency (NCA) and specialist advice is available 24/7 by contacting 0800\xa0234 6034.\n\n###\n\nThis is particularly true to the Greater Manchester area. As a result, this research seeks to utilise this appeal in providing a platform for young people who have received a Threats to Life Notice and children to parents who have received a Threat to Life Notice, in order to steer them away from potential criminal activity and receive mentoring through football coaching, education and employability skills. Operationally, this would seek to provide tactical options in the short and long-term in instances where a young person (under the age of 18) is particularly vulnerable as either a victim or perpetrator of criminal behaviour, and potentially reduce the threat, risk and harm pertaining to such individuals. The key aims are: to develop the individuals in the cohort with regards to qualifications, personal wellbeing, skill development, employability and social action (part of their local community and their perception of their community) – this in turn will potentially reduce the impact of trauma and increase confidence and self-esteem of the cohort to reduce the effects of adverse childhood experiences through re-sensitisation and raising awareness that adverse childhood experiences should not be considered the norm to understand and improve the delivery and impact of Threats to Life on young people to inform police forces on the best possible process and follow-on actions needed when delivering Threats to Life Notices  Research methodology A cohort of 16 young people between the ages of 13 to 18 will be identified through GMP’s systems who have either directly received a Threat to Life Notice in the past 12 months, or are children to a parent(s) who have received a Threat to Life Notice in the past 12 months. Their details will then be given to the mentors at the Manchester United Youth Foundation who then make contact through post in the first instance to invite the young person into the scheme. More individuals will be invited into the scheme as it progresses to ensure a minimum of 16 participants at any given stage (catering for any refusals to be involved or disengagement).")</code></pre>
</div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1">jason_risk_profile <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">""" Jason is a 15 year old adult male, who has gone missing from his care home in Southwark. His carer has contacted the school, which has said he was not in today.</span></span>
<span id="cb20-2"><span class="st" style="color: #20794D;">They that this is not the first time, and that Jason has been seen hanging out with older boys, who may be involved in crime and drugs."""</span></span>
<span id="cb20-3"></span>
<span id="cb20-4"></span>
<span id="cb20-5">jason_answer <span class="op" style="color: #5E5E5E;">=</span> machine_risk_assessment(jason_risk_profile, df, debug<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>)</span>
<span id="cb20-6">jason_answer</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Question:
 Jason is a 15 year old adult male, who has gone missing from his care home in Southwark. His carer has contacted the school, which has said he was not in today.
They that this is not the first time, and that Jason has been seen hanging out with older boys, who may be involved in crime and drugs.
Context:
 First published 22 November 2016  Updated 15 March 2023   Latest changes  Written by College of Policing  Missing persons  30 mins read   Implications for the UK leaving the European Union are currently under review – please see&nbsp;APP&nbsp;on international investigation&nbsp;for latest available detail on specific areas, for example: Schengen Information System Europol INTERPOL Joint Investigation Teams This section provides additional information to aid the investigation based on the vulnerability of the individual and the circumstances in which they are missing. Missing children Safeguarding young and vulnerable people is a responsibility of the police service and partner agencies (see&nbsp;Children Act 2004). When the police are notified that a child is missing, there is a clear responsibility on them to prevent the child from coming to harm. Where appropriate, a strategy meeting may be held. For further information see: Voice of the child&nbsp; Voice of the child practice briefing&nbsp; Section 11 of the Children Act 2004 Department for Education (2014) Statutory guidance on children who run away or go missing from home or care Children’s Views on being Reported Missing from Care Young people and risky behaviour Children and young people often do not have the same levels of awareness or ability to keep themselves safe as adults. Going missing may indicate that something is wrong in their lives. Many of the children and young people who repeatedly go missing are considered by some to be ‘streetwise’ and able to look after themselves. However, these children may not understand the risk they are exposing themselves to, and should not be treated as low/no apparent risk simply due to their apparent willingness/complicity. Children&nbsp;may put themselves in danger because they may have been abused, neglected or rejected by their families or others and,&nbsp;as a result, they may engage in further risky behaviours, such as: misusing substances committing crimes having risky sexual contacts living on the streets mixing with inappropriate adults Information relevant to the child When a missing person report relates to a looked-after child, it is important to&nbsp;work with all the agencies and carers&nbsp;that&nbsp;have been&nbsp;in regular contact with the child as they&nbsp;may have information about the child that might help to locate them. When a child is missing from care, close engagement with the carers is important.

###

These include children or young people who: go missing&nbsp;– especially on regular occasions from home or care live in a chaotic or dysfunctional family have a history of domestic abuse within the family environment have a history of abuse (including familial&nbsp;child sexual abuse, risk of&nbsp;forced marriage, risk of&nbsp;honour-based violence,&nbsp;physical&nbsp;and&nbsp;emotional&nbsp;abuse and&nbsp;neglect) have experienced or are experiencing problematic parenting have parents who misuse drugs or alcohol have parents with health problems are young carers within the family unit experience social exclusion as a result of poverty have experienced recent bereavement or loss have unsupervised use of social networking chat rooms/sites have mental ill health have social or learning difficulties have low self-esteem or self-confidence are unsure about their sexual orientation or are unable to confide in their family about their sexual orientation misuse alcohol and/or drugs have been or are excluded from mainstream education are involved in gang activity attend school with other young people who are sexually exploited are friends with individuals who are sexually exploited do not have friends in the same age group are being bullied live in care, foster care, hostels and/or bed and breakfast accommodation – particularly when living out of their home area are homeless have associations with gangs through relatives, peers or intimate relationships live in a gang neighbourhood This is not an exhaustive list, nor have the vulnerabilities been listed in order of importance. Children from loving and secure homes can also be victims of sexual exploitation. The&nbsp;characteristics common to all victims are not always their age, ethnicity, disability or sexual orientation, but their powerlessness and vulnerability. Warning signs Despite the increased profile of&nbsp;CSE&nbsp;and improvements in how the police work with partner agencies,&nbsp;CSE&nbsp;cases are still under-reported. The Office of the Children’s Commissioner conducted a two-year inquiry into child sexual exploitation in gangs and groups. Their 2013&nbsp;report,&nbsp;If only someone had listened, highlights that sexually exploited children are not always identified even when they show signs of being victims. Numerous warning signs were identified in the Office of the Children’s Commissioner 2012 interim report,&nbsp;I thought I was the only one, the only one in the world, which can indicate that&nbsp;a young person is being forced or manipulated into sexual activity and is a victim of sexual exploitation. Practitioners need to be aware of these warning signs and recognise that a victim does not&nbsp;have to exhibit all of the warning signs to be a victim of sexual exploitation.

###

Staff should tell the detainee that she can ask to see the carer at any time. Forces must implement policies and procedures to ensure that all girls who are detained and in custody are under the care of a woman. For further information, see&nbsp;PACE Code C, section 3.20A. Transporting children and young people Children and young persons under the age of 18 are not allowed to associate with adult detainees while being detained, conveyed to and from court or waiting to be so conveyed. An exception to this is permitted in accordance with the Children and Young Persons Act 1933 section 31, where the young person is jointly charged with an adult or relative. Officers should make arrangements to prevent association when the child or young person is: detained in a police station being conveyed to or from any criminal court attending court Children and young people should not be carried in a vehicle with adult detainees unless the vehicle has been designed and built to carry them separately and simultaneously. Vehicles that are available for this specific purpose are authorised under the 2011 Prisoner Escort and Custody Services’ contract arrangements. Appropriate adults Forces should establish policies and protocols to provide access to appropriate adults for young persons in police custody. Local YOTs have a statutory responsibility to ensure that an appropriate adult service is provided for children and young people, whether they provide the service themselves or contract a voluntary or private sector agency to do so on their behalf. It is the responsibility of the appropriate adult provider to work with the local force to develop policies and protocols to ensure there is effective provision of appropriate adult services in line with Youth Justice Board (2014) case management guidance. This guidance makes it clear that the appropriate adult service should operate out of hours as well as during standard working hours. All appropriate adults, custody managers, custody officers and staff must be aware of their role as defined by PACE, and also of any agreed local policies, protocols or service level agreements for providing appropriate adults. For further information, see PACE and section 38 of the Crime and Disorder Act 1998. See also the Youth Justice Board’s (YJB) National Standards for Youth Justice Services. The YJB and National Appropriate Adult Network have also published joint guidance and advice on appropriate adult services. When should an appropriate adult be contacted? Detention can be very stressful so it is important that an appropriate adult attends as soon as is practicable to minimise the amount of time the child or young person spends in detention.


</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>('Graded as Medium risk, because of the below risk factors: \n- Jason is a 15 year old adult male, who has gone missing from his care home in Southwark\n- This is not the first time he has gone missing\n- He has been seen hanging out with older boys, who may be involved in crime and drugs',
 ' First published 22 November 2016  Updated 15 March 2023   Latest changes  Written by College of Policing  Missing persons  30 mins read   Implications for the UK leaving the European Union are currently under review – please see\xa0APP\xa0on international investigation\xa0for latest available detail on specific areas, for example: Schengen Information System Europol INTERPOL Joint Investigation Teams This section provides additional information to aid the investigation based on the vulnerability of the individual and the circumstances in which they are missing. Missing children Safeguarding young and vulnerable people is a responsibility of the police service and partner agencies (see\xa0Children Act 2004). When the police are notified that a child is missing, there is a clear responsibility on them to prevent the child from coming to harm. Where appropriate, a strategy meeting may be held. For further information see: Voice of the child\xa0 Voice of the child practice briefing\xa0 Section 11 of the Children Act 2004 Department for Education (2014) Statutory guidance on children who run away or go missing from home or care Children’s Views on being Reported Missing from Care Young people and risky behaviour Children and young people often do not have the same levels of awareness or ability to keep themselves safe as adults. Going missing may indicate that something is wrong in their lives. Many of the children and young people who repeatedly go missing are considered by some to be ‘streetwise’ and able to look after themselves. However, these children may not understand the risk they are exposing themselves to, and should not be treated as low/no apparent risk simply due to their apparent willingness/complicity. Children\xa0may put themselves in danger because they may have been abused, neglected or rejected by their families or others and,\xa0as a result, they may engage in further risky behaviours, such as: misusing substances committing crimes having risky sexual contacts living on the streets mixing with inappropriate adults Information relevant to the child When a missing person report relates to a looked-after child, it is important to\xa0work with all the agencies and carers\xa0that\xa0have been\xa0in regular contact with the child as they\xa0may have information about the child that might help to locate them. When a child is missing from care, close engagement with the carers is important.\n\n###\n\nThese include children or young people who: go missing\xa0– especially on regular occasions from home or care live in a chaotic or dysfunctional family have a history of domestic abuse within the family environment have a history of abuse (including familial\xa0child sexual abuse, risk of\xa0forced marriage, risk of\xa0honour-based violence,\xa0physical\xa0and\xa0emotional\xa0abuse and\xa0neglect) have experienced or are experiencing problematic parenting have parents who misuse drugs or alcohol have parents with health problems are young carers within the family unit experience social exclusion as a result of poverty have experienced recent bereavement or loss have unsupervised use of social networking chat rooms/sites have mental ill health have social or learning difficulties have low self-esteem or self-confidence are unsure about their sexual orientation or are unable to confide in their family about their sexual orientation misuse alcohol and/or drugs have been or are excluded from mainstream education are involved in gang activity attend school with other young people who are sexually exploited are friends with individuals who are sexually exploited do not have friends in the same age group are being bullied live in care, foster care, hostels and/or bed and breakfast accommodation – particularly when living out of their home area are homeless have associations with gangs through relatives, peers or intimate relationships live in a gang neighbourhood This is not an exhaustive list, nor have the vulnerabilities been listed in order of importance. Children from loving and secure homes can also be victims of sexual exploitation. The\xa0characteristics common to all victims are not always their age, ethnicity, disability or sexual orientation, but their powerlessness and vulnerability. Warning signs Despite the increased profile of\xa0CSE\xa0and improvements in how the police work with partner agencies,\xa0CSE\xa0cases are still under-reported. The Office of the Children’s Commissioner conducted a two-year inquiry into child sexual exploitation in gangs and groups. Their 2013\xa0report,\xa0If only someone had listened, highlights that sexually exploited children are not always identified even when they show signs of being victims. Numerous warning signs were identified in the Office of the Children’s Commissioner 2012 interim report,\xa0I thought I was the only one, the only one in the world, which can indicate that\xa0a young person is being forced or manipulated into sexual activity and is a victim of sexual exploitation. Practitioners need to be aware of these warning signs and recognise that a victim does not\xa0have to exhibit all of the warning signs to be a victim of sexual exploitation.\n\n###\n\nStaff should tell the detainee that she can ask to see the carer at any time. Forces must implement policies and procedures to ensure that all girls who are detained and in custody are under the care of a woman. For further information, see\xa0PACE Code C, section 3.20A. Transporting children and young people Children and young persons under the age of 18 are not allowed to associate with adult detainees while being detained, conveyed to and from court or waiting to be so conveyed. An exception to this is permitted in accordance with the Children and Young Persons Act 1933 section 31, where the young person is jointly charged with an adult or relative. Officers should make arrangements to prevent association when the child or young person is: detained in a police station being conveyed to or from any criminal court attending court Children and young people should not be carried in a vehicle with adult detainees unless the vehicle has been designed and built to carry them separately and simultaneously. Vehicles that are available for this specific purpose are authorised under the 2011 Prisoner Escort and Custody Services’ contract arrangements. Appropriate adults Forces should establish policies and protocols to provide access to appropriate adults for young persons in police custody. Local YOTs have a statutory responsibility to ensure that an appropriate adult service is provided for children and young people, whether they provide the service themselves or contract a voluntary or private sector agency to do so on their behalf. It is the responsibility of the appropriate adult provider to work with the local force to develop policies and protocols to ensure there is effective provision of appropriate adult services in line with Youth Justice Board (2014) case management guidance. This guidance makes it clear that the appropriate adult service should operate out of hours as well as during standard working hours. All appropriate adults, custody managers, custody officers and staff must be aware of their role as defined by PACE, and also of any agreed local policies, protocols or service level agreements for providing appropriate adults. For further information, see PACE and section 38 of the Crime and Disorder Act 1998. See also the Youth Justice Board’s (YJB) National Standards for Youth Justice Services. The YJB and National Appropriate Adult Network have also published joint guidance and advice on appropriate adult services. When should an appropriate adult be contacted? Detention can be very stressful so it is important that an appropriate adult attends as soon as is practicable to minimise the amount of time the child or young person spends in detention.')</code></pre>
</div>
</div>
<p>It’s honestly not too bad! while this certainly wouldn’t replace human decision making, it could certainly act as a safeguard against missing a key piece of information at three in the morning when you have a queue of 8 missing people to evaluate, each pages worth of history.</p>
<p>There are certainly some pretty major niggles you’d need to fix: for one I’m not sure how the model will perform given actual legislation, rather than “plain English” guidance, nor do I imagine it will cope particularly well with policing specific terminology. The risks it’s identified so far are all mostly obvious, rather than identifying one needle in a giant haystack of intelligence reports. It’s also all going through the OpenAI black-box servers, though I imagine that could be replaced with something open-ish like <a href="https://ai.facebook.com/blog/large-language-model-llama-meta-ai/">Llama</a> without too much effort. But when I consider where NLP was even 18 months ago, and just how much computing cognitive power we’ve been able to deploy in only a few hours…who knows where we’ll be next year?</p>


</section>

 ]]></description>
  <category>policing</category>
  <category>ai</category>
  <category>data-science</category>
  <guid>https://andreasthinks.me/posts/Copbot/explainer.html</guid>
  <pubDate>Sun, 19 Mar 2023 00:00:00 GMT</pubDate>
  <media:content url="https://andreasthinks.me/posts/Copbot/images/cop_bot.png" medium="image" type="image/png" height="77" width="144"/>
</item>
<item>
  <title>What’s Happened to Burglary, and does Attending Help?</title>
  <link>https://andreasthinks.me/posts/burglary_attendance/index.html</link>
  <description><![CDATA[ 




<p>It’s nearly 2023, and in the true spirit of Christmas, I’ve used the cheese/wine filled nowhere time between the holidays to pick up an analytical side-project that’s been irking me for awhile… what’s happened to burglary, and why are we suddenly so excited about mandatory attendance? It’s a thorny question, so I figured I’d document my analysis here… All(ish) of the code is available, so this will hopefully be a useful tutorial for others. As usual, keep in mind this is a blog post, not an academic article - this analysis is fuelled by post-Christmas cheese, and peer reviewed by me after a glass of cherry, so if you want to rely on any of it, replicate it yourself first and make sure it’s right!</p>
<p>This took somewhat longer than I expected (hooray for Christmas breaks), so this will be a series in three parts:</p>
<ol type="1">
<li>Exploring the data and Linear Models (you’re here!)</li>
<li>Time Series (when I get the time)</li>
<li>Synthetic Controls (one day in the distant future)</li>
</ol>
<div style="page-break-after: always;"></div>
<p><strong>So come with me on an analytical adventure through time, as we cast our minds back to the halcyon days of 2015.</strong> The pound is worth $1.5 dollars again, Boris Johnson is Mayor of London, and we’re all still fondly thinking back to how great the London Olympics were.</p>
<p>Across policing, the effects of austerity are starting to be acutely felt - having briefly been protected, chief officers are tightening their fiscal belt: <a href="https://www.theguardian.com/uk-news/2017/jul/13/met-police-sold-1bn-of-property-to-soften-blow-of-budget-cuts">swathes of policing real estate are sold off</a> to protect the front-line, which in some places is <a href="https://www.ft.com/content/b3630ab0-3388-11e4-ba62-00144feabdc0">starting to rely on volunteers and goodwill</a> to avoid looking rather thin.</p>
<p>Meanwhile, crime is changing: traditional crimes like burglary and violence continue their to fall, leading the <a href="https://www.bbc.com/news/uk-32806520">soon-to-be Prime Minister Theresa May to tell the Police Federation to “stop crying wolf”</a> about cuts while demand shrinks, but policing certainly isn’t feeling it, as an increase in “high-harm”, complex offences more than made up for any shortfall.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">The shift towards complex offences was, in my mind, largely unnoticed by the general public, but caused a real shift in core policing demands: traditional theft and violent offences had become ever rarer, while child exploitation, sexual assault and fraud reporting skyrocketted… but the latter group of offences require a far lengthier investigation than the former! The result? More demand, as best illustrated <a href="http://lesscrime.info/post/crime-pressure-force/">this wonderful graph by Matt Ashby</a></span></div></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://andreasthinks.me/posts/burglary_attendance/severity-plot.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Matt Ashby’s excellent visualisation of crime pressures by time and force</figcaption><p></p>
</figure>
</div>
<p>In the face of these conflicting pressures, policing did something that seemed perfectly reasonable, <a href="https://www.telegraph.co.uk/news/2022/10/05/police-vow-attend-every-burglary/">announcing that officers may not attend every single burglary</a>.</p>
<p>Less than a decade later, we’re now on a very different course. <a href="https://rusi.org/explore-our-research/publications/commentary/public-confidence-police-new-low-service">Confidence in policing, which had previously seemed immutable, is down</a>. <a href="https://www.telegraph.co.uk/politics/2022/12/28/police-criticised-failing-solve-one-million-thefts-burglaries/">Investigative performance has seemingly falling off a cliff</a>. And so the NPCC has made the opposite commitment, <a href="https://news.npcc.police.uk/releases/all-home-burglaries-in-england-and-wales-will-be-attended-by-the-police">pledging that every home burglary will now see police attendance</a>, after <a href="https://www.dailymail.co.uk/news/article-10392721/Sending-police-officers-burglaries-cuts-number-offences-half-forces-find.html">forces who tested the approach claimed huge “dramatic” crime reductions.</a></p>
<p>But has performance really declined that quickly, and is attendance to blame? I’ll use this post to explore open police data from the last decade, and use data from pilot forces to see just how dramatic the effect is: <strong>just what’s happened to burglary, and will mandatory attendance help?</strong></p>
<section id="whats-happened-to-burglary" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="whats-happened-to-burglary">What’s Happened to Burglary?</h2>
<p>We’ll start by exploring how burglary has changed over time - for the purpose of this analysis, we’re focusing on domestic burglary (eg, non including commercial properties), and we’ll use both police recorded crime data (eg, crimes reported to police) and the Crime Survey of England and Wales (a national survey to measure total crime) to compare trends.</p>
<div class="callout callout-style-default callout-note callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
On Data Quality
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>While the UK benefits from crime data that is comparatively clean (I do not envy our American cousins, let alone most of our colleagues in the rest of the world), this is less true for both historical data (eg, going back more than a few years) or the Crime Survey data, which <a href="https://www.crimesurvey.co.uk/en/SurveyResults.html">isn’t readily available to the general public</a>: the data is spread through various archive files, websites and reports, and there really isn’t a “single source of truth” for crime counts over time.</p>
<p>The data for this analysis is a few hacked togther files: - Crime outcomes and crime counts by quarter, manually concatenated from the <a href="https://www.gov.uk/government/statistics/police-recorded-crime-open-data-tables">Police Open Data Tables</a> - Crime Survey burglary counts per year, from the most recent <a href="https://www.ons.gov.uk/generator?uri=/peoplepopulationandcommunity/crimeandjustice/bulletins/crimeinenglandandwales/yearendingjune2022/153cc78c&amp;format=csv">ONS crime and justice quarterly</a></p>
<p>I’m afraid that does mean this analysis isn’t quite as reproducible as I’d like - I had written some code to scrape the Home Office data page and aggregate all the outcomes data, but it’s such a mishmash of ODS,XLSX and various formats that everything fell over and I did it manually. That said, hopefully it’s not too much of a pain to reproduce if you feel the need to.</p>
<p>A few caveats are worth considering:</p>
<ol type="1">
<li>The Crime Survey can’t always be easily compared to reported crime: police crime data is legal accounting, while the crime survey is asking the general public what happened. Domestic Burglary <em>should</em> be comparable, but this is all a little experimental.</li>
<li>Reproducibility and data cleaning: good analysis should be reproducible - you should be able to run it the same way, with new data. This isn’t true here because of my ugly cleaning.</li>
<li>Outcomes aren’t instant: Crimes take time to solve, and so the most recent outcomes data will probably change. I’ve used outcomes per quarter, which <em>should</em> work, but the most recent data is likely to change.</li>
</ol>
</div>
</div>
</div>
<div class="cell" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb1-2"><span class="im" style="color: #00769E;">import</span> plotly.express <span class="im" style="color: #00769E;">as</span> px</span>
<span id="cb1-3"><span class="im" style="color: #00769E;">from</span> plotly.subplots <span class="im" style="color: #00769E;">import</span> make_subplots</span>
<span id="cb1-4"><span class="im" style="color: #00769E;">import</span> plotly.graph_objects <span class="im" style="color: #00769E;">as</span> go</span>
<span id="cb1-5"><span class="im" style="color: #00769E;">import</span> patsy</span>
<span id="cb1-6"><span class="im" style="color: #00769E;">import</span> statsmodels.api <span class="im" style="color: #00769E;">as</span> sm</span>
<span id="cb1-7"><span class="im" style="color: #00769E;">import</span> plotly.io <span class="im" style="color: #00769E;">as</span> pio</span>
<span id="cb1-8"><span class="im" style="color: #00769E;">from</span> linearmodels <span class="im" style="color: #00769E;">import</span> PanelOLS</span>
<span id="cb1-9"></span>
<span id="cb1-10">pio.templates.default <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"plotly_dark"</span></span>
<span id="cb1-11"></span>
<span id="cb1-12"></span>
<span id="cb1-13">police_crime_df <span class="op" style="color: #5E5E5E;">=</span> pd.read_csv(<span class="st" style="color: #20794D;">"../data/external/police_recorded_crime_combined.csv"</span>)</span>
<span id="cb1-14"></span>
<span id="cb1-15"></span>
<span id="cb1-16">yearly_police_df <span class="op" style="color: #5E5E5E;">=</span> police_crime_df[[<span class="st" style="color: #20794D;">'Financial Year'</span>,<span class="st" style="color: #20794D;">'Number of Offences'</span>]].groupby(<span class="st" style="color: #20794D;">'Financial Year'</span>).<span class="bu" style="color: null;">sum</span>().reset_index()</span>
<span id="cb1-17">yearly_police_df[<span class="st" style="color: #20794D;">'year'</span>] <span class="op" style="color: #5E5E5E;">=</span> <span class="bu" style="color: null;">range</span>(<span class="dv" style="color: #AD0000;">2002</span>,<span class="dv" style="color: #AD0000;">2023</span>,<span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb1-18">yearly_police_df <span class="op" style="color: #5E5E5E;">=</span> yearly_police_df.rename(columns<span class="op" style="color: #5E5E5E;">=</span>{<span class="st" style="color: #20794D;">"Number of Offences"</span>:<span class="st" style="color: #20794D;">'police'</span>})</span>
<span id="cb1-19"></span>
<span id="cb1-20">csew_count <span class="op" style="color: #5E5E5E;">=</span> pd.read_csv(<span class="st" style="color: #20794D;">"../data/external/csew_burglary_trends.csv"</span>).rename(columns<span class="op" style="color: #5E5E5E;">=</span>{<span class="st" style="color: #20794D;">'Domestic burglary'</span>:<span class="st" style="color: #20794D;">'csew'</span>})</span>
<span id="cb1-21"></span>
<span id="cb1-22"></span>
<span id="cb1-23"></span>
<span id="cb1-24">csew_count[<span class="st" style="color: #20794D;">'year'</span>] <span class="op" style="color: #5E5E5E;">=</span> <span class="bu" style="color: null;">range</span>(<span class="dv" style="color: #AD0000;">2002</span>,<span class="dv" style="color: #AD0000;">2021</span>,<span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb1-25">csew_count[<span class="st" style="color: #20794D;">'csew'</span>] <span class="op" style="color: #5E5E5E;">=</span> csew_count[<span class="st" style="color: #20794D;">'csew'</span>]<span class="op" style="color: #5E5E5E;">*</span><span class="dv" style="color: #AD0000;">1000</span></span>
<span id="cb1-26"></span>
<span id="cb1-27">comparison_df <span class="op" style="color: #5E5E5E;">=</span> csew_count.merge(yearly_police_df,how<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'left'</span>,on<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'year'</span>).rename(columns<span class="op" style="color: #5E5E5E;">=</span>{<span class="st" style="color: #20794D;">'csew'</span>:<span class="st" style="color: #20794D;">'Crime Survey'</span>,</span>
<span id="cb1-28">                                                                                        <span class="st" style="color: #20794D;">'police'</span>:<span class="st" style="color: #20794D;">'Police Reported'</span>})</span>
<span id="cb1-29"></span>
<span id="cb1-30">comparison_df[[<span class="st" style="color: #20794D;">'year'</span>,<span class="st" style="color: #20794D;">'Crime Survey'</span>,<span class="st" style="color: #20794D;">'Police Reported'</span>]].set_index(<span class="st" style="color: #20794D;">'year'</span>)</span>
<span id="cb1-31"></span>
<span id="cb1-32"></span></code></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Crime Survey</th>
      <th>Police Reported</th>
    </tr>
    <tr>
      <th>year</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2002</th>
      <td>1423000</td>
      <td>437583</td>
    </tr>
    <tr>
      <th>2003</th>
      <td>1357000</td>
      <td>402345</td>
    </tr>
    <tr>
      <th>2004</th>
      <td>1310000</td>
      <td>321507</td>
    </tr>
    <tr>
      <th>2005</th>
      <td>1059000</td>
      <td>300517</td>
    </tr>
    <tr>
      <th>2006</th>
      <td>1025000</td>
      <td>292260</td>
    </tr>
    <tr>
      <th>2007</th>
      <td>1006000</td>
      <td>280696</td>
    </tr>
    <tr>
      <th>2008</th>
      <td>960000</td>
      <td>284431</td>
    </tr>
    <tr>
      <th>2009</th>
      <td>992000</td>
      <td>268606</td>
    </tr>
    <tr>
      <th>2010</th>
      <td>917000</td>
      <td>258165</td>
    </tr>
    <tr>
      <th>2011</th>
      <td>1033000</td>
      <td>245312</td>
    </tr>
    <tr>
      <th>2012</th>
      <td>922000</td>
      <td>227276</td>
    </tr>
    <tr>
      <th>2013</th>
      <td>887000</td>
      <td>211988</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>781000</td>
      <td>196554</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>784000</td>
      <td>194700</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>697000</td>
      <td>206051</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>650000</td>
      <td>309867</td>
    </tr>
    <tr>
      <th>2018</th>
      <td>691000</td>
      <td>295556</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>699000</td>
      <td>268715</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>582000</td>
      <td>196214</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>The Crime Survey data is the best measure for long term crime trends - as it isn’t affected by reporting or policing practice. Taken in isolation, the most obvious takeaway here is that <strong>burglary is lower than it’s every been</strong>. If you acccept the Peelian view that <a href="https://en.wikipedia.org/wiki/Robert_Peel">“the test of police efficiency is the absence of crime and disorder”</a>, policing is doing an excellent job. So why is police reported crime comparatively high, and why are perceptions of police performance seemingly so low?</p>
<div class="cell page-columns page-full" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">tidy_yearly <span class="op" style="color: #5E5E5E;">=</span> comparison_df[[<span class="st" style="color: #20794D;">'year'</span>,<span class="st" style="color: #20794D;">'Crime Survey'</span>,<span class="st" style="color: #20794D;">'Police Reported'</span>]].melt(id_vars<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'year'</span>)</span>
<span id="cb2-2"></span>
<span id="cb2-3">fig <span class="op" style="color: #5E5E5E;">=</span> px.line(tidy_yearly, x<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'year'</span>, y<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'value'</span>, color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'variable'</span>,color_discrete_sequence<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">'red'</span>,<span class="st" style="color: #20794D;">'blue'</span>])</span>
<span id="cb2-4"></span>
<span id="cb2-5">fig.update_layout(</span>
<span id="cb2-6">    title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Domestic Burglaries, Police Reported and Crime Survey"</span>,</span>
<span id="cb2-7">        legend<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(</span>
<span id="cb2-8">    orientation<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"h"</span>,</span>
<span id="cb2-9">    yanchor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"bottom"</span>,</span>
<span id="cb2-10">        y<span class="op" style="color: #5E5E5E;">=-</span><span class="fl" style="color: #AD0000;">0.2</span>),</span>
<span id="cb2-11">)</span>
<span id="cb2-12"></span>
<span id="cb2-13"><span class="co" style="color: #5E5E5E;"># Set x-axis title</span></span>
<span id="cb2-14">fig.update_xaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Year"</span>)</span>
<span id="cb2-15"></span>
<span id="cb2-16"><span class="co" style="color: #5E5E5E;"># Set y-axes titles</span></span>
<span id="cb2-17">fig.update_yaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Burglaries"</span>)</span>
<span id="cb2-18"></span>
<span id="cb2-19">fig.show()</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page">

<div>                            <div id="64ef8b81-2f9a-4d36-91f7-aa0a30c3a813" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("64ef8b81-2f9a-4d36-91f7-aa0a30c3a813")) {                    Plotly.newPlot(                        "64ef8b81-2f9a-4d36-91f7-aa0a30c3a813",                        [{"hovertemplate":"variable=Crime Survey<br>year=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Crime Survey","line":{"color":"red","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Crime Survey","orientation":"v","showlegend":true,"x":[2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"xaxis":"x","y":[1423000,1357000,1310000,1059000,1025000,1006000,960000,992000,917000,1033000,922000,887000,781000,784000,697000,650000,691000,699000,582000],"yaxis":"y","type":"scatter"},{"hovertemplate":"variable=Police Reported<br>year=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Police Reported","line":{"color":"blue","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Police Reported","orientation":"v","showlegend":true,"x":[2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"xaxis":"x","y":[437583,402345,321507,300517,292260,280696,284431,268606,258165,245312,227276,211988,196554,194700,206051,309867,295556,268715,196214],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Burglaries"}},"legend":{"title":{"text":"variable"},"tracegroupgap":0,"orientation":"h","yanchor":"bottom","y":-0.2},"margin":{"t":60},"title":{"text":"Domestic Burglaries, Police Reported and Crime Survey"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('64ef8b81-2f9a-4d36-91f7-aa0a30c3a813');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Comparing Crime Survey to Police Recorded crime counts is generally considered bad form: while a police officer might always know the difference between a robbery, a burglary, and an affray to enable a theft, that’s not something most of the public worries about.</p>
<p>Thankfully, that shouldn’t be a problem for domestic burglary - most people know when they’ve been burgled! That means we can produce <strong>a ratio of crime survey burglaries to police burglaries, and obtain a rough estimate of what proportion of burglaries are reported to police over time.</strong></p>
<div class="cell page-columns page-full" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">comparison_df[<span class="st" style="color: #20794D;">'Proportion of Burglaries Reported'</span>] <span class="op" style="color: #5E5E5E;">=</span> comparison_df[<span class="st" style="color: #20794D;">'Police Reported'</span>] <span class="op" style="color: #5E5E5E;">/</span> comparison_df[<span class="st" style="color: #20794D;">'Crime Survey'</span>] <span class="op" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">100</span></span>
<span id="cb3-2"></span>
<span id="cb3-3">tidy_yearly <span class="op" style="color: #5E5E5E;">=</span> comparison_df[[<span class="st" style="color: #20794D;">'year'</span>,<span class="st" style="color: #20794D;">'Crime Survey'</span>,<span class="st" style="color: #20794D;">'Police Reported'</span>,<span class="st" style="color: #20794D;">'Proportion of Burglaries Reported'</span>]].melt(id_vars<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'year'</span>)</span>
<span id="cb3-4"></span>
<span id="cb3-5"></span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;"># Create figure with secondary y-axis</span></span>
<span id="cb3-7">fig <span class="op" style="color: #5E5E5E;">=</span> make_subplots(specs<span class="op" style="color: #5E5E5E;">=</span>[[{<span class="st" style="color: #20794D;">"secondary_y"</span>: <span class="va" style="color: #111111;">True</span>}]])</span>
<span id="cb3-8"></span>
<span id="cb3-9">csew_burglary <span class="op" style="color: #5E5E5E;">=</span> tidy_yearly[tidy_yearly[<span class="st" style="color: #20794D;">'variable'</span>] <span class="op" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'Crime Survey'</span>]</span>
<span id="cb3-10">police_burglary <span class="op" style="color: #5E5E5E;">=</span> tidy_yearly[tidy_yearly[<span class="st" style="color: #20794D;">'variable'</span>] <span class="op" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'Police Reported'</span>]</span>
<span id="cb3-11">reported_ratio <span class="op" style="color: #5E5E5E;">=</span> tidy_yearly[tidy_yearly[<span class="st" style="color: #20794D;">'variable'</span>] <span class="op" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'Proportion of Burglaries Reported'</span>]</span>
<span id="cb3-12"></span>
<span id="cb3-13"></span>
<span id="cb3-14"></span>
<span id="cb3-15">fig.add_trace(</span>
<span id="cb3-16">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>csew_burglary[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>csew_burglary[<span class="st" style="color: #20794D;">'value'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Crime Survey"</span>, line<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'red'</span>)),</span>
<span id="cb3-17">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>,</span>
<span id="cb3-18">)</span>
<span id="cb3-19"></span>
<span id="cb3-20">fig.add_trace(</span>
<span id="cb3-21">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>police_burglary[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>police_burglary[<span class="st" style="color: #20794D;">'value'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Police Reported"</span>, line<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'blue'</span>)),</span>
<span id="cb3-22">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>,</span>
<span id="cb3-23">)</span>
<span id="cb3-24"></span>
<span id="cb3-25">fig.add_trace(</span>
<span id="cb3-26">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>reported_ratio[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>reported_ratio[<span class="st" style="color: #20794D;">'value'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"% Reported"</span>, line<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'grey'</span>)),</span>
<span id="cb3-27">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>,</span>
<span id="cb3-28">)</span>
<span id="cb3-29"></span>
<span id="cb3-30"><span class="co" style="color: #5E5E5E;"># Add figure title</span></span>
<span id="cb3-31">fig.update_layout(</span>
<span id="cb3-32">    title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Crime Survey Burglaries per Year and Proportion Reported"</span>,</span>
<span id="cb3-33">    legend<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(</span>
<span id="cb3-34">    orientation<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"h"</span>,</span>
<span id="cb3-35">    yanchor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"bottom"</span>,</span>
<span id="cb3-36">        y<span class="op" style="color: #5E5E5E;">=-</span><span class="fl" style="color: #AD0000;">0.2</span>),</span>
<span id="cb3-37">)</span>
<span id="cb3-38"></span>
<span id="cb3-39"><span class="co" style="color: #5E5E5E;"># Set x-axis title</span></span>
<span id="cb3-40">fig.update_xaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Year"</span>)</span>
<span id="cb3-41"></span>
<span id="cb3-42"><span class="co" style="color: #5E5E5E;"># Set y-axes titles</span></span>
<span id="cb3-43">fig.update_yaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Burglaries"</span>, secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>, color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'black'</span>)</span>
<span id="cb3-44">fig.update_yaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Proportion of Burglaries Reported"</span>, secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>, showgrid<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>, color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'grey'</span>)</span>
<span id="cb3-45"></span>
<span id="cb3-46"></span>
<span id="cb3-47">fig.show()</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page">

<div>                            <div id="8f13f944-4924-4178-bc30-64043158f812" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8f13f944-4924-4178-bc30-64043158f812")) {                    Plotly.newPlot(                        "8f13f944-4924-4178-bc30-64043158f812",                        [{"line":{"color":"red"},"name":"Crime Survey","x":[2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[1423000.0,1357000.0,1310000.0,1059000.0,1025000.0,1006000.0,960000.0,992000.0,917000.0,1033000.0,922000.0,887000.0,781000.0,784000.0,697000.0,650000.0,691000.0,699000.0,582000.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"line":{"color":"blue"},"name":"Police Reported","x":[2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[437583.0,402345.0,321507.0,300517.0,292260.0,280696.0,284431.0,268606.0,258165.0,245312.0,227276.0,211988.0,196554.0,194700.0,206051.0,309867.0,295556.0,268715.0,196214.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"line":{"color":"grey"},"name":"% Reported","x":[2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[30.75073787772312,29.649594694178333,24.542519083969466,28.377431539187914,28.513170731707316,27.902186878727637,29.628229166666664,27.077217741935485,28.15321701199564,23.74753146176186,24.650325379609544,23.899436302142053,25.16696542893726,24.834183673469386,29.56255380200861,47.671846153846154,42.77221418234443,38.44277539341917,33.71374570446735],"type":"scatter","xaxis":"x","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"xaxis":{"anchor":"y","domain":[0.0,0.94],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Burglaries"},"color":"black"},"yaxis2":{"anchor":"x","overlaying":"y","side":"right","title":{"text":"Proportion of Burglaries Reported"},"showgrid":false,"color":"grey"},"title":{"text":"Crime Survey Burglaries per Year and Proportion Reported"},"legend":{"orientation":"h","yanchor":"bottom","y":-0.2}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('8f13f944-4924-4178-bc30-64043158f812');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>I’d once thought burglary reporting would be consistent - it’s an emotive crime, with a well established insurance industry - and yet we definitely see variation over time.</p>
<p>Notice that dramatic spike in 2015? That’s the aftermath of the 2014 police crime recording scandal, which led to police crime statistics <a href="https://www.theguardian.com/uk-news/2014/jan/15/police-crime-figures-status-claims-fiddling">losing their designation as a national statistic</a>, and accurate crime recording <a href="https://www.justiceinspectorates.gov.uk/hmicfrs/our-work/article/crime-data-integrity/crime-recording-process/">becoming a key metric for the policing regulator.</a> To dig into this issue in more depth, I’d really recommend this blog by <a href="https://www.police-foundation.org.uk/2018/03/crime-blame-police-crime-survey-england-wales-tells-us-police-crime-recording-practices-exposes-limitations/">Gavin Hales</a>.</p>
<p>What does this tell us about burglary in England &amp; Wales over the last decade though? Two things:</p>
<ol type="1">
<li><strong>Domestic Burglaries are probably rarer than ever</strong> (and that’s not down to COVID)</li>
<li>That’s <strong>not consistently reflected in police recorded crime</strong> - the likelihood of reporting seems to change over time</li>
</ol>
</section>
<section id="how-many-burglars-are-we-catching" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="how-many-burglars-are-we-catching">How Many Burglars are we Catching?</h2>
<p>So there aren’t many burglaries…so have we gotten better at catching the rest?</p>
<p>Well…we’re certainly not catching any more than we used to. Whether you use charges (eg, burglars being sent to court) or “detections” (eg, including cautions, fines and similar), there are far fewer, thought it looks like that trend started long before 2015.</p>
<div class="cell page-columns page-full" data-execution_count="4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">detections <span class="op" style="color: #5E5E5E;">=</span> pd.read_csv(<span class="st" style="color: #20794D;">'../data/interim/burglary_detections.csv'</span>,index_col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">0</span>)</span>
<span id="cb4-2">detections</span>
<span id="cb4-3"></span>
<span id="cb4-4">fig <span class="op" style="color: #5E5E5E;">=</span> px.line(detections, x<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'year'</span>, y<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'detections'</span>)</span>
<span id="cb4-5"></span>
<span id="cb4-6">fig.update_xaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Year"</span>)</span>
<span id="cb4-7"></span>
<span id="cb4-8"><span class="co" style="color: #5E5E5E;"># Set y-axes titles</span></span>
<span id="cb4-9">fig.update_yaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Police Detections"</span>, <span class="bu" style="color: null;">range</span><span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">0</span>,<span class="dv" style="color: #AD0000;">60000</span>])</span>
<span id="cb4-10"></span>
<span id="cb4-11"></span>
<span id="cb4-12">fig.update_layout(</span>
<span id="cb4-13">    title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Police Detections by Year"</span></span>
<span id="cb4-14">)</span>
<span id="cb4-15"></span>
<span id="cb4-16">fig.show()</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page">

<div>                            <div id="c81b0be6-719e-453c-a0c8-2263523ce7f7" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c81b0be6-719e-453c-a0c8-2263523ce7f7")) {                    Plotly.newPlot(                        "c81b0be6-719e-453c-a0c8-2263523ce7f7",                        [{"hovertemplate":"year=%{x}<br>detections=%{y}<extra></extra>","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"xaxis":"x","y":[48161.0,48868.0,44345.0,46481.0,42423.0,43907.0,39886.0,35801.0,32351.0,24124.0,17847.0,16286.0,17193.0,15619.0,13692.0,12244.0,9853.0],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Police Detections"},"range":[0,60000]},"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Police Detections by Year"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c81b0be6-719e-453c-a0c8-2263523ce7f7');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>That’s not hugely surprising: there are fewer burglars around to be caught. What’s perhaps more important is how many burglars we’re catching <strong>as a proportion of those remaining burglaries we know about</strong>.</p>
<p>I’ve visualised that below: on the left axis, all police reported burglaries (in blue), and how many lead to a positive outcome (in red), and on the right axis, the ratio of the two: an estimate of the proportion of police burglaries that are “solved”.</p>
<div class="cell page-columns page-full" data-execution_count="5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1">yearly_df <span class="op" style="color: #5E5E5E;">=</span> detections.merge(comparison_df, how<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'left'</span>, on<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'year'</span>)</span>
<span id="cb5-2">yearly_df[<span class="st" style="color: #20794D;">'detected_csew_ratio'</span>] <span class="op" style="color: #5E5E5E;">=</span> yearly_df[<span class="st" style="color: #20794D;">'detections'</span>] <span class="op" style="color: #5E5E5E;">/</span> yearly_df[<span class="st" style="color: #20794D;">'Crime Survey'</span>] <span class="op" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">100</span></span>
<span id="cb5-3">yearly_df[<span class="st" style="color: #20794D;">'detected_police_ratio'</span>] <span class="op" style="color: #5E5E5E;">=</span> yearly_df[<span class="st" style="color: #20794D;">'detections'</span>] <span class="op" style="color: #5E5E5E;">/</span> yearly_df[<span class="st" style="color: #20794D;">'Police Reported'</span>] <span class="op" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">100</span></span>
<span id="cb5-4"></span>
<span id="cb5-5"><span class="co" style="color: #5E5E5E;"># Create figure with secondary y-axis</span></span>
<span id="cb5-6">fig <span class="op" style="color: #5E5E5E;">=</span> make_subplots(specs<span class="op" style="color: #5E5E5E;">=</span>[[{<span class="st" style="color: #20794D;">"secondary_y"</span>: <span class="va" style="color: #111111;">True</span>}]])</span>
<span id="cb5-7"></span>
<span id="cb5-8">fig.add_trace(</span>
<span id="cb5-9">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'Police Reported'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Police Reported"</span>, fillcolor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'blue'</span>),</span>
<span id="cb5-10">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>,</span>
<span id="cb5-11">)</span>
<span id="cb5-12"></span>
<span id="cb5-13">fig.add_trace(</span>
<span id="cb5-14">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'detections'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Police Detections"</span>,  fillcolor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'red'</span>),</span>
<span id="cb5-15">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>,</span>
<span id="cb5-16">)</span>
<span id="cb5-17"></span>
<span id="cb5-18"></span>
<span id="cb5-19"></span>
<span id="cb5-20">fig.add_trace(</span>
<span id="cb5-21">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'detected_police_ratio'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Poportion of Police Reported Burglaries Detected"</span>, fillcolor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'green'</span>, visible<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>),</span>
<span id="cb5-22">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>,</span>
<span id="cb5-23">)</span>
<span id="cb5-24"></span>
<span id="cb5-25"></span>
<span id="cb5-26"><span class="co" style="color: #5E5E5E;"># Add figure title</span></span>
<span id="cb5-27">fig.update_layout(</span>
<span id="cb5-28">    title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Crime Survey Burglaries per Year and Proportion Reported"</span>,</span>
<span id="cb5-29">    legend<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(</span>
<span id="cb5-30">    orientation<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"h"</span>,</span>
<span id="cb5-31">    yanchor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"bottom"</span>,</span>
<span id="cb5-32">        y<span class="op" style="color: #5E5E5E;">=-</span><span class="fl" style="color: #AD0000;">0.2</span>),</span>
<span id="cb5-33">)</span>
<span id="cb5-34"></span>
<span id="cb5-35"><span class="co" style="color: #5E5E5E;"># Set x-axis title</span></span>
<span id="cb5-36">fig.update_xaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Year"</span>)</span>
<span id="cb5-37"></span>
<span id="cb5-38"><span class="co" style="color: #5E5E5E;"># Set y-axes titles</span></span>
<span id="cb5-39">fig.update_yaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Burglaries"</span>, secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>)</span>
<span id="cb5-40">fig.update_yaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Proportion of Burglaries Solved"</span>,<span class="bu" style="color: null;">range</span><span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">0</span>,<span class="dv" style="color: #AD0000;">20</span>], secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>, showgrid<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>, color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'green'</span>)</span>
<span id="cb5-41"></span>
<span id="cb5-42"></span>
<span id="cb5-43">fig.show()</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-screen">

<div>                            <div id="23e2e0ba-1011-465b-8fa9-9a6864709c63" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("23e2e0ba-1011-465b-8fa9-9a6864709c63")) {                    Plotly.newPlot(                        "23e2e0ba-1011-465b-8fa9-9a6864709c63",                        [{"fillcolor":"blue","name":"Police Reported","x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[300517.0,292260.0,280696.0,284431.0,268606.0,258165.0,245312.0,227276.0,211988.0,196554.0,194700.0,206051.0,309867.0,295556.0,268715.0,196214.0,null],"type":"scatter","xaxis":"x","yaxis":"y"},{"fillcolor":"red","name":"Police Detections","x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[48161.0,48868.0,44345.0,46481.0,42423.0,43907.0,39886.0,35801.0,32351.0,24124.0,17847.0,16286.0,17193.0,15619.0,13692.0,12244.0,9853.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"fillcolor":"green","name":"Poportion of Police Reported Burglaries Detected","visible":true,"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[16.026048443182912,16.72072811879833,15.798230113717333,16.34174896547845,15.79376484516355,17.007340266883585,16.259294286459692,15.75221316813038,15.260769477517597,12.273471921202315,9.166409861325116,7.903868459750256,5.548509521827107,5.2846161133592275,5.095361256349664,6.24012557717594,null],"type":"scatter","xaxis":"x","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"xaxis":{"anchor":"y","domain":[0.0,0.94],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Burglaries"}},"yaxis2":{"anchor":"x","overlaying":"y","side":"right","title":{"text":"Proportion of Burglaries Solved"},"range":[0,20],"showgrid":false,"color":"green"},"title":{"text":"Crime Survey Burglaries per Year and Proportion Reported"},"legend":{"orientation":"h","yanchor":"bottom","y":-0.2}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('23e2e0ba-1011-465b-8fa9-9a6864709c63');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>It doesn’t look good: performance drops sharply around the time we stopped attending all burglaries in 2015.</p>
<p>Of course, plenty of other things happened in 2015: for instance, we know there was a radical shift in recording standards, where police recorded and invesigated thousands of burglaries which they would have previously not been aware of. So how do we measure how police performance changed irrespective of those recording changes? We can replicate that chart, but instead of using police recorded burglaries, we use <em>all</em> burglaries, as reported by the Crime Survey. rather than just police reported burglaries.</p>
<p>The below chart does exactly that - click on each of the buttons to see how the baseline figure affects perceived investigatory performance.</p>
<div class="cell page-columns page-full" data-execution_count="6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="co" style="color: #5E5E5E;"># Create figure with secondary y-axis</span></span>
<span id="cb6-2">fig <span class="op" style="color: #5E5E5E;">=</span> make_subplots(specs<span class="op" style="color: #5E5E5E;">=</span>[[{<span class="st" style="color: #20794D;">"secondary_y"</span>: <span class="va" style="color: #111111;">True</span>}]])</span>
<span id="cb6-3"></span>
<span id="cb6-4"></span>
<span id="cb6-5">fig.add_trace(</span>
<span id="cb6-6">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'Police Reported'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Police Reported"</span>, fillcolor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'blue'</span>),</span>
<span id="cb6-7">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>,</span>
<span id="cb6-8">)</span>
<span id="cb6-9">fig.add_trace(</span>
<span id="cb6-10">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'detections'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Police Detections"</span>, fillcolor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'red'</span>),</span>
<span id="cb6-11">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>,</span>
<span id="cb6-12">)</span>
<span id="cb6-13"></span>
<span id="cb6-14"></span>
<span id="cb6-15"></span>
<span id="cb6-16">fig.add_trace(</span>
<span id="cb6-17">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'detected_police_ratio'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Poportion of Police Reported Burglaries Detected"</span>, fillcolor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'green'</span>, visible<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>),</span>
<span id="cb6-18">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>,</span>
<span id="cb6-19">)</span>
<span id="cb6-20"></span>
<span id="cb6-21">fig.add_trace(</span>
<span id="cb6-22">    go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'year'</span>], y<span class="op" style="color: #5E5E5E;">=</span>yearly_df[<span class="st" style="color: #20794D;">'detected_csew_ratio'</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Poportion of Crime Survey Burglaries Detected"</span>, fillcolor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'black'</span>, visible<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>),</span>
<span id="cb6-23">    secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>,</span>
<span id="cb6-24">)</span>
<span id="cb6-25"></span>
<span id="cb6-26"><span class="co" style="color: #5E5E5E;"># Add figure title</span></span>
<span id="cb6-27">fig.update_layout(</span>
<span id="cb6-28">    title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Crime Survey Burglaries per Year and Proportion Reported"</span></span>
<span id="cb6-29">)</span>
<span id="cb6-30"></span>
<span id="cb6-31"><span class="co" style="color: #5E5E5E;"># Set x-axis title</span></span>
<span id="cb6-32">fig.update_xaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Year"</span>)</span>
<span id="cb6-33"></span>
<span id="cb6-34"><span class="co" style="color: #5E5E5E;"># Set y-axes titles</span></span>
<span id="cb6-35">fig.update_yaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Burglaries"</span>, secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>)</span>
<span id="cb6-36">fig.update_yaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Proportion of Burglaries Solved"</span>,<span class="bu" style="color: null;">range</span><span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">0</span>,<span class="dv" style="color: #AD0000;">20</span>], secondary_y<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>, showgrid<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>, color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'green'</span>)</span>
<span id="cb6-37"></span>
<span id="cb6-38"></span>
<span id="cb6-39">fig.update_layout(</span>
<span id="cb6-40">    legend<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(</span>
<span id="cb6-41">    orientation<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"h"</span>,</span>
<span id="cb6-42">    yanchor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"bottom"</span>,</span>
<span id="cb6-43">        y<span class="op" style="color: #5E5E5E;">=-</span><span class="fl" style="color: #AD0000;">0.2</span>),</span>
<span id="cb6-44">    updatemenus<span class="op" style="color: #5E5E5E;">=</span>[</span>
<span id="cb6-45">        <span class="bu" style="color: null;">dict</span>(</span>
<span id="cb6-46">            <span class="bu" style="color: null;">type</span><span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"buttons"</span>,</span>
<span id="cb6-47">            direction<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"right"</span>,</span>
<span id="cb6-48">            active<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb6-49">            x<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>,</span>
<span id="cb6-50">            y<span class="op" style="color: #5E5E5E;">=</span><span class="fl" style="color: #AD0000;">1.2</span>,</span>
<span id="cb6-51">            bgcolor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'grey'</span>,</span>
<span id="cb6-52">            bordercolor<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'white'</span>,</span>
<span id="cb6-53">            font<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'white'</span>),</span>
<span id="cb6-54">            showactive<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>,</span>
<span id="cb6-55">            buttons<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">list</span>([</span>
<span id="cb6-56">                <span class="bu" style="color: null;">dict</span>(label<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"As Proportion of Police Reported"</span>,</span>
<span id="cb6-57">                     method<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"update"</span>,</span>
<span id="cb6-58">                     args<span class="op" style="color: #5E5E5E;">=</span>[{<span class="st" style="color: #20794D;">"visible"</span>: [<span class="va" style="color: #111111;">True</span>, <span class="va" style="color: #111111;">True</span>, <span class="va" style="color: #111111;">True</span>,<span class="va" style="color: #111111;">False</span>]}]),</span>
<span id="cb6-59">                <span class="bu" style="color: null;">dict</span>(label<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"As Proportion of all Burglaries"</span>,</span>
<span id="cb6-60">                     method<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"update"</span>,</span>
<span id="cb6-61">                     args<span class="op" style="color: #5E5E5E;">=</span>[{<span class="st" style="color: #20794D;">"visible"</span>: [<span class="va" style="color: #111111;">True</span>, <span class="va" style="color: #111111;">True</span>, <span class="va" style="color: #111111;">False</span>,<span class="va" style="color: #111111;">True</span>]}])</span>
<span id="cb6-62">            ]),</span>
<span id="cb6-63">        )</span>
<span id="cb6-64">    ])</span>
<span id="cb6-65"></span>
<span id="cb6-66">fig.show()</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-screen">

<div>                            <div id="d4ab2760-26eb-4dd8-918e-e017989fcec0" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d4ab2760-26eb-4dd8-918e-e017989fcec0")) {                    Plotly.newPlot(                        "d4ab2760-26eb-4dd8-918e-e017989fcec0",                        [{"fillcolor":"blue","name":"Police Reported","x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[300517.0,292260.0,280696.0,284431.0,268606.0,258165.0,245312.0,227276.0,211988.0,196554.0,194700.0,206051.0,309867.0,295556.0,268715.0,196214.0,null],"type":"scatter","xaxis":"x","yaxis":"y"},{"fillcolor":"red","name":"Police Detections","x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[48161.0,48868.0,44345.0,46481.0,42423.0,43907.0,39886.0,35801.0,32351.0,24124.0,17847.0,16286.0,17193.0,15619.0,13692.0,12244.0,9853.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"fillcolor":"green","name":"Poportion of Police Reported Burglaries Detected","visible":false,"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[16.026048443182912,16.72072811879833,15.798230113717333,16.34174896547845,15.79376484516355,17.007340266883585,16.259294286459692,15.75221316813038,15.260769477517597,12.273471921202315,9.166409861325116,7.903868459750256,5.548509521827107,5.2846161133592275,5.095361256349664,6.24012557717594,null],"type":"scatter","xaxis":"x","yaxis":"y2"},{"fillcolor":"black","name":"Poportion of Crime Survey Burglaries Detected","visible":false,"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[4.547780925401322,4.767609756097561,4.408051689860835,4.841770833333333,4.276512096774194,4.788113413304253,3.8611810261374635,3.8829718004338396,3.6472378804960544,3.0888604353393085,2.2764030612244897,2.3365853658536584,2.645076923076923,2.2603473227206945,1.9587982832618027,2.1037800687285224,null],"type":"scatter","xaxis":"x","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"xaxis":{"anchor":"y","domain":[0.0,0.94],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Burglaries"}},"yaxis2":{"anchor":"x","overlaying":"y","side":"right","title":{"text":"Proportion of Burglaries Solved"},"range":[0,20],"showgrid":false,"color":"green"},"title":{"text":"Crime Survey Burglaries per Year and Proportion Reported"},"legend":{"orientation":"h","yanchor":"bottom","y":-0.2},"updatemenus":[{"active":0,"bgcolor":"grey","bordercolor":"white","buttons":[{"args":[{"visible":[true,true,true,false]}],"label":"As Proportion of Police Reported","method":"update"},{"args":[{"visible":[true,true,false,true]}],"label":"As Proportion of all Burglaries","method":"update"}],"direction":"right","font":{"color":"white"},"showactive":false,"type":"buttons","x":1,"y":1.2}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d4ab2760-26eb-4dd8-918e-e017989fcec0');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Suddenly that sharp drop in 2015 is a lot less convincing. Looking at all burglaries - rather than just those reported to police - the proportion being solved has been going down, but <strong>that started happening long before 2015</strong>. Around 5% of all burglaries in the crime survey were “solved” in 2010, but by 2015, that had already dropped to around 2.5%, compared to just over 2% in 2020.</p>
<p>What’s the lesson here? The perception of a recent, short term drop in police investigative performance are somewhat overstated. Yes, policing is catching fewer burglars than ever, but burglaries are rarer than ever - those that remain are less likely to be caught than they used to be, but that’s a trend that started long before 2015 (it might even have started as early as 2008).</p>
<p>What explains that trend? We really don’t know. It’s possible that those few remaining burglars are the most persistent and sophisiticated: maybe opportunistic drug users desperate for a fix who were willing to smash your front window in a decade ago have been replaced by professional teams who will do a whole set of flats in minutes. <strong>We can’t really tell with the data we’ve got here, but it’s probably not as simple as policing just not trying hard enough.</strong></p>
</section>
<section id="will-mandatory-attendance-help" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="will-mandatory-attendance-help">Will Mandatory Attendance Help?</h2>
<p>Given the above, will mandatory attendance actually reduce burglary? As far as I can tell, nobody has properly checked. <a href="https://t.co/jTkytsD1HX">The Telegraph suggests that burglaries “could fall by 60pc if officers visited every victim”</a>, but given nobody has really rigorously tested the impact of burglary attendance, I’m not totally convinced. Leicestershire <a href="https://www.bbc.co.uk/news/uk-england-leicestershire-33788264">attempted to conduct a randomised control trial in 2015, but following press uproar the whole thing was shelved</a>.</p>
<p>There is some good research that suggests it will make <em>some</em> difference: <a href="https://policinginsight.com/features/analysis/double-crewing-and-faster-response-times-are-key-to-cutting-crime-and-costs-while-improving-service/">rapid attendance to crimes probably does help solve them</a>, and <a href="https://academic.oup.com/policing/article-abstract/15/2/832/5359499">finding a suspect is the most effective way of solving a burglary</a>. If we randomly assigned some burglaries to be attended, and some to not, those we did attend would be solved more often.</p>
<p>That’s different to mandatory attendance though: where even if the responding officer thinks there isn’t any point (for example, if the burglary was many months ago, or very unlikely to be solved following a phone report), they’ll attend anyway. So how have some reporters calculcated that policy could <a href="https://www.dailymail.co.uk/news/article-10392721/Sending-police-officers-burglaries-cuts-number-offences-half-forces-find.html">cut the number of offences by half?</a></p>
<p>Unhelpfully, the researchers for the <a href="https://www.dailymail.co.uk/news/article-10392721/Sending-police-officers-burglaries-cuts-number-offences-half-forces-find.html">Mail</a> and the <a href="https://www.telegraph.co.uk/news/2022/10/05/burglaries-could-fall-60pc-officers-visited-every-victim/">Telegraph</a> haven’t been very open with sharing their methodology, but it looks like they’ve looked at those forces who already have a mandatory attendance policy, and tried to predict what would happen if that had been expanded nationally.</p>
<p>Three forces in particular are repeatedly mentioned as having introduced mandatory attendance prior to the NPCC mandate:</p>
<ol type="1">
<li><a href="https://www.northants.police.uk/news/northants/news/news/2022/april/burglaries-in-northamptonshire-reduce-by-more-than-half-as-burglary-team-turns-three-years-old/">Northamptonshire since April 2019</a>, though it’s worth noting these are dedicated burglary teams rather than attendance in isolation</li>
<li><a href="https://www.itv.com/news/anglia/2022-01-14/bedfordshire-burglaries-halve-thanks-to-new-police-task-force">Bedfordshire Police</a> using the codename “Operation Maze”, though again, it seems paired with dedicated burglary teams, and may in fact be attendance by forensics staff rather than police offiers. The <a href="https://twitter.com/bedspolice/status/1231927872035618817">earliest records are in early 2020</a> but it’s not clear at all this involves any mandatory attendance, rather than just increased resourcing.</li>
<li><a href="https://www.manchestereveningnews.co.uk/news/greater-manchester-news/police-to-attend-all-burglaries-25180398">Greater Manchester Police</a> since <a href="https://www.gmp.police.uk/news/greater-manchester/news/news/2022/october/15-months-committed-to-attending-every-burglary/">July 2021</a></li>
</ol>
<p>The key question then is <strong>did the introduction of mandatory attendance in these three forces make any difference to burglary investigations?</strong></p>
<p>To do that, we’ll calculate: - What was the detection rate for burglary in all forces? - How did the detection rate change after the introduction of mandatory attendance? - How did other, similar forces fare during the same period?</p>
<p>There are real limitations to doing this with public data: we are limited to quarter by quarter analysis, and we don’t actually know exactly when these policies started (or, for that matter, exactly what they include) or who else might have been doing something similar, but we can still try and identify what performance boost (if any) mandatory attendance made for these forces.</p>
<div class="cell page-columns page-full" data-execution_count="7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1">theft_df <span class="op" style="color: #5E5E5E;">=</span> pd.read_excel(<span class="st" style="color: #20794D;">"../data/external/burglary_outcomes_combined.ods"</span>, engine<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"odf"</span>)</span>
<span id="cb7-2">qs <span class="op" style="color: #5E5E5E;">=</span> theft_df[<span class="st" style="color: #20794D;">'Financial year'</span>].<span class="bu" style="color: null;">str</span>.<span class="bu" style="color: null;">slice</span>(<span class="dv" style="color: #AD0000;">0</span>,<span class="dv" style="color: #AD0000;">4</span>) <span class="op" style="color: #5E5E5E;">+</span> <span class="st" style="color: #20794D;">"-Q"</span> <span class="op" style="color: #5E5E5E;">+</span> theft_df[<span class="st" style="color: #20794D;">'Financial quarter'</span>].astype(<span class="st" style="color: #20794D;">'str'</span>)</span>
<span id="cb7-3"></span>
<span id="cb7-4">theft_df[<span class="st" style="color: #20794D;">'date'</span>] <span class="op" style="color: #5E5E5E;">=</span> pd.PeriodIndex(qs, freq<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'Q'</span>).to_timestamp()</span>
<span id="cb7-5">theft_df <span class="op" style="color: #5E5E5E;">=</span> theft_df.sort_values(by<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'date'</span>,ascending<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>)</span>
<span id="cb7-6"></span>
<span id="cb7-7">burglary_df <span class="op" style="color: #5E5E5E;">=</span> theft_df[theft_df[<span class="st" style="color: #20794D;">'Offence Subgroup'</span>] <span class="op" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'Domestic burglary'</span>].rename(columns<span class="op" style="color: #5E5E5E;">=</span>{<span class="st" style="color: #20794D;">'Force Name'</span>:<span class="st" style="color: #20794D;">'Force'</span>})</span>
<span id="cb7-8">burglary_df[<span class="st" style="color: #20794D;">'Force'</span>] <span class="op" style="color: #5E5E5E;">=</span> burglary_df[<span class="st" style="color: #20794D;">'Force'</span>].astype(<span class="st" style="color: #20794D;">'string'</span>)</span>
<span id="cb7-9">burglary_df</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page" data-execution_count="7">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Financial year</th>
      <th>Financial quarter</th>
      <th>Force</th>
      <th>Offence Description</th>
      <th>Offence Group</th>
      <th>Offence Subgroup</th>
      <th>Offence Code</th>
      <th>Offence code expired</th>
      <th>Outcome Description</th>
      <th>Outcome Group</th>
      <th>Outcome Type</th>
      <th>Force outcomes for offences recorded in quarter</th>
      <th>Force outcomes recorded in quarter</th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>160811</th>
      <td>2021/22</td>
      <td>4</td>
      <td>British Transport Police</td>
      <td>Attempted Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28F</td>
      <td>NaN</td>
      <td>Community Resolution</td>
      <td>Out-of-court (informal)</td>
      <td>8</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2021-10-01</td>
    </tr>
    <tr>
      <th>164083</th>
      <td>2021/22</td>
      <td>4</td>
      <td>Hampshire</td>
      <td>Attempted Distraction Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28H</td>
      <td>NaN</td>
      <td>Taken into consideration</td>
      <td>Taken into consideration</td>
      <td>4</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2021-10-01</td>
    </tr>
    <tr>
      <th>164081</th>
      <td>2021/22</td>
      <td>4</td>
      <td>Hampshire</td>
      <td>Attempted Distraction Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28H</td>
      <td>NaN</td>
      <td>Diversionary, educational or intervention acti...</td>
      <td>Diversionary, educational or intervention acti...</td>
      <td>22</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2021-10-01</td>
    </tr>
    <tr>
      <th>164080</th>
      <td>2021/22</td>
      <td>4</td>
      <td>Hampshire</td>
      <td>Attempted Distraction Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28H</td>
      <td>NaN</td>
      <td>Further investigation to support formal action...</td>
      <td>Further investigation to support formal action...</td>
      <td>21</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2021-10-01</td>
    </tr>
    <tr>
      <th>164079</th>
      <td>2021/22</td>
      <td>4</td>
      <td>Hampshire</td>
      <td>Attempted Distraction Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28H</td>
      <td>NaN</td>
      <td>Responsibility for further investigation trans...</td>
      <td>Responsibility for further investigation trans...</td>
      <td>20</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2021-10-01</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>49689</th>
      <td>2017/18</td>
      <td>1</td>
      <td>Northamptonshire</td>
      <td>Attempted Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28F</td>
      <td>NaN</td>
      <td>Further investigation to support formal action...</td>
      <td>Further investigation to support formal action...</td>
      <td>21</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>2017-01-01</td>
    </tr>
    <tr>
      <th>49688</th>
      <td>2017/18</td>
      <td>1</td>
      <td>Northamptonshire</td>
      <td>Attempted Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28F</td>
      <td>NaN</td>
      <td>Responsibility for further investigation trans...</td>
      <td>Responsibility for further investigation trans...</td>
      <td>20</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2017-01-01</td>
    </tr>
    <tr>
      <th>49687</th>
      <td>2017/18</td>
      <td>1</td>
      <td>Northamptonshire</td>
      <td>Attempted Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28F</td>
      <td>NaN</td>
      <td>Caution – youths</td>
      <td>Out-of-court (formal)</td>
      <td>2</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2017-01-01</td>
    </tr>
    <tr>
      <th>49686</th>
      <td>2017/18</td>
      <td>1</td>
      <td>Northamptonshire</td>
      <td>Attempted Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28F</td>
      <td>NaN</td>
      <td>Investigation complete – no suspect identified</td>
      <td>Investigation complete – no suspect identified</td>
      <td>18</td>
      <td>114.0</td>
      <td>104.0</td>
      <td>2017-01-01</td>
    </tr>
    <tr>
      <th>50576</th>
      <td>2017/18</td>
      <td>1</td>
      <td>South Wales</td>
      <td>Distraction Burglary Residential</td>
      <td>Theft offences</td>
      <td>Domestic burglary</td>
      <td>28G</td>
      <td>NaN</td>
      <td>Community Resolution</td>
      <td>Out-of-court (informal)</td>
      <td>8</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2017-01-01</td>
    </tr>
  </tbody>
</table>
<p>212960 rows × 14 columns</p>
</div>
</div>
</div>
<p>Given we’re looking at quarterly data, we’ll generate two temporal variables for our data:</p>
<ol type="1">
<li>A running variable (running_var), which measures the number of quarters that have passed since the start of our dataset</li>
<li>A quarter “categorical variable”, checking to see if there is any specific trend for burglary detection whether you’re in quarter 1, 2, 3 or 4</li>
</ol>
<div class="cell" data-execution_count="8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"></span>
<span id="cb8-2">time_series <span class="op" style="color: #5E5E5E;">=</span> theft_df[[<span class="st" style="color: #20794D;">'date'</span>,<span class="st" style="color: #20794D;">'Financial quarter'</span>]].drop_duplicates().sort_values(by<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">'date'</span>]).reset_index(drop<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>).reset_index().rename(columns<span class="op" style="color: #5E5E5E;">=</span>{<span class="st" style="color: #20794D;">'index'</span>:<span class="st" style="color: #20794D;">'running_var'</span>})</span>
<span id="cb8-3">time_series[<span class="st" style="color: #20794D;">'quarter'</span>] <span class="op" style="color: #5E5E5E;">=</span> time_series[<span class="st" style="color: #20794D;">'Financial quarter'</span>].astype(<span class="st" style="color: #20794D;">'string'</span>)</span>
<span id="cb8-4">time_series <span class="op" style="color: #5E5E5E;">=</span> time_series.drop(columns<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">'Financial quarter'</span>])</span>
<span id="cb8-5">time_series</span></code></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="8">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>running_var</th>
      <th>date</th>
      <th>quarter</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>2017-01-01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>2017-04-01</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>2017-07-01</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>2017-10-01</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>2018-01-01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5</td>
      <td>2018-04-01</td>
      <td>2</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6</td>
      <td>2018-07-01</td>
      <td>3</td>
    </tr>
    <tr>
      <th>7</th>
      <td>7</td>
      <td>2018-10-01</td>
      <td>4</td>
    </tr>
    <tr>
      <th>8</th>
      <td>8</td>
      <td>2019-01-01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>9</td>
      <td>2019-04-01</td>
      <td>2</td>
    </tr>
    <tr>
      <th>10</th>
      <td>10</td>
      <td>2019-07-01</td>
      <td>3</td>
    </tr>
    <tr>
      <th>11</th>
      <td>11</td>
      <td>2019-10-01</td>
      <td>4</td>
    </tr>
    <tr>
      <th>12</th>
      <td>12</td>
      <td>2020-01-01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>13</th>
      <td>13</td>
      <td>2020-04-01</td>
      <td>2</td>
    </tr>
    <tr>
      <th>14</th>
      <td>14</td>
      <td>2020-07-01</td>
      <td>3</td>
    </tr>
    <tr>
      <th>15</th>
      <td>15</td>
      <td>2020-10-01</td>
      <td>4</td>
    </tr>
    <tr>
      <th>16</th>
      <td>16</td>
      <td>2021-01-01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>17</th>
      <td>17</td>
      <td>2021-04-01</td>
      <td>2</td>
    </tr>
    <tr>
      <th>18</th>
      <td>18</td>
      <td>2021-07-01</td>
      <td>3</td>
    </tr>
    <tr>
      <th>19</th>
      <td>19</td>
      <td>2021-10-01</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>For each force, we then have a count of burglaries, and a ratio of how many solved burglaries (eg, burglary investigations where a burglary is identified and dealt with by police) we have that quarter.</p>
<div class="cell page-columns page-full" data-execution_count="9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1">total_q_offences <span class="op" style="color: #5E5E5E;">=</span> burglary_df[[<span class="st" style="color: #20794D;">'date'</span>,<span class="st" style="color: #20794D;">'Force'</span>,<span class="st" style="color: #20794D;">'Force outcomes for offences recorded in quarter'</span>]].groupby([<span class="st" style="color: #20794D;">'date'</span>,<span class="st" style="color: #20794D;">'Force'</span>]).<span class="bu" style="color: null;">sum</span>().reset_index()</span>
<span id="cb9-2">total_q_offences[<span class="st" style="color: #20794D;">'total_offences'</span>] <span class="op" style="color: #5E5E5E;">=</span> pd.to_numeric(total_q_offences[<span class="st" style="color: #20794D;">'Force outcomes for offences recorded in quarter'</span>],errors<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'coerce'</span>)</span>
<span id="cb9-3"></span>
<span id="cb9-4">positive_outcomes <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">'Taken into consideration'</span>,</span>
<span id="cb9-5"> <span class="st" style="color: #20794D;">'Charged/Summonsed'</span>,</span>
<span id="cb9-6"> <span class="st" style="color: #20794D;">'Community Resolution'</span>,</span>
<span id="cb9-7"> <span class="st" style="color: #20794D;">'Cannabis/Khat Warning'</span>,</span>
<span id="cb9-8"> <span class="st" style="color: #20794D;">'Penalty Notices for Disorder'</span>,</span>
<span id="cb9-9"> <span class="st" style="color: #20794D;">'Caution – adults'</span>,</span>
<span id="cb9-10"> <span class="st" style="color: #20794D;">'Diversionary, educational or intervention activity, resulting from the crime report, has been undertaken and it is not in the public interest to take any further action.'</span>,</span>
<span id="cb9-11"> <span class="st" style="color: #20794D;">'Caution – youths'</span>]</span>
<span id="cb9-12"></span>
<span id="cb9-13">burglary_df[<span class="st" style="color: #20794D;">'is_detected'</span>] <span class="op" style="color: #5E5E5E;">=</span> burglary_df[<span class="st" style="color: #20794D;">'Outcome Description'</span>].isin(positive_outcomes)</span>
<span id="cb9-14"></span>
<span id="cb9-15">positive_burglary_df <span class="op" style="color: #5E5E5E;">=</span> burglary_df[burglary_df[<span class="st" style="color: #20794D;">'is_detected'</span>]]</span>
<span id="cb9-16"></span>
<span id="cb9-17">total_detected_offences <span class="op" style="color: #5E5E5E;">=</span> positive_burglary_df[[<span class="st" style="color: #20794D;">'date'</span>,<span class="st" style="color: #20794D;">'Force'</span>,<span class="st" style="color: #20794D;">'Force outcomes for offences recorded in quarter'</span>]].groupby([<span class="st" style="color: #20794D;">'date'</span>,<span class="st" style="color: #20794D;">'Force'</span>]).<span class="bu" style="color: null;">sum</span>().reset_index()</span>
<span id="cb9-18">total_detected_offences[<span class="st" style="color: #20794D;">'total_detected'</span>] <span class="op" style="color: #5E5E5E;">=</span> pd.to_numeric(total_detected_offences[<span class="st" style="color: #20794D;">'Force outcomes for offences recorded in quarter'</span>],errors<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'coerce'</span>)</span>
<span id="cb9-19"></span>
<span id="cb9-20">force_comparison <span class="op" style="color: #5E5E5E;">=</span> total_q_offences[[<span class="st" style="color: #20794D;">'date'</span>,<span class="st" style="color: #20794D;">'Force'</span>,<span class="st" style="color: #20794D;">'total_offences'</span>]].merge(total_detected_offences, how<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'left'</span>,on<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">'date'</span>,<span class="st" style="color: #20794D;">'Force'</span>]).drop(columns<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">'Force outcomes for offences recorded in quarter'</span>])</span>
<span id="cb9-21">force_comparison[<span class="st" style="color: #20794D;">'detected_rate'</span>] <span class="op" style="color: #5E5E5E;">=</span> force_comparison[<span class="st" style="color: #20794D;">'total_detected'</span>] <span class="op" style="color: #5E5E5E;">/</span> force_comparison[<span class="st" style="color: #20794D;">'total_offences'</span>]</span>
<span id="cb9-22">force_comparison[<span class="st" style="color: #20794D;">'detected_rate'</span>]  <span class="op" style="color: #5E5E5E;">=</span> force_comparison[<span class="st" style="color: #20794D;">'detected_rate'</span>].fillna(<span class="dv" style="color: #AD0000;">0</span>)</span>
<span id="cb9-23">force_comparison</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page" data-execution_count="9">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>date</th>
      <th>Force</th>
      <th>total_offences</th>
      <th>total_detected</th>
      <th>detected_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2017-01-01</td>
      <td>Avon and Somerset</td>
      <td>2151.0</td>
      <td>112.0</td>
      <td>0.052069</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2017-01-01</td>
      <td>Bedfordshire</td>
      <td>1142.0</td>
      <td>120.0</td>
      <td>0.105079</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2017-01-01</td>
      <td>British Transport Police</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2017-01-01</td>
      <td>Cambridgeshire</td>
      <td>1109.0</td>
      <td>99.0</td>
      <td>0.089270</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2017-01-01</td>
      <td>Cheshire</td>
      <td>790.0</td>
      <td>80.0</td>
      <td>0.101266</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>875</th>
      <td>2021-10-01</td>
      <td>Warwickshire</td>
      <td>376.0</td>
      <td>8.0</td>
      <td>0.021277</td>
    </tr>
    <tr>
      <th>876</th>
      <td>2021-10-01</td>
      <td>West Mercia</td>
      <td>857.0</td>
      <td>8.0</td>
      <td>0.009335</td>
    </tr>
    <tr>
      <th>877</th>
      <td>2021-10-01</td>
      <td>West Midlands</td>
      <td>4061.0</td>
      <td>93.0</td>
      <td>0.022901</td>
    </tr>
    <tr>
      <th>878</th>
      <td>2021-10-01</td>
      <td>West Yorkshire</td>
      <td>2406.0</td>
      <td>81.0</td>
      <td>0.033666</td>
    </tr>
    <tr>
      <th>879</th>
      <td>2021-10-01</td>
      <td>Wiltshire</td>
      <td>265.0</td>
      <td>8.0</td>
      <td>0.030189</td>
    </tr>
  </tbody>
</table>
<p>880 rows × 5 columns</p>
</div>
</div>
</div>
<p>Now, we identify our “treated” forces, and the period in which the policy was in place. This isn’t exactly clean, but based on the newspaper articles and press releases, I’ve picked out:</p>
<ul>
<li>Bedfordshire from 2020 onwards</li>
<li>GMP from July 2021 onwards</li>
<li>Northamptonshire from April 2019 onwards</li>
<li>and of course, nationwide from October 2022</li>
</ul>
<p>With those dates, we’ll then build our completed dataset of quarter by quarter burglary detection rates, for each force, and whether or not a mandatory attendance policy was in place in that force/quarter.</p>
<div class="cell page-columns page-full" data-execution_count="10">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1">northamptonshire <span class="op" style="color: #5E5E5E;">=</span> (force_comparison[<span class="st" style="color: #20794D;">'Force'</span>].<span class="bu" style="color: null;">str</span>.contains(<span class="st" style="color: #20794D;">'Northamptonshire'</span>)) <span class="op" style="color: #5E5E5E;">&amp;</span> (force_comparison[<span class="st" style="color: #20794D;">'date'</span>] <span class="op" style="color: #5E5E5E;">&gt;=</span> <span class="st" style="color: #20794D;">'2019-04-01'</span>)</span>
<span id="cb10-2">bedfordshire <span class="op" style="color: #5E5E5E;">=</span> (force_comparison[<span class="st" style="color: #20794D;">'Force'</span>].<span class="bu" style="color: null;">str</span>.contains(<span class="st" style="color: #20794D;">'Bedfordshire'</span>)) <span class="op" style="color: #5E5E5E;">&amp;</span> (force_comparison[<span class="st" style="color: #20794D;">'date'</span>] <span class="op" style="color: #5E5E5E;">&gt;=</span> <span class="st" style="color: #20794D;">'2020-01-01'</span>)</span>
<span id="cb10-3">manchester <span class="op" style="color: #5E5E5E;">=</span> (force_comparison[<span class="st" style="color: #20794D;">'Force'</span>].<span class="bu" style="color: null;">str</span>.contains(<span class="st" style="color: #20794D;">'Manchester'</span>)) <span class="op" style="color: #5E5E5E;">&amp;</span> (force_comparison[<span class="st" style="color: #20794D;">'date'</span>] <span class="op" style="color: #5E5E5E;">&gt;=</span> <span class="st" style="color: #20794D;">'2020-07-01'</span>)</span>
<span id="cb10-4">everyone <span class="op" style="color: #5E5E5E;">=</span> (force_comparison[<span class="st" style="color: #20794D;">'date'</span>] <span class="op" style="color: #5E5E5E;">&gt;=</span> <span class="st" style="color: #20794D;">'2022-10-01'</span>)</span>
<span id="cb10-5"></span>
<span id="cb10-6"></span>
<span id="cb10-7">force_comparison[<span class="st" style="color: #20794D;">'mandatory_attendance'</span>] <span class="op" style="color: #5E5E5E;">=</span> northamptonshire <span class="op" style="color: #5E5E5E;">|</span> bedfordshire <span class="op" style="color: #5E5E5E;">|</span> manchester <span class="op" style="color: #5E5E5E;">|</span> everyone</span>
<span id="cb10-8">force_comparison</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page" data-execution_count="10">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>date</th>
      <th>Force</th>
      <th>total_offences</th>
      <th>total_detected</th>
      <th>detected_rate</th>
      <th>mandatory_attendance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2017-01-01</td>
      <td>Avon and Somerset</td>
      <td>2151.0</td>
      <td>112.0</td>
      <td>0.052069</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2017-01-01</td>
      <td>Bedfordshire</td>
      <td>1142.0</td>
      <td>120.0</td>
      <td>0.105079</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2017-01-01</td>
      <td>British Transport Police</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2017-01-01</td>
      <td>Cambridgeshire</td>
      <td>1109.0</td>
      <td>99.0</td>
      <td>0.089270</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2017-01-01</td>
      <td>Cheshire</td>
      <td>790.0</td>
      <td>80.0</td>
      <td>0.101266</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>875</th>
      <td>2021-10-01</td>
      <td>Warwickshire</td>
      <td>376.0</td>
      <td>8.0</td>
      <td>0.021277</td>
      <td>False</td>
    </tr>
    <tr>
      <th>876</th>
      <td>2021-10-01</td>
      <td>West Mercia</td>
      <td>857.0</td>
      <td>8.0</td>
      <td>0.009335</td>
      <td>False</td>
    </tr>
    <tr>
      <th>877</th>
      <td>2021-10-01</td>
      <td>West Midlands</td>
      <td>4061.0</td>
      <td>93.0</td>
      <td>0.022901</td>
      <td>False</td>
    </tr>
    <tr>
      <th>878</th>
      <td>2021-10-01</td>
      <td>West Yorkshire</td>
      <td>2406.0</td>
      <td>81.0</td>
      <td>0.033666</td>
      <td>False</td>
    </tr>
    <tr>
      <th>879</th>
      <td>2021-10-01</td>
      <td>Wiltshire</td>
      <td>265.0</td>
      <td>8.0</td>
      <td>0.030189</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>880 rows × 6 columns</p>
</div>
</div>
</div>
<p>One limitation of working by quarters is that we’re quite limited in numbers! Good inference in statistical modelling relies on detecting “variance” - eg, having enough data to identify both our effect, and general background levels, and separating out the two. Given GMP has only been running for 6 quarters, we’ll focus on the other two forces for this analysis.</p>
<div class="cell" data-execution_count="11">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1">force_comparison[[<span class="st" style="color: #20794D;">'Force'</span>,<span class="st" style="color: #20794D;">'mandatory_attendance'</span>]].groupby(<span class="st" style="color: #20794D;">'Force'</span>).<span class="bu" style="color: null;">sum</span>().sort_values(by<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'mandatory_attendance'</span>, ascending<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>).rename(columns<span class="op" style="color: #5E5E5E;">=</span>{<span class="st" style="color: #20794D;">"mandatory_attendance"</span>:<span class="st" style="color: #20794D;">'Quarters of Mandatory Attendance'</span>})</span></code></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="11">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Quarters of Mandatory Attendance</th>
    </tr>
    <tr>
      <th>Force</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Northamptonshire</th>
      <td>11</td>
    </tr>
    <tr>
      <th>Bedfordshire</th>
      <td>8</td>
    </tr>
    <tr>
      <th>Greater Manchester</th>
      <td>6</td>
    </tr>
    <tr>
      <th>South Wales</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Merseyside</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Metropolitan Police</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Norfolk</th>
      <td>0</td>
    </tr>
    <tr>
      <th>North Wales</th>
      <td>0</td>
    </tr>
    <tr>
      <th>North Yorkshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Northumbria</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Nottinghamshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Avon and Somerset</th>
      <td>0</td>
    </tr>
    <tr>
      <th>London, City of</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Staffordshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Suffolk</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Surrey</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Sussex</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Thames Valley</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Warwickshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>West Mercia</th>
      <td>0</td>
    </tr>
    <tr>
      <th>West Midlands</th>
      <td>0</td>
    </tr>
    <tr>
      <th>West Yorkshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>South Yorkshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Lincolnshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Leicestershire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Lancashire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>British Transport Police</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Cambridgeshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Cheshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Cleveland</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Cumbria</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Derbyshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Devon and Cornwall</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Dorset</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Durham</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Dyfed-Powys</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Essex</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Gloucestershire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Gwent</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Hampshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Hertfordshire</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Humberside</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Kent</th>
      <td>0</td>
    </tr>
    <tr>
      <th>Wiltshire</th>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Now we can start combining our data together, and seeing if we can observe any meaningful difference after the intervention takes place.</p>
<p>For meaningful comparisons, we’ll seek to compare forces to other similar forces - there’s not much point in comparing GMP to Durham. We could do that with our existing data - eg, looking at forces with similar numbers of burglaries - but helpfully, the policing regulator <a href="https://www.justiceinspectorates.gov.uk/hmicfrs/police-forces/data/">HMIFRS already produces “Most Similar Forces” groups</a>, which should let us match up forces based on size, demographics and other factors relevant to performance. We’ll seperate out our group A (Bedfordshire and their group) from group B (Northamptonshire’s), though notice Kent is in both - unhelpfully, HMIC’s groups aren’t exclusive, though that’s not too much of a problem.</p>
<div class="cell" data-execution_count="12">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1">group_a <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">"Bedfordshire"</span>,</span>
<span id="cb12-2"><span class="st" style="color: #20794D;">"Leicestershire"</span>,</span>
<span id="cb12-3"><span class="st" style="color: #20794D;">"Nottinghamshire"</span>,</span>
<span id="cb12-4"><span class="st" style="color: #20794D;">"Hertfordshire"</span>,</span>
<span id="cb12-5"><span class="st" style="color: #20794D;">"Kent"</span>,</span>
<span id="cb12-6"><span class="st" style="color: #20794D;">"Hampshire"</span>,</span>
<span id="cb12-7"><span class="st" style="color: #20794D;">"Essex"</span>,</span>
<span id="cb12-8"><span class="st" style="color: #20794D;">"South Yorkshire"</span>]</span>
<span id="cb12-9"></span>
<span id="cb12-10">group_b <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">"Northamptonshire"</span>,</span>
<span id="cb12-11">           <span class="st" style="color: #20794D;">"Cheshire"</span>,</span>
<span id="cb12-12"><span class="st" style="color: #20794D;">"Derbyshire"</span>,</span>
<span id="cb12-13"><span class="st" style="color: #20794D;">"Staffordshire"</span>,</span>
<span id="cb12-14"><span class="st" style="color: #20794D;">"Kent"</span>,</span>
<span id="cb12-15"><span class="st" style="color: #20794D;">"Avon and Somerset"</span>,</span>
<span id="cb12-16"><span class="st" style="color: #20794D;">"Essex"</span>,</span>
<span id="cb12-17"><span class="st" style="color: #20794D;">"Nottinghamshire"</span>]</span>
<span id="cb12-18"></span>
<span id="cb12-19">msf_groups <span class="op" style="color: #5E5E5E;">=</span> force_comparison[[<span class="st" style="color: #20794D;">'Force'</span>]].drop_duplicates().reset_index(drop<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>)</span>
<span id="cb12-20">msf_groups[<span class="st" style="color: #20794D;">'group_A'</span>] <span class="op" style="color: #5E5E5E;">=</span> msf_groups[<span class="st" style="color: #20794D;">'Force'</span>].isin(group_a)</span>
<span id="cb12-21">msf_groups[<span class="st" style="color: #20794D;">'group_B'</span>] <span class="op" style="color: #5E5E5E;">=</span> msf_groups[<span class="st" style="color: #20794D;">'Force'</span>].isin(group_b)</span>
<span id="cb12-22">msf_groups</span></code></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="12">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Force</th>
      <th>group_A</th>
      <th>group_B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Avon and Somerset</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bedfordshire</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>British Transport Police</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Cambridgeshire</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Cheshire</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Cleveland</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Cumbria</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Derbyshire</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Devon and Cornwall</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Dorset</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Durham</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Dyfed-Powys</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Essex</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Gloucestershire</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Greater Manchester</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Gwent</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Hampshire</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Hertfordshire</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Humberside</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Kent</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Lancashire</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>21</th>
      <td>Leicestershire</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Lincolnshire</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>23</th>
      <td>London, City of</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Merseyside</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Metropolitan Police</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Norfolk</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>27</th>
      <td>North Wales</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>28</th>
      <td>North Yorkshire</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>29</th>
      <td>Northamptonshire</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Northumbria</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Nottinghamshire</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>32</th>
      <td>South Wales</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>33</th>
      <td>South Yorkshire</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>34</th>
      <td>Staffordshire</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>35</th>
      <td>Suffolk</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>36</th>
      <td>Surrey</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Sussex</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Thames Valley</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Warwickshire</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>40</th>
      <td>West Mercia</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>41</th>
      <td>West Midlands</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>42</th>
      <td>West Yorkshire</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Wiltshire</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Let’s start with a simple visual observation: we look at the rate of detection per outcome for each force and group, with the start of mandatory attendance visible as the dashed vertical line.</p>
<div class="cell page-columns page-full" data-execution_count="13">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1">linear_comparator_df <span class="op" style="color: #5E5E5E;">=</span> force_comparison.merge(msf_groups, how<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'right'</span>, on<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'Force'</span>)</span>
<span id="cb13-2">linear_comparator_df <span class="op" style="color: #5E5E5E;">=</span> linear_comparator_df[linear_comparator_df[<span class="st" style="color: #20794D;">'group_A'</span>] <span class="op" style="color: #5E5E5E;">|</span> linear_comparator_df[<span class="st" style="color: #20794D;">'group_B'</span>]].merge(time_series, how<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'left'</span>, on<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'date'</span>)</span>
<span id="cb13-3"></span>
<span id="cb13-4">linear_comparator_df[<span class="st" style="color: #20794D;">'detected_rate'</span>] <span class="op" style="color: #5E5E5E;">=</span> linear_comparator_df[<span class="st" style="color: #20794D;">'detected_rate'</span>]  <span class="op" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">100</span></span>
<span id="cb13-5"></span>
<span id="cb13-6">df_a <span class="op" style="color: #5E5E5E;">=</span> linear_comparator_df[linear_comparator_df[<span class="st" style="color: #20794D;">'group_A'</span>]]</span>
<span id="cb13-7">df_b <span class="op" style="color: #5E5E5E;">=</span> linear_comparator_df[linear_comparator_df[<span class="st" style="color: #20794D;">'group_B'</span>]]</span>
<span id="cb13-8"></span>
<span id="cb13-9">fig <span class="op" style="color: #5E5E5E;">=</span> make_subplots(rows<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">2</span>, cols<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb13-10"></span>
<span id="cb13-11"><span class="cf" style="color: #003B4F;">for</span> force <span class="kw" style="color: #003B4F;">in</span> df_a[<span class="st" style="color: #20794D;">'Force'</span>].unique():</span>
<span id="cb13-12">    force_df <span class="op" style="color: #5E5E5E;">=</span> df_a[df_a[<span class="st" style="color: #20794D;">'Force'</span>] <span class="op" style="color: #5E5E5E;">==</span> force]</span>
<span id="cb13-13">    <span class="cf" style="color: #003B4F;">if</span> force <span class="op" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'Bedfordshire'</span>:</span>
<span id="cb13-14">        fig.add_trace(</span>
<span id="cb13-15">            go.Scatter(</span>
<span id="cb13-16">            x<span class="op" style="color: #5E5E5E;">=</span>force_df[<span class="st" style="color: #20794D;">'date'</span>], y<span class="op" style="color: #5E5E5E;">=</span>force_df[<span class="st" style="color: #20794D;">'detected_rate'</span>], name<span class="op" style="color: #5E5E5E;">=</span>force, line<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'red'</span>, width<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">4</span>,</span>
<span id="cb13-17">                              dash<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'dash'</span>)),</span>
<span id="cb13-18">            row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span></span>
<span id="cb13-19">        )</span>
<span id="cb13-20">    <span class="cf" style="color: #003B4F;">else</span>:</span>
<span id="cb13-21">        force_df <span class="op" style="color: #5E5E5E;">=</span> df_a[df_a[<span class="st" style="color: #20794D;">'Force'</span>] <span class="op" style="color: #5E5E5E;">==</span> force]</span>
<span id="cb13-22">        fig.add_trace(</span>
<span id="cb13-23">            go.Scatter(</span>
<span id="cb13-24">            x<span class="op" style="color: #5E5E5E;">=</span>force_df[<span class="st" style="color: #20794D;">'date'</span>], y<span class="op" style="color: #5E5E5E;">=</span>force_df[<span class="st" style="color: #20794D;">'detected_rate'</span>], name<span class="op" style="color: #5E5E5E;">=</span>force),</span>
<span id="cb13-25">            row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span></span>
<span id="cb13-26">        )</span>
<span id="cb13-27"></span>
<span id="cb13-28"></span>
<span id="cb13-29"></span>
<span id="cb13-30"><span class="cf" style="color: #003B4F;">for</span> force <span class="kw" style="color: #003B4F;">in</span> df_b[<span class="st" style="color: #20794D;">'Force'</span>].unique():</span>
<span id="cb13-31">    force_df <span class="op" style="color: #5E5E5E;">=</span> df_b[df_b[<span class="st" style="color: #20794D;">'Force'</span>] <span class="op" style="color: #5E5E5E;">==</span> force]</span>
<span id="cb13-32">    <span class="cf" style="color: #003B4F;">if</span> force <span class="op" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'Northamptonshire'</span>:</span>
<span id="cb13-33">        fig.add_trace(</span>
<span id="cb13-34">            go.Scatter(</span>
<span id="cb13-35">            x<span class="op" style="color: #5E5E5E;">=</span>force_df[<span class="st" style="color: #20794D;">'date'</span>], y<span class="op" style="color: #5E5E5E;">=</span>force_df[<span class="st" style="color: #20794D;">'detected_rate'</span>], name<span class="op" style="color: #5E5E5E;">=</span>force, line<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">dict</span>(color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'blue'</span>, width<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">4</span>,</span>
<span id="cb13-36">                              dash<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'dash'</span>)),</span>
<span id="cb13-37">            row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">2</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span></span>
<span id="cb13-38">        )</span>
<span id="cb13-39">    <span class="cf" style="color: #003B4F;">else</span>:</span>
<span id="cb13-40">        fig.add_trace(</span>
<span id="cb13-41">            go.Scatter(</span>
<span id="cb13-42">            x<span class="op" style="color: #5E5E5E;">=</span>force_df[<span class="st" style="color: #20794D;">'date'</span>], y<span class="op" style="color: #5E5E5E;">=</span>force_df[<span class="st" style="color: #20794D;">'detected_rate'</span>], name<span class="op" style="color: #5E5E5E;">=</span>force),</span>
<span id="cb13-43">            row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">2</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span></span>
<span id="cb13-44">        )</span>
<span id="cb13-45"></span>
<span id="cb13-46"></span>
<span id="cb13-47">fig.add_vline(x<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'2020-01-01'</span>, row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, line_dash<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"dash"</span>)</span>
<span id="cb13-48">fig.add_vline(x<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'2019-04-01'</span>, row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">2</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>,line_dash<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"dash"</span>)</span>
<span id="cb13-49"></span>
<span id="cb13-50">fig.update_xaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Date"</span>)</span>
<span id="cb13-51">fig.update_layout(height<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">700</span>, title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Detected Outcomes per Quarter and Force, and start of Mandatory Attendance"</span>)</span>
<span id="cb13-52"></span>
<span id="cb13-53">fig.update_yaxes(title_text<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Detected Rate"</span>)</span>
<span id="cb13-54"></span>
<span id="cb13-55">fig.show()</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-screen">

<div>                            <div id="7efcab74-5d2f-4296-b342-66fc5ee1438d" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("7efcab74-5d2f-4296-b342-66fc5ee1438d")) {                    Plotly.newPlot(                        "7efcab74-5d2f-4296-b342-66fc5ee1438d",                        [{"line":{"color":"red","dash":"dash","width":4},"name":"Bedfordshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[10.507880910683012,8.108108108108109,3.277378097521982,4.403522818254603,8.707607699358388,8.123791102514506,5.952380952380952,5.0687285223367695,5.769230769230769,6.998654104979811,7.759562841530054,7.459207459207459,8.25147347740668,6.72,4.603174603174604,6.25,8.695652173913043,3.25,7.017543859649122,2.782931354359926],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"Essex","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[8.032861706983113,7.453416149068323,5.048169556840077,4.551661356395084,5.220476431829701,5.3438891637803065,4.197150558336542,4.852941176470589,7.180293501048219,5.266272189349112,2.776349614395887,4.617752693689072,4.038772213247173,6.0,7.02446724546172,5.893186003683241,4.775280898876404,4.37956204379562,3.180760279286268,4.003079291762894],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"Hampshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[7.7279037482646915,5.673076923076923,7.322068612391193,5.955603681645912,6.339581036383682,5.674518201284797,6.222654350996597,2.9471544715447155,4.9237983587338805,5.873642645607108,6.27431906614786,4.133180252583238,4.3678160919540225,3.4822601839684624,2.802460697197539,3.138373751783167,2.8708133971291865,3.4175334323922733,2.1144278606965177,2.052980132450331],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"Hertfordshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[5.119152691968226,5.319969159599075,4.093567251461988,5.559673832468495,6.215213358070501,7.31244064577398,3.278688524590164,3.288888888888889,4.444444444444445,4.72972972972973,3.0141843971631204,5.742574257425743,4.426229508196721,3.0015797788309637,5.7894736842105265,2.6595744680851063,3.505535055350553,5.902192242833052,2.2522522522522523,2.037617554858934],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"Kent","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[5.598755832037325,5.102954341987466,5.868971792538671,4.389773275446213,6.221776216758655,3.2085561497326207,2.523789822093504,1.2873563218390804,4.1757049891540134,6.706327744726879,3.0791788856304985,2.5452488687782804,4.855195911413969,4.94752623688156,3.6127167630057806,1.4202172096908938,4.9393414211438476,6.804979253112033,1.6881028938906755,4.129554655870446],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"Leicestershire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[5.269922879177378,4.08295528191834,4.651162790697675,3.6721311475409837,5.141980046047583,4.889807162534435,4.684788895315211,5.9071729957805905,5.577689243027888,9.011164274322168,5.826656955571741,6.057945566286216,8.345534407027818,5.463182897862233,2.694610778443114,5.169628432956381,6.729264475743349,8.095238095238095,4.993909866017052,3.3918128654970756],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"Nottinghamshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[7.090301003344482,8.310055865921788,6.129032258064516,6.12094395280236,6.744487678339818,6.952303961196443,4.7913446676970635,6.983883346124328,5.284888521882741,6.88622754491018,5.294506949040371,5.320699708454811,7.325581395348838,7.076923076923077,5.22167487684729,6.075334143377885,6.17906683480454,7.712418300653595,4.0793825799338475,4.887983706720977],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"South Yorkshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[6.521739130434782,6.456692913385827,3.932178932178932,4.769736842105264,4.41988950276243,5.061675882603148,3.0552694816340544,3.7563822027716993,4.270462633451958,5.403348554033485,3.821892393320965,3.5283993115318415,5.394736842105264,4.166666666666666,3.662494204914233,4.226069246435845,6.418485237483954,6.428988895382817,4.126846220677671,3.887510339123242],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"Avon and Somerset","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[5.206880520688053,5.223171889838556,4.054054054054054,5.266272189349112,5.706371191135734,4.767801857585139,3.9379474940334127,4.876504116529449,9.936708860759493,7.2666666666666675,7.297830374753452,6.370272063702721,7.358156028368794,5.791190864600326,4.817275747508306,5.95903165735568,6.279287722586692,6.9747166521360064,4.6255506607929515,3.9032006245121003],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"name":"Cheshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[10.126582278481013,11.28084606345476,7.306889352818372,8.958566629339305,9.449760765550238,9.884467265725288,7.151095732410612,7.5136612021857925,10.206561360874849,7.5136612021857925,8.114285714285714,7.233065442020665,9.03522205206738,9.554140127388536,7.225433526011561,6.475903614457831,4.270462633451958,7.750759878419452,6.5625,6.557377049180328],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"name":"Derbyshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[7.766990291262135,5.258215962441314,3.520536462699078,2.3890784982935154,5.200729927007299,4.297224709042077,3.1102733270499527,3.632694248234107,3.831041257367387,3.966597077244259,2.59222333000997,4.530011325028313,5.128205128205128,4.144385026737968,5.042016806722689,5.799151343705799,4.311774461028192,2.8192371475953566,2.973977695167286,5.47112462006079],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"name":"Essex","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[8.032861706983113,7.453416149068323,5.048169556840077,4.551661356395084,5.220476431829701,5.3438891637803065,4.197150558336542,4.852941176470589,7.180293501048219,5.266272189349112,2.776349614395887,4.617752693689072,4.038772213247173,6.0,7.02446724546172,5.893186003683241,4.775280898876404,4.37956204379562,3.180760279286268,4.003079291762894],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"name":"Kent","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[5.598755832037325,5.102954341987466,5.868971792538671,4.389773275446213,6.221776216758655,3.2085561497326207,2.523789822093504,1.2873563218390804,4.1757049891540134,6.706327744726879,3.0791788856304985,2.5452488687782804,4.855195911413969,4.94752623688156,3.6127167630057806,1.4202172096908938,4.9393414211438476,6.804979253112033,1.6881028938906755,4.129554655870446],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"line":{"color":"blue","dash":"dash","width":4},"name":"Northamptonshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[3.651354534746761,5.603448275862069,3.425309229305423,3.1216361679224973,3.5107587768969424,4.050925925925926,2.6188166828322017,3.046594982078853,3.830911492734478,4.25531914893617,5.4331864904552125,2.8764805414551606,5.656565656565657,4.488330341113106,4.504504504504505,3.6363636363636362,7.862407862407863,6.625258799171843,3.2490974729241873,2.9296875],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"name":"Nottinghamshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[7.090301003344482,8.310055865921788,6.129032258064516,6.12094395280236,6.744487678339818,6.952303961196443,4.7913446676970635,6.983883346124328,5.284888521882741,6.88622754491018,5.294506949040371,5.320699708454811,7.325581395348838,7.076923076923077,5.22167487684729,6.075334143377885,6.17906683480454,7.712418300653595,4.0793825799338475,4.887983706720977],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"name":"Staffordshire","x":["2017-01-01T00:00:00","2017-04-01T00:00:00","2017-07-01T00:00:00","2017-10-01T00:00:00","2018-01-01T00:00:00","2018-04-01T00:00:00","2018-07-01T00:00:00","2018-10-01T00:00:00","2019-01-01T00:00:00","2019-04-01T00:00:00","2019-07-01T00:00:00","2019-10-01T00:00:00","2020-01-01T00:00:00","2020-04-01T00:00:00","2020-07-01T00:00:00","2020-10-01T00:00:00","2021-01-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00"],"y":[8.383751080380295,8.595194085027726,6.827309236947792,6.153846153846154,6.926406926406926,7.31958762886598,5.005324813631523,7.777777777777778,7.37913486005089,5.344585091420535,7.561436672967864,2.8105167724388034,7.024793388429752,6.598984771573605,4.676258992805756,7.218683651804671,5.36480686695279,5.301645338208409,7.078313253012049,5.114638447971781],"type":"scatter","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Date"}},"yaxis":{"anchor":"x","domain":[0.575,1.0],"title":{"text":"Detected Rate"}},"xaxis2":{"anchor":"y2","domain":[0.0,1.0],"title":{"text":"Date"}},"yaxis2":{"anchor":"x2","domain":[0.0,0.425],"title":{"text":"Detected Rate"}},"shapes":[{"line":{"dash":"dash"},"type":"line","x0":"2020-01-01","x1":"2020-01-01","xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"dash":"dash"},"type":"line","x0":"2019-04-01","x1":"2019-04-01","xref":"x2","y0":0,"y1":1,"yref":"y2 domain"}],"title":{"text":"Detected Outcomes per Quarter and Force, and start of Mandatory Attendance"},"height":700},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('7efcab74-5d2f-4296-b342-66fc5ee1438d');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>It looks, in a word, messy. There <em>might</em> be some sort of effect, but it certainly isn’t pronounced enough to visually observe. Instead, let’s use some statistical modelling to try and measure the average effect.</p>
</section>
<section id="statistical-modelling" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="statistical-modelling">Statistical Modelling</h2>
<section id="linear-models-with-time-effects" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="linear-models-with-time-effects">Linear Models with Time Effects</h3>
<p>With all our data, we now build a statistical model, predicting the detected outcome rate as a factor of force, their comparison group, their total offences, and the period in time.</p>
<div class="cell page-columns page-full" data-execution_count="14">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1">linear_comparator_df[<span class="st" style="color: #20794D;">'Force'</span>] <span class="op" style="color: #5E5E5E;">=</span> linear_comparator_df[<span class="st" style="color: #20794D;">'Force'</span>].astype(<span class="st" style="color: #20794D;">'category'</span>)</span>
<span id="cb14-2">linear_comparator_df[<span class="st" style="color: #20794D;">'quarter'</span>] <span class="op" style="color: #5E5E5E;">=</span> linear_comparator_df[<span class="st" style="color: #20794D;">'quarter'</span>].astype(<span class="st" style="color: #20794D;">'category'</span>)</span>
<span id="cb14-3">linear_comparator_df[<span class="st" style="color: #20794D;">'mandatory_attendance'</span>] <span class="op" style="color: #5E5E5E;">=</span> linear_comparator_df[<span class="st" style="color: #20794D;">'mandatory_attendance'</span>].astype(<span class="st" style="color: #20794D;">'int'</span>)</span>
<span id="cb14-4"></span>
<span id="cb14-5"></span>
<span id="cb14-6">y <span class="op" style="color: #5E5E5E;">=</span> linear_comparator_df[<span class="st" style="color: #20794D;">'detected_rate'</span>]</span>
<span id="cb14-7"></span>
<span id="cb14-8">X <span class="op" style="color: #5E5E5E;">=</span> patsy.dmatrix(<span class="st" style="color: #20794D;">"0 + C(Force) + total_offences + mandatory_attendance + group_A + group_B  + C(quarter) + running_var"</span>, data<span class="op" style="color: #5E5E5E;">=</span>linear_comparator_df, return_type<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'dataframe'</span>)</span>
<span id="cb14-9"></span>
<span id="cb14-10"></span>
<span id="cb14-11">model <span class="op" style="color: #5E5E5E;">=</span> sm.OLS(y,X)</span>
<span id="cb14-12"></span>
<span id="cb14-13">results <span class="op" style="color: #5E5E5E;">=</span> model.fit()</span>
<span id="cb14-14"></span>
<span id="cb14-15">results.summary()</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page" data-execution_count="14">

<table class="simpletable">
<caption>OLS Regression Results</caption>
<tbody><tr>
  <th>Dep. Variable:</th>      <td>detected_rate</td>  <th>  R-squared:         </th> <td>   0.551</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.518</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   16.44</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sat, 31 Dec 2022</td> <th>  Prob (F-statistic):</th> <td>1.59e-32</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:25:24</td>     <th>  Log-Likelihood:    </th> <td> -426.89</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   260</td>      <th>  AIC:               </th> <td>   891.8</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   241</td>      <th>  BIC:               </th> <td>   959.4</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>    18</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
               <td></td>                  <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P&gt;|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>C(Force)[Avon and Somerset]</th> <td>    3.6335</td> <td>    0.530</td> <td>    6.861</td> <td> 0.000</td> <td>    2.590</td> <td>    4.677</td>
</tr>
<tr>
  <th>C(Force)[Bedfordshire]</th>      <td>    3.1250</td> <td>    0.322</td> <td>    9.720</td> <td> 0.000</td> <td>    2.492</td> <td>    3.758</td>
</tr>
<tr>
  <th>C(Force)[Cheshire]</th>          <td>    4.9698</td> <td>    0.291</td> <td>   17.099</td> <td> 0.000</td> <td>    4.397</td> <td>    5.542</td>
</tr>
<tr>
  <th>C(Force)[Derbyshire]</th>        <td>    1.3595</td> <td>    0.322</td> <td>    4.226</td> <td> 0.000</td> <td>    0.726</td> <td>    1.993</td>
</tr>
<tr>
  <th>C(Force)[Essex]</th>             <td>   -2.4339</td> <td>    0.274</td> <td>   -8.877</td> <td> 0.000</td> <td>   -2.974</td> <td>   -1.894</td>
</tr>
<tr>
  <th>C(Force)[Hampshire]</th>         <td>    2.8248</td> <td>    0.468</td> <td>    6.031</td> <td> 0.000</td> <td>    1.902</td> <td>    3.747</td>
</tr>
<tr>
  <th>C(Force)[Hertfordshire]</th>     <td>    1.4803</td> <td>    0.277</td> <td>    5.341</td> <td> 0.000</td> <td>    0.934</td> <td>    2.026</td>
</tr>
<tr>
  <th>C(Force)[Kent]</th>              <td>   -3.5083</td> <td>    0.277</td> <td>  -12.671</td> <td> 0.000</td> <td>   -4.054</td> <td>   -2.963</td>
</tr>
<tr>
  <th>C(Force)[Leicestershire]</th>    <td>    2.8885</td> <td>    0.294</td> <td>    9.821</td> <td> 0.000</td> <td>    2.309</td> <td>    3.468</td>
</tr>
<tr>
  <th>C(Force)[Northamptonshire]</th>  <td>    0.6208</td> <td>    0.350</td> <td>    1.774</td> <td> 0.077</td> <td>   -0.068</td> <td>    1.310</td>
</tr>
<tr>
  <th>C(Force)[Nottinghamshire]</th>   <td>   -2.1424</td> <td>    0.419</td> <td>   -5.118</td> <td> 0.000</td> <td>   -2.967</td> <td>   -1.318</td>
</tr>
<tr>
  <th>C(Force)[South Yorkshire]</th>   <td>    3.5578</td> <td>    0.705</td> <td>    5.045</td> <td> 0.000</td> <td>    2.169</td> <td>    4.947</td>
</tr>
<tr>
  <th>C(Force)[Staffordshire]</th>     <td>    3.2984</td> <td>    0.292</td> <td>   11.288</td> <td> 0.000</td> <td>    2.723</td> <td>    3.874</td>
</tr>
<tr>
  <th>group_A[T.True]</th>             <td>    5.7917</td> <td>    0.632</td> <td>    9.165</td> <td> 0.000</td> <td>    4.547</td> <td>    7.037</td>
</tr>
<tr>
  <th>group_B[T.True]</th>             <td>    5.7974</td> <td>    0.455</td> <td>   12.730</td> <td> 0.000</td> <td>    4.900</td> <td>    6.694</td>
</tr>
<tr>
  <th>C(quarter)[T.2]</th>             <td>   -0.0319</td> <td>    0.231</td> <td>   -0.138</td> <td> 0.890</td> <td>   -0.487</td> <td>    0.423</td>
</tr>
<tr>
  <th>C(quarter)[T.3]</th>             <td>   -1.0204</td> <td>    0.259</td> <td>   -3.937</td> <td> 0.000</td> <td>   -1.531</td> <td>   -0.510</td>
</tr>
<tr>
  <th>C(quarter)[T.4]</th>             <td>   -1.0813</td> <td>    0.247</td> <td>   -4.370</td> <td> 0.000</td> <td>   -1.569</td> <td>   -0.594</td>
</tr>
<tr>
  <th>total_offences</th>              <td>   -0.0013</td> <td>    0.000</td> <td>   -2.707</td> <td> 0.007</td> <td>   -0.002</td> <td>   -0.000</td>
</tr>
<tr>
  <th>mandatory_attendance</th>        <td>    0.7574</td> <td>    0.442</td> <td>    1.714</td> <td> 0.088</td> <td>   -0.113</td> <td>    1.628</td>
</tr>
<tr>
  <th>running_var</th>                 <td>   -0.1198</td> <td>    0.027</td> <td>   -4.481</td> <td> 0.000</td> <td>   -0.172</td> <td>   -0.067</td>
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
  <th>Omnibus:</th>       <td> 1.754</td> <th>  Durbin-Watson:     </th> <td>   1.763</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.416</td> <th>  Jarque-Bera (JB):  </th> <td>   1.487</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.174</td> <th>  Prob(JB):          </th> <td>   0.475</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.128</td> <th>  Cond. No.          </th> <td>7.82e+19</td>
</tr>
</tbody></table><br><br>Notes:<br>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br>[2] The smallest eigenvalue is 8.11e-32. This might indicate that there are<br>strong multicollinearity problems or that the design matrix is singular.
</div>
</div>
<p>Our model suggests that mandatory attendance may have had, on average, a small effect on performance, this was not significant - eg, it may have been down to sheer luck.</p>
<p>Let’s go a bit further, and add a interaction effect between time and our force variable - eg, accounting for the fact that performance may vary differently over time force, by force.</p>
<div class="cell page-columns page-full" data-execution_count="15">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1">y <span class="op" style="color: #5E5E5E;">=</span> linear_comparator_df[<span class="st" style="color: #20794D;">'detected_rate'</span>]</span>
<span id="cb15-2"></span>
<span id="cb15-3">X <span class="op" style="color: #5E5E5E;">=</span> patsy.dmatrix(<span class="st" style="color: #20794D;">"C(Force)*running_var + total_offences + mandatory_attendance + group_A + group_B  + C(quarter)"</span>, data<span class="op" style="color: #5E5E5E;">=</span>linear_comparator_df, return_type<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'dataframe'</span>)</span>
<span id="cb15-4"></span>
<span id="cb15-5"></span>
<span id="cb15-6">model <span class="op" style="color: #5E5E5E;">=</span> sm.OLS(y,X)</span>
<span id="cb15-7"></span>
<span id="cb15-8">results <span class="op" style="color: #5E5E5E;">=</span> model.fit()</span>
<span id="cb15-9"></span>
<span id="cb15-10">results.summary()</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page" data-execution_count="15">

<table class="simpletable">
<caption>OLS Regression Results</caption>
<tbody><tr>
  <th>Dep. Variable:</th>      <td>detected_rate</td>  <th>  R-squared:         </th> <td>   0.616</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.565</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   12.22</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sat, 31 Dec 2022</td> <th>  Prob (F-statistic):</th> <td>6.57e-33</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:25:24</td>     <th>  Log-Likelihood:    </th> <td> -406.76</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   260</td>      <th>  AIC:               </th> <td>   875.5</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   229</td>      <th>  BIC:               </th> <td>   985.9</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>    30</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
                      <td></td>                        <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P&gt;|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>                                <td>    6.2968</td> <td>    0.805</td> <td>    7.827</td> <td> 0.000</td> <td>    4.712</td> <td>    7.882</td>
</tr>
<tr>
  <th>C(Force)[T.Bedfordshire]</th>                 <td>    1.6786</td> <td>    0.583</td> <td>    2.879</td> <td> 0.004</td> <td>    0.530</td> <td>    2.827</td>
</tr>
<tr>
  <th>C(Force)[T.Cheshire]</th>                     <td>    2.9897</td> <td>    0.959</td> <td>    3.118</td> <td> 0.002</td> <td>    1.101</td> <td>    4.879</td>
</tr>
<tr>
  <th>C(Force)[T.Derbyshire]</th>                   <td>   -1.9116</td> <td>    0.867</td> <td>   -2.205</td> <td> 0.028</td> <td>   -3.620</td> <td>   -0.204</td>
</tr>
<tr>
  <th>C(Force)[T.Essex]</th>                        <td>   -0.2824</td> <td>    0.500</td> <td>   -0.565</td> <td> 0.573</td> <td>   -1.268</td> <td>    0.703</td>
</tr>
<tr>
  <th>C(Force)[T.Hampshire]</th>                    <td>    2.2860</td> <td>    0.537</td> <td>    4.256</td> <td> 0.000</td> <td>    1.228</td> <td>    3.344</td>
</tr>
<tr>
  <th>C(Force)[T.Hertfordshire]</th>                <td>   -0.2522</td> <td>    0.513</td> <td>   -0.492</td> <td> 0.623</td> <td>   -1.263</td> <td>    0.759</td>
</tr>
<tr>
  <th>C(Force)[T.Kent]</th>                         <td>   -1.8168</td> <td>    0.490</td> <td>   -3.704</td> <td> 0.000</td> <td>   -2.783</td> <td>   -0.850</td>
</tr>
<tr>
  <th>C(Force)[T.Leicestershire]</th>               <td>   -0.3087</td> <td>    0.483</td> <td>   -0.639</td> <td> 0.523</td> <td>   -1.260</td> <td>    0.643</td>
</tr>
<tr>
  <th>C(Force)[T.Northamptonshire]</th>             <td>   -3.0584</td> <td>    0.941</td> <td>   -3.252</td> <td> 0.001</td> <td>   -4.912</td> <td>   -1.205</td>
</tr>
<tr>
  <th>C(Force)[T.Nottinghamshire]</th>              <td>   -0.6398</td> <td>    0.620</td> <td>   -1.032</td> <td> 0.303</td> <td>   -1.862</td> <td>    0.582</td>
</tr>
<tr>
  <th>C(Force)[T.South Yorkshire]</th>              <td>    0.8367</td> <td>    0.745</td> <td>    1.123</td> <td> 0.263</td> <td>   -0.632</td> <td>    2.305</td>
</tr>
<tr>
  <th>C(Force)[T.Staffordshire]</th>                <td>    0.8295</td> <td>    0.902</td> <td>    0.919</td> <td> 0.359</td> <td>   -0.948</td> <td>    2.607</td>
</tr>
<tr>
  <th>group_A[T.True]</th>                          <td>    1.5015</td> <td>    0.429</td> <td>    3.496</td> <td> 0.001</td> <td>    0.655</td> <td>    2.348</td>
</tr>
<tr>
  <th>group_B[T.True]</th>                          <td>    2.0563</td> <td>    0.418</td> <td>    4.917</td> <td> 0.000</td> <td>    1.232</td> <td>    2.880</td>
</tr>
<tr>
  <th>C(quarter)[T.2]</th>                          <td>   -0.0358</td> <td>    0.220</td> <td>   -0.162</td> <td> 0.871</td> <td>   -0.470</td> <td>    0.399</td>
</tr>
<tr>
  <th>C(quarter)[T.3]</th>                          <td>   -1.0428</td> <td>    0.256</td> <td>   -4.077</td> <td> 0.000</td> <td>   -1.547</td> <td>   -0.539</td>
</tr>
<tr>
  <th>C(quarter)[T.4]</th>                          <td>   -1.1036</td> <td>    0.240</td> <td>   -4.601</td> <td> 0.000</td> <td>   -1.576</td> <td>   -0.631</td>
</tr>
<tr>
  <th>running_var</th>                              <td>   -0.0171</td> <td>    0.056</td> <td>   -0.305</td> <td> 0.761</td> <td>   -0.128</td> <td>    0.093</td>
</tr>
<tr>
  <th>C(Force)[T.Bedfordshire]:running_var</th>     <td>   -0.1477</td> <td>    0.088</td> <td>   -1.670</td> <td> 0.096</td> <td>   -0.322</td> <td>    0.027</td>
</tr>
<tr>
  <th>C(Force)[T.Cheshire]:running_var</th>         <td>   -0.1680</td> <td>    0.070</td> <td>   -2.388</td> <td> 0.018</td> <td>   -0.307</td> <td>   -0.029</td>
</tr>
<tr>
  <th>C(Force)[T.Derbyshire]:running_var</th>       <td>   -0.0334</td> <td>    0.069</td> <td>   -0.487</td> <td> 0.627</td> <td>   -0.168</td> <td>    0.102</td>
</tr>
<tr>
  <th>C(Force)[T.Essex]:running_var</th>            <td>   -0.1593</td> <td>    0.069</td> <td>   -2.320</td> <td> 0.021</td> <td>   -0.295</td> <td>   -0.024</td>
</tr>
<tr>
  <th>C(Force)[T.Hampshire]:running_var</th>        <td>   -0.2698</td> <td>    0.068</td> <td>   -3.966</td> <td> 0.000</td> <td>   -0.404</td> <td>   -0.136</td>
</tr>
<tr>
  <th>C(Force)[T.Hertfordshire]:running_var</th>    <td>   -0.1377</td> <td>    0.068</td> <td>   -2.032</td> <td> 0.043</td> <td>   -0.271</td> <td>   -0.004</td>
</tr>
<tr>
  <th>C(Force)[T.Kent]:running_var</th>             <td>   -0.1106</td> <td>    0.068</td> <td>   -1.629</td> <td> 0.105</td> <td>   -0.244</td> <td>    0.023</td>
</tr>
<tr>
  <th>C(Force)[T.Leicestershire]:running_var</th>   <td>    0.0146</td> <td>    0.068</td> <td>    0.216</td> <td> 0.829</td> <td>   -0.119</td> <td>    0.148</td>
</tr>
<tr>
  <th>C(Force)[T.Northamptonshire]:running_var</th> <td>    0.0375</td> <td>    0.091</td> <td>    0.413</td> <td> 0.680</td> <td>   -0.141</td> <td>    0.216</td>
</tr>
<tr>
  <th>C(Force)[T.Nottinghamshire]:running_var</th>  <td>   -0.0865</td> <td>    0.068</td> <td>   -1.273</td> <td> 0.204</td> <td>   -0.220</td> <td>    0.047</td>
</tr>
<tr>
  <th>C(Force)[T.South Yorkshire]:running_var</th>  <td>   -0.0445</td> <td>    0.068</td> <td>   -0.657</td> <td> 0.512</td> <td>   -0.178</td> <td>    0.089</td>
</tr>
<tr>
  <th>C(Force)[T.Staffordshire]:running_var</th>    <td>   -0.1167</td> <td>    0.068</td> <td>   -1.707</td> <td> 0.089</td> <td>   -0.251</td> <td>    0.018</td>
</tr>
<tr>
  <th>total_offences</th>                           <td>   -0.0012</td> <td>    0.001</td> <td>   -2.279</td> <td> 0.024</td> <td>   -0.002</td> <td>   -0.000</td>
</tr>
<tr>
  <th>mandatory_attendance</th>                     <td>    0.3016</td> <td>    0.777</td> <td>    0.388</td> <td> 0.698</td> <td>   -1.229</td> <td>    1.832</td>
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
  <th>Omnibus:</th>       <td> 3.734</td> <th>  Durbin-Watson:     </th> <td>   2.028</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.155</td> <th>  Jarque-Bera (JB):  </th> <td>   3.443</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.221</td> <th>  Prob(JB):          </th> <td>   0.179</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.350</td> <th>  Cond. No.          </th> <td>4.44e+18</td>
</tr>
</tbody></table><br><br>Notes:<br>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br>[2] The smallest eigenvalue is 2.52e-29. This might indicate that there are<br>strong multicollinearity problems or that the design matrix is singular.
</div>
</div>
<p>No matter how we model it, we’re again not finding meaningful effects - mandatory attendance does seem to be associated with slightly higher detected rates, on average, but this isn’t statistically significant. Put simply, examining the “statistical noise” in the rest of our model, we can’t confidently say any increases aren’t just due to random luck.</p>
<p>As one final approach, we’ll use panel data using the <a href="https://bashtage.github.io/linearmodels/">LinearModels library</a> - far from the best way to examine how effects change over time, but not a bad starter for ten.</p>
<div class="cell page-columns page-full" data-execution_count="16">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1">panel_data <span class="op" style="color: #5E5E5E;">=</span> force_comparison.set_index([<span class="st" style="color: #20794D;">"Force"</span>, <span class="st" style="color: #20794D;">"date"</span>])</span>
<span id="cb16-2">panel_data</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page" data-execution_count="16">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th>total_offences</th>
      <th>total_detected</th>
      <th>detected_rate</th>
      <th>mandatory_attendance</th>
    </tr>
    <tr>
      <th>Force</th>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Avon and Somerset</th>
      <th>2017-01-01</th>
      <td>2151.0</td>
      <td>112.0</td>
      <td>0.052069</td>
      <td>False</td>
    </tr>
    <tr>
      <th>Bedfordshire</th>
      <th>2017-01-01</th>
      <td>1142.0</td>
      <td>120.0</td>
      <td>0.105079</td>
      <td>False</td>
    </tr>
    <tr>
      <th>British Transport Police</th>
      <th>2017-01-01</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>False</td>
    </tr>
    <tr>
      <th>Cambridgeshire</th>
      <th>2017-01-01</th>
      <td>1109.0</td>
      <td>99.0</td>
      <td>0.089270</td>
      <td>False</td>
    </tr>
    <tr>
      <th>Cheshire</th>
      <th>2017-01-01</th>
      <td>790.0</td>
      <td>80.0</td>
      <td>0.101266</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>Warwickshire</th>
      <th>2021-10-01</th>
      <td>376.0</td>
      <td>8.0</td>
      <td>0.021277</td>
      <td>False</td>
    </tr>
    <tr>
      <th>West Mercia</th>
      <th>2021-10-01</th>
      <td>857.0</td>
      <td>8.0</td>
      <td>0.009335</td>
      <td>False</td>
    </tr>
    <tr>
      <th>West Midlands</th>
      <th>2021-10-01</th>
      <td>4061.0</td>
      <td>93.0</td>
      <td>0.022901</td>
      <td>False</td>
    </tr>
    <tr>
      <th>West Yorkshire</th>
      <th>2021-10-01</th>
      <td>2406.0</td>
      <td>81.0</td>
      <td>0.033666</td>
      <td>False</td>
    </tr>
    <tr>
      <th>Wiltshire</th>
      <th>2021-10-01</th>
      <td>265.0</td>
      <td>8.0</td>
      <td>0.030189</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>880 rows × 4 columns</p>
</div>
</div>
</div>
<div class="cell page-columns page-full" data-execution_count="17">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1">mod <span class="op" style="color: #5E5E5E;">=</span> PanelOLS.from_formula(</span>
<span id="cb17-2">    <span class="st" style="color: #20794D;">"detected_rate ~ 1 + mandatory_attendance + EntityEffects + TimeEffects"</span>, data<span class="op" style="color: #5E5E5E;">=</span>panel_data</span>
<span id="cb17-3">)</span>
<span id="cb17-4">mod.fit()</span></code></pre></div>
</details>
<div class="cell-output cell-output-display column-page" data-execution_count="17">

<table class="simpletable">
<caption>PanelOLS Estimation Summary</caption>
<tbody><tr>
  <th>Dep. Variable:</th>      <td>detected_rate</td>  <th>  R-squared:         </th>    <td>0.0013</td> 
</tr>
<tr>
  <th>Estimator:</th>            <td>PanelOLS</td>     <th>  R-squared (Between):</th>   <td>-0.0444</td>
</tr>
<tr>
  <th>No. Observations:</th>        <td>880</td>       <th>  R-squared (Within):</th>    <td>-0.0013</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sat, Dec 31 2022</td> <th>  R-squared (Overall):</th>   <td>-0.0059</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:25:24</td>     <th>  Log-likelihood     </th>    <td>1326.8</td> 
</tr>
<tr>
  <th>Cov. Estimator:</th>      <td>Unadjusted</td>    <th>                     </th>       <td></td>    
</tr>
<tr>
  <th></th>                          <td></td>         <th>  F-statistic:       </th>    <td>1.0290</td> 
</tr>
<tr>
  <th>Entities:</th>                <td>44</td>        <th>  P-value            </th>    <td>0.3107</td> 
</tr>
<tr>
  <th>Avg Obs:</th>               <td>20.000</td>      <th>  Distribution:      </th>   <td>F(1,816)</td>
</tr>
<tr>
  <th>Min Obs:</th>               <td>20.000</td>      <th>                     </th>       <td></td>    
</tr>
<tr>
  <th>Max Obs:</th>               <td>20.000</td>      <th>  F-statistic (robust):</th>  <td>1.0290</td> 
</tr>
<tr>
  <th></th>                          <td></td>         <th>  P-value            </th>    <td>0.3107</td> 
</tr>
<tr>
  <th>Time periods:</th>            <td>20</td>        <th>  Distribution:      </th>   <td>F(1,816)</td>
</tr>
<tr>
  <th>Avg Obs:</th>               <td>44.000</td>      <th>                     </th>       <td></td>    
</tr>
<tr>
  <th>Min Obs:</th>               <td>44.000</td>      <th>                     </th>       <td></td>    
</tr>
<tr>
  <th>Max Obs:</th>               <td>44.000</td>      <th>                     </th>       <td></td>    
</tr>
<tr>
  <th></th>                          <td></td>         <th>                     </th>       <td></td>    
</tr>
</tbody></table>
<table class="simpletable">
<caption>Parameter Estimates</caption>
<tbody><tr>
            <td></td>           <th>Parameter</th> <th>Std. Err.</th> <th>T-stat</th> <th>P-value</th> <th>Lower CI</th> <th>Upper CI</th>
</tr>
<tr>
  <th>Intercept</th>             <td>0.0614</td>    <td>0.0019</td>   <td>31.890</td> <td>0.0000</td>   <td>0.0576</td>   <td>0.0652</td> 
</tr>
<tr>
  <th>mandatory_attendance</th>  <td>0.0155</td>    <td>0.0153</td>   <td>1.0144</td> <td>0.3107</td>   <td>-0.0145</td>  <td>0.0456</td> 
</tr>
</tbody></table><br><br>F-test for Poolability: 2.3035<br>P-value: 0.0000<br>Distribution: F(62,816)<br><br>Included effects: Entity, Time<br>id: 0x1ecad429930
</div>
</div>
<p>A similar pattern emerges - we see a small increase associated with mandatory attendance, but it’s non-significant - the increases are too small or too random to say the effect is associated due to attendance, rather than just random data noise.</p>
<p>That said, there are plenty of issues with our approach! We’ve only tried straightforward linear approaches, and given we’re relying on two forces and quarterly data, we’d struggle to detect small effects… hopefully we’ll notice something more stark when I come back to this in a few months for <strong>part 2, time series approaches!</strong></p>


</section>
</section>

 ]]></description>
  <category>policing</category>
  <category>crime</category>
  <category>data-science</category>
  <guid>https://andreasthinks.me/posts/burglary_attendance/index.html</guid>
  <pubDate>Thu, 29 Dec 2022 00:00:00 GMT</pubDate>
  <media:content url="https://andreasthinks.me/posts/burglary_attendance/severity-plot.png" medium="image" type="image/png" height="144" width="144"/>
</item>
</channel>
</rss>
