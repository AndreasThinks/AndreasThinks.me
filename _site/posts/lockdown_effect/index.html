<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.78">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2021-05-22">
<meta name="description" content="I use public London crime data on robbery and burglary to examine where this COVID crime shift was strongest, and whether any specific drivers or correlates can be identified.">

<title>Andreas Varotsis - Learning R - Exploring the COVID Crime Effect in London</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Andreas Varotsis - Learning R - Exploring the COVID Crime Effect in London">
<meta property="og:description" content="I use public London crime data on robbery and burglary to examine where this COVID crime shift was strongest, and whether any specific drivers or correlates can be identified.">
<meta property="og:site-name" content="Andreas Varotsis">
<meta name="twitter:title" content="Andreas Varotsis - Learning R - Exploring the COVID Crime Effect in London">
<meta name="twitter:description" content="I use public London crime data on robbery and burglary to examine where this COVID crime shift was strongest, and whether any specific drivers or correlates can be identified.">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Andreas Varotsis</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../recent_work.html" rel="" target="">
 <span class="menu-text">Recent Work</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://fosstodon.org/@AndreasThinks" rel="me" target="">
 <span class="menu-text"><i class="fa-brands fa-mastodon fa-xl" aria-hidden="true"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://twitter.com/AndreasThinks" rel="" target="">
 <span class="menu-text"><i class="fa-brands fa-twitter fa-xl" aria-hidden="true"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/AndreasThinks" rel="" target="">
 <span class="menu-text"><i class="fa-brands fa-github fa-xl" aria-hidden="true"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.linkedin.com/in/avarotsis/" rel="" target="">
 <span class="menu-text"><i class="fa-brands fa-linkedin fa-xl" aria-hidden="true"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="mailto:andreas.varotsis@gmail.com" rel="" target="">
 <span class="menu-text"><i class="fa-solid fa-envelope fa-xl" aria-hidden="true"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.xml" rel="" target="">
 <span class="menu-text"><i class="fa-solid fa-rss fa-xl" aria-hidden="true"></i></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Learning R - Exploring the COVID Crime Effect in London</h1>
                  <div>
        <div class="description">
          I use public London crime data on robbery and burglary to examine where this COVID crime shift was strongest, and whether any specific drivers or correlates can be identified.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">data-science</div>
                <div class="quarto-category">forecasting</div>
                <div class="quarto-category">crime</div>
                <div class="quarto-category">geospatial</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 22, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>The lockdown and social distancing measures that were brought in throughout the world to tackle COVID in 2020 have had a significant, widespread effect on crime. In this notebook, I use public London crime data on robbery and burglary to examine where this “COVID crime shift” was strongest, and whether any specific drivers or correlates can be identified. I use three years of Metropolitan Police Service data from <a href="https://data.police.uk/">data.police.uk.</a></p>
<p>The findings suggest that the relative change in burglary and robbery in April and May 2020 was heavily affected by local characteristics: areas with a high residential population saw the sharpest decreases in burglary (likely due to a reduction in available targets) while the reduction in robberies instead seem to be driven by geographic features and indicators of deprivation (potentially suggesting more available targets for robbery in communities least able to work for from home).</p>
<p>The primary purpose of this exercise was to learn R - I’ve previously worked entirely in Python, which is more than sufficient 99% of the time, but has at times proved a blocker when I want to tackle some more experimental geospatial and statistical methods. With that in mind, this is likely to be a little messy, and I’ll aim to condense my main lessons into a blog post in the future. The models are not heavily tuned (aiming to explore correlates rather than provide accurate predictions) and there are likely to be correlation between our various predictors - as such these should not be taken to suggest direct causation.</p>
<p>The full code and data for this exercise are available on my <a href="https://github.com/crimsoneer/Covid-Crime-Shift">Github repo</a>. I’m hoping to summarise my key lessons in the Python to R journey in <a href="https://medium.com/@andreas.varotsis">Medium post</a> in the next few weeks.</p>
<section id="resources-ive-used" class="level4">
<h4 class="anchored" data-anchor-id="resources-ive-used">Resources I’ve used</h4>
<ul>
<li>Matt Ashby Crime Mapping course: https://github.com/mpjashby/crimemapping/</li>
<li>Spatial Modelling for Data Scientists: https://gdsl-ul.github.io/san/</li>
<li>R for Data Science: https://r4ds.had.co.nz/index.html</li>
<li>Geocomputation with R: https://geocompr.robinlovelace.net/</li>
</ul>
</section>
<section id="tasks" class="level3">
<h3 class="anchored" data-anchor-id="tasks">Tasks</h3>
<ol type="1">
<li>Ingest Data</li>
<li>Predict trend by MSOA</li>
<li>Quantify MSOA COVID Effect</li>
<li>Model</li>
</ol>
</section>
<section id="ingest-data" class="level2">
<h2 class="anchored" data-anchor-id="ingest-data">Ingest Data</h2>
<p>For this exercise, I’ll be importing crime and robbery data by MSOA.<a href="https://www.ons.gov.uk/methodology/geography/ukgeographies/censusgeography#output-area-oa">MSOAs are geographical units specifically designed for analysis, and to be comparable: they all have an average population of just over 8,000.</a> There is a compromise here between smaller geographical units (that create more variance that may help us identify predictors), but the necessity for enough crime per unit to identify meaningful trends - MSOAs should be suitable.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-1_779f48c0dc61fe72371f2ea3b257ab8c">

</div>
<p>To build our process, we’ll start by taking one month of crime data, exploring it, and writing all our steps for automation.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-2_45f91f21fb8674b477a169c001ac30cb">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>test_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"crimes/2018-01/2018-01-metropolitan-street.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Our crime data is categorised according to the Home Office major crime types, and like Python, we can list them all through the “unique” function. Here I’ll be focusing on robbery and burglary: two crime types that are heavily reliant on encountering victim’s in public spaces, and as such should be affected by the “COVID effect”.</p>
<p>To avoid this getting particularly computationally intensive, let’s write a function to pull out robberies and burglaries, and assign them a specific MSOA. Then we can iterate over all our months and get monthly counts for each offence type.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-3_cf41266c4614a9f8492b2cb0f2181136">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>subset_df <span class="ot">&lt;-</span> <span class="fu">filter</span>(test_df, Crime.type<span class="sc">==</span><span class="st">"Burglary"</span> <span class="sc">|</span> Crime.type<span class="sc">==</span><span class="st">"Robbery"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(subset_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
Crime.ID
</th>
<th style="text-align:left;">
Month
</th>
<th style="text-align:left;">
Reported.by
</th>
<th style="text-align:left;">
Falls.within
</th>
<th style="text-align:right;">
Longitude
</th>
<th style="text-align:right;">
Latitude
</th>
<th style="text-align:left;">
Location
</th>
<th style="text-align:left;">
LSOA.code
</th>
<th style="text-align:left;">
LSOA.name
</th>
<th style="text-align:left;">
Crime.type
</th>
<th style="text-align:left;">
Last.outcome.category
</th>
<th style="text-align:left;">
Context
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
628e0d673aa1b6a70479342a64b02884499df85b18dcd63cc9bff3cff9f704bc
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:right;">
0.140035
</td>
<td style="text-align:right;">
51.58911
</td>
<td style="text-align:left;">
On or near Beansland Grove
</td>
<td style="text-align:left;">
E01000027
</td>
<td style="text-align:left;">
Barking and Dagenham 001A
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:left;">
Offender sent to prison
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
f8e9db16dca534a83493198a838567aa5adc9dd56496edc2fff5bb4c62b8303e
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:right;">
0.140035
</td>
<td style="text-align:right;">
51.58911
</td>
<td style="text-align:left;">
On or near Beansland Grove
</td>
<td style="text-align:left;">
E01000027
</td>
<td style="text-align:left;">
Barking and Dagenham 001A
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:left;">
Investigation complete; no suspect identified
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
cc34822074b130f141f16d02fdb2d500c86e22ae18324b43a3231b381af3f45c
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:right;">
0.135554
</td>
<td style="text-align:right;">
51.58499
</td>
<td style="text-align:left;">
On or near Rose Lane
</td>
<td style="text-align:left;">
E01000027
</td>
<td style="text-align:left;">
Barking and Dagenham 001A
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:left;">
Status update unavailable
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10de581c3cd0a8c9b970824cd7589d13148d63a70b3115d95ef6c24dc0bd2c3b
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:right;">
0.140035
</td>
<td style="text-align:right;">
51.58911
</td>
<td style="text-align:left;">
On or near Beansland Grove
</td>
<td style="text-align:left;">
E01000027
</td>
<td style="text-align:left;">
Barking and Dagenham 001A
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:left;">
Status update unavailable
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
50ad5d2dfea24afec9e17218db62b3d29786775db1060634ae7d4a6e7cafc3ff
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:right;">
0.127794
</td>
<td style="text-align:right;">
51.58419
</td>
<td style="text-align:left;">
On or near Hope Close
</td>
<td style="text-align:left;">
E01000028
</td>
<td style="text-align:left;">
Barking and Dagenham 001B
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:left;">
Status update unavailable
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
95abc6eb0b755c9250d19bbe0062fcd4a509b701964d89667401c9dc96ca257d
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:left;">
Metropolitan Police Service
</td>
<td style="text-align:right;">
0.138439
</td>
<td style="text-align:right;">
51.57850
</td>
<td style="text-align:left;">
On or near Geneva Gardens
</td>
<td style="text-align:left;">
E01000029
</td>
<td style="text-align:left;">
Barking and Dagenham 001C
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:left;">
Investigation complete; no suspect identified
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>Our single month of data contains 10,501 crimes.</p>
<p>We now need to link this to our spatial data. We use the MSOA borders provided by MOPAC, and use the UK National Grid coordinate system. Police.uk does not use that system, so we’ll need to reproject our crime data.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-4_72f241a1e7eb796228d723d138e3f682">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>lsoa_borders <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"msoa_borders/MSOA_2011_London_gen_MHW.tab"</span>, <span class="at">crs=</span><span class="dv">27700</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `MSOA_2011_London_gen_MHW' from data source 
  `D:\Dropbox\Data Projects\Covid_crime_shift\msoa_borders\MSOA_2011_London_gen_MHW.tab' 
  using driver `MapInfo File'
Simple feature collection with 983 features and 12 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 503574.2 ymin: 155850.8 xmax: 561956.7 ymax: 200933.6
Projected CRS: OSGB 1936 / British National Grid</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lsoa_borders)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Before we can link our crimes to MSOA, we’ll need to ensure identical coordinate systems, and remove any non-geolocated values we’ll need to erase any missing values (while checking we retain enough data for analysis.)</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-5_a5c201a6b3a4005acf2c64720eccfe5e">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#count missing values in the longitude column</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Missing values identified:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Missing values identified:"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(subset_df[<span class="st">"Longitude"</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 82</code></pre>
</div>
</div>
<p>Thankfully, we only identify 82 crimes which we need to remove, leaving plenty for analysis.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-6_bcd6b8a7b310a30c24f2323228b2f810">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>clean_df <span class="ot">&lt;-</span> subset_df[<span class="sc">!</span><span class="fu">rowSums</span>(<span class="fu">is.na</span>(subset_df[<span class="st">"Longitude"</span>])), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can now convert our crime data to spacial data, using our longitude and latitude coordinates - this allows us to quickly plot our data, and confirm it looks right.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-7_f4cd2eefb16459c232a5778261ac7522">

</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-8_4df624d80f57b7ffae64ed2539801e83">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: plotting the first 9 out of 12 attributes; use max.plot = 12 to plot
all</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>With our data now mapped, we ensure everything is aligned to the appropriate coordinate system, and assign each crime to an MSOA from our data - the data is then aggregated into a monthly MSOA crime count, to which we assign our monthly date.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-9_10a1bfcad1702f181f897b663e74f0e9">
<div class="cell-output cell-output-stderr">
<pre><code>Warning in CPL_crs_from_input(x): GDAL Message 1: +init=epsg:XXXX syntax is
deprecated. It might return a CRS with a non-EPSG compliant axis order.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
MSOA11CD
</th>
<th style="text-align:left;">
Crime.type
</th>
<th style="text-align:right;">
count_by_msoa
</th>
<th style="text-align:left;">
Month
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000002
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000002
</td>
<td style="text-align:left;">
Robbery
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000003
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000003
</td>
<td style="text-align:left;">
Robbery
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000004
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>Bringing together all the code so far into a function, we can create an pipeline to generate our crime count per MSOA time series for the entirety of our dataset.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-10_0c4bb5c9766cc910b1a95692b0733f55">

</div>
<p>For this project, I haven’t used the Police.uk API (which would have enabled me to automate the downloads and query the data directly) - as such, we have to iterate over our subfolders, ingesting our CSV data and running through our process.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-11_1271281b6af2337784544e1d10169e27">
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'MSOA11CD'. You can override using the
`.groups` argument.</code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-12_ffbab71a477ead23072aea122974bc60">
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
MSOA11CD
</th>
<th style="text-align:left;">
Crime.type
</th>
<th style="text-align:left;">
count_by_msoa
</th>
<th style="text-align:left;">
Month
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000002
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000002
</td>
<td style="text-align:left;">
Robbery
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000003
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000003
</td>
<td style="text-align:left;">
Robbery
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>We now have a combined dataframe of 71,848 rows, from January 2018 through December 2020.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-13_d2a6dd98fd77e8fab3f7df6398dc81c7">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#saving file to CSV</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(empty_df,"msoa_crime_matrix.csv")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="predict-trend-by-msoa" class="level2">
<h2 class="anchored" data-anchor-id="predict-trend-by-msoa">2. Predict trend by MSOA</h2>
<section id="visualisation-and-exploration" class="level4">
<h4 class="anchored" data-anchor-id="visualisation-and-exploration">Visualisation and Exploration</h4>
<p>With our data now cleaned and aggregated, we can focus on the more interesting part - forecasting our “expected” pandemic crime, and examining how much it diverges from our “actual” crime.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-14_fa404bebac20879f54fa0e2a27e5ed41">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>empty_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"msoa_crime_matrix.csv"</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>empty_df <span class="ot">&lt;-</span> empty_df[<span class="dv">2</span><span class="sc">:</span><span class="dv">70848</span>,<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(empty_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
MSOA11CD
</th>
<th style="text-align:left;">
Crime.type
</th>
<th style="text-align:right;">
count_by_msoa
</th>
<th style="text-align:left;">
Month
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
E02000002
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
E02000002
</td>
<td style="text-align:left;">
Robbery
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
E02000003
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
E02000003
</td>
<td style="text-align:left;">
Robbery
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
E02000004
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
2018-01
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>Before going any further, let’s use this to explore and visualise the distribution of robbery and burglary across time and space during our “pre-pandemic” period, in March 2020 - based on London mobility indicators, this is when movement accross London began to be heavily affected, and the disruption was most notable in April</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="london_mobility.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">London mobility data</figcaption><p></p>
</figure>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-15_4b7bb7cbb4e729bbcfbda33762ba22b9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>burglary_df<span class="ot">&lt;-</span>empty_df</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#add a "1" so our month can be converted to a full date</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>burglary_df<span class="sc">$</span>DateString <span class="ot">&lt;-</span> <span class="fu">paste</span>(burglary_df<span class="sc">$</span>Month, <span class="st">"-01"</span>, <span class="at">sep=</span><span class="st">""</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#convert to date format</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>burglary_df<span class="sc">$</span>DateClean <span class="ot">&lt;-</span> <span class="fu">ymd</span>(burglary_df<span class="sc">$</span>DateString)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">#filter out only burglary prior to the pandemic</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>burglaryExplore <span class="ot">&lt;-</span> <span class="fu">filter</span>(burglary_df,  DateClean <span class="sc">&lt;</span> <span class="st">"2020-03-01"</span> <span class="sc">&amp;</span> Crime.type<span class="sc">==</span><span class="st">"Burglary"</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(burglaryExplore)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
MSOA11CD
</th>
<th style="text-align:left;">
Crime.type
</th>
<th style="text-align:right;">
count_by_msoa
</th>
<th style="text-align:left;">
Month
</th>
<th style="text-align:left;">
DateString
</th>
<th style="text-align:left;">
DateClean
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000002
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000003
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000004
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000005
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000007
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
<td style="text-align:left;">
2018-01-01
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>Looking at the aggregate counts of burglary across London, a visual observation suggests yearly trends (which we’ll have to consider in our forecast), which sharp peaks during the Winter months and the lowest numbers in summer (when the days are longest).</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-16_d923cafab4bb9992d00df77afa01c81b">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#group burglary count by months and plot</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>burglary_by_month <span class="ot">&lt;-</span> burglaryExplore <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(DateClean) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_burglaries =</span> <span class="fu">sum</span>(count_by_msoa))</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(burglary_by_month, <span class="fu">aes</span>(<span class="at">x=</span>DateClean, <span class="at">y=</span>total_burglaries)) <span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>To observe how crime counts are distributed in space, let’s map both counts by MSOA. As previously mentioned, MSOAs are designed to be comparable units, at least from a population perspective - we don’t need to produce per population rates.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-17_0c899d39bb4f5e49087001de9e73d52a">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>burglary_by_msoa <span class="ot">&lt;-</span> burglaryExplore <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(MSOA11CD) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_burglaries =</span> <span class="fu">sum</span>(count_by_msoa))</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co">#we join our burglary counts to their geographic msoa</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>burglary_map <span class="ot">&lt;-</span> <span class="fu">left_join</span>(lsoa_borders, burglary_by_msoa, <span class="at">by =</span> <span class="st">"MSOA11CD"</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co">#user brewer colour palette https://colorbrewer2.org</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">5</span>,<span class="st">"BuGn"</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co">#create our map, and add the layout options</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>burglary_map <span class="ot">&lt;-</span><span class="fu">tm_shape</span>(burglary_map) <span class="sc">+</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"total_burglaries"</span>, <span class="at">title =</span> <span class="st">"Total Burglary Count by MSOA"</span>, <span class="at">style=</span><span class="st">"quantile"</span>, <span class="at">palette=</span><span class="st">"BuGn"</span>) <span class="sc">+</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>, <span class="at">legend.outside.position =</span> <span class="st">"right"</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>robbery_df<span class="ot">&lt;-</span>empty_df</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>robbery_df<span class="sc">$</span>DateString <span class="ot">&lt;-</span> <span class="fu">paste</span>(robbery_df<span class="sc">$</span>Month, <span class="st">"-01"</span>, <span class="at">sep=</span><span class="st">""</span>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>robbery_df<span class="sc">$</span>DateClean <span class="ot">&lt;-</span> <span class="fu">ymd</span>(robbery_df<span class="sc">$</span>DateString)</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>robberyExplore <span class="ot">&lt;-</span> <span class="fu">filter</span>(robbery_df,  DateClean <span class="sc">&lt;</span> <span class="st">"2020-03-01"</span> <span class="sc">&amp;</span> Crime.type<span class="sc">==</span><span class="st">"Robbery"</span>)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>robbery_by_msoa <span class="ot">&lt;-</span> robberyExplore <span class="sc">%&gt;%</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(MSOA11CD) <span class="sc">%&gt;%</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_robberies =</span> <span class="fu">sum</span>(count_by_msoa))</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>robbery_map <span class="ot">&lt;-</span> <span class="fu">left_join</span>(lsoa_borders, robbery_by_msoa, <span class="at">by =</span> <span class="st">"MSOA11CD"</span>)</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">5</span>,<span class="st">"BuGn"</span>)</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>robbery_map <span class="ot">&lt;-</span><span class="fu">tm_shape</span>(robbery_map) <span class="sc">+</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"total_robberies"</span>, <span class="at">title =</span> <span class="st">"Total Robbery Count by MSOA"</span>, <span class="at">style=</span><span class="st">"quantile"</span>, <span class="at">palette=</span><span class="st">"BuGn"</span>) <span class="sc">+</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>, <span class="at">legend.outside.position =</span> <span class="st">"right"</span>)</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a><span class="co">#arrange the maps together</span></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(burglary_map, robbery_map, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
<p>We notice that robbery is noticeably more concentrated in central London, with burglary remaining quite common across the city. That said, there are also obvious spatial patterns here - these crimes are clustered in certain geographies.</p>
</section>
<section id="modelling" class="level4">
<h4 class="anchored" data-anchor-id="modelling">Modelling</h4>
<p>We can now begin the forecasting process. To design our process, we’ll start by focusing on a single MSOA - the first in our dataset, <a href="https://findthatpostcode.uk/areas/E02000001.html">E02000001, or the City of London.</a></p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-18_6447f33aff4430eb914408bb30269dcd">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>single_msoa_df <span class="ot">&lt;-</span> <span class="fu">filter</span>(empty_df, MSOA11CD <span class="sc">==</span> <span class="st">"E02000001"</span> <span class="sc">&amp;</span> Crime.type<span class="sc">==</span><span class="st">"Burglary"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#we add a 01 to our date to ensure R recognises the date format</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>single_msoa_df<span class="sc">$</span>DateString <span class="ot">&lt;-</span> <span class="fu">paste</span>(single_msoa_df<span class="sc">$</span>Month, <span class="st">"-01"</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>single_msoa_df<span class="sc">$</span>DateClean <span class="ot">&lt;-</span> <span class="fu">ymd</span>(single_msoa_df<span class="sc">$</span>DateString)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>single_msoa_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
MSOA11CD
</th>
<th style="text-align:left;">
Crime.type
</th>
<th style="text-align:right;">
count_by_msoa
</th>
<th style="text-align:left;">
Month
</th>
<th style="text-align:left;">
DateString
</th>
<th style="text-align:left;">
DateClean
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-01
</td>
<td style="text-align:left;">
2018-01 -01
</td>
<td style="text-align:left;">
2018-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-02
</td>
<td style="text-align:left;">
2018-02 -01
</td>
<td style="text-align:left;">
2018-02-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2018-03
</td>
<td style="text-align:left;">
2018-03 -01
</td>
<td style="text-align:left;">
2018-03-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-04
</td>
<td style="text-align:left;">
2018-04 -01
</td>
<td style="text-align:left;">
2018-04-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
2018-05
</td>
<td style="text-align:left;">
2018-05 -01
</td>
<td style="text-align:left;">
2018-05-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
2018-06
</td>
<td style="text-align:left;">
2018-06 -01
</td>
<td style="text-align:left;">
2018-06-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
2018-07
</td>
<td style="text-align:left;">
2018-07 -01
</td>
<td style="text-align:left;">
2018-07-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2018-08
</td>
<td style="text-align:left;">
2018-08 -01
</td>
<td style="text-align:left;">
2018-08-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-09
</td>
<td style="text-align:left;">
2018-09 -01
</td>
<td style="text-align:left;">
2018-09-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
2018-10
</td>
<td style="text-align:left;">
2018-10 -01
</td>
<td style="text-align:left;">
2018-10-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2018-11
</td>
<td style="text-align:left;">
2018-11 -01
</td>
<td style="text-align:left;">
2018-11-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
2018-12
</td>
<td style="text-align:left;">
2018-12 -01
</td>
<td style="text-align:left;">
2018-12-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2019-01
</td>
<td style="text-align:left;">
2019-01 -01
</td>
<td style="text-align:left;">
2019-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
2019-02
</td>
<td style="text-align:left;">
2019-02 -01
</td>
<td style="text-align:left;">
2019-02-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2019-03
</td>
<td style="text-align:left;">
2019-03 -01
</td>
<td style="text-align:left;">
2019-03-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
2019-04
</td>
<td style="text-align:left;">
2019-04 -01
</td>
<td style="text-align:left;">
2019-04-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
2019-05
</td>
<td style="text-align:left;">
2019-05 -01
</td>
<td style="text-align:left;">
2019-05-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
2019-06
</td>
<td style="text-align:left;">
2019-06 -01
</td>
<td style="text-align:left;">
2019-06-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2019-07
</td>
<td style="text-align:left;">
2019-07 -01
</td>
<td style="text-align:left;">
2019-07-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2019-08
</td>
<td style="text-align:left;">
2019-08 -01
</td>
<td style="text-align:left;">
2019-08-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2019-09
</td>
<td style="text-align:left;">
2019-09 -01
</td>
<td style="text-align:left;">
2019-09-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
2019-10
</td>
<td style="text-align:left;">
2019-10 -01
</td>
<td style="text-align:left;">
2019-10-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2019-11
</td>
<td style="text-align:left;">
2019-11 -01
</td>
<td style="text-align:left;">
2019-11-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2019-12
</td>
<td style="text-align:left;">
2019-12 -01
</td>
<td style="text-align:left;">
2019-12-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
2020-01
</td>
<td style="text-align:left;">
2020-01 -01
</td>
<td style="text-align:left;">
2020-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2020-02
</td>
<td style="text-align:left;">
2020-02 -01
</td>
<td style="text-align:left;">
2020-02-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
2020-03
</td>
<td style="text-align:left;">
2020-03 -01
</td>
<td style="text-align:left;">
2020-03-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
2020-04
</td>
<td style="text-align:left;">
2020-04 -01
</td>
<td style="text-align:left;">
2020-04-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2020-05
</td>
<td style="text-align:left;">
2020-05 -01
</td>
<td style="text-align:left;">
2020-05-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2020-06
</td>
<td style="text-align:left;">
2020-06 -01
</td>
<td style="text-align:left;">
2020-06-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2020-07
</td>
<td style="text-align:left;">
2020-07 -01
</td>
<td style="text-align:left;">
2020-07-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2020-08
</td>
<td style="text-align:left;">
2020-08 -01
</td>
<td style="text-align:left;">
2020-08-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2020-09
</td>
<td style="text-align:left;">
2020-09 -01
</td>
<td style="text-align:left;">
2020-09-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2020-10
</td>
<td style="text-align:left;">
2020-10 -01
</td>
<td style="text-align:left;">
2020-10-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2020-11
</td>
<td style="text-align:left;">
2020-11 -01
</td>
<td style="text-align:left;">
2020-11-01
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
Burglary
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2020-12
</td>
<td style="text-align:left;">
2020-12 -01
</td>
<td style="text-align:left;">
2020-12-01
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>From a forecasting/time-series perspective, this is a very small dataset - 36 monthly observations. We will be shrinking this further to only 26 by focusing on data prior to March 2020, when the COVID crime impact is felt. This significantly limits our forecasting options, and will impact accuracy, if we treat each MSOA in isolation - we could explore some sort of Vector Autoregressive Model to limit this, but given that we’re then going to be exploring the error of all our models in aggregation, this isn’t crucial. Our focus is on models that we can accurately deploy without needing to tune each of them individually, and that can capture the seasonal trend, and generate reliable predictions on our limited dataset.</p>
<p>Given these limitations, I’ve opted for <a href="https://facebook.github.io/prophet/">the Prophet algorith.</a> While it’s more opaque than a auto-arima or VAR model, it works well with monthly data, and extracting seasonal trends. It also requires very little tuning.</p>
<p>As such, we’ll extract our “training set” prior to March, and start forecasting.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-19_563fa94fee42627a758047edb39a8d40">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>training_set <span class="ot">&lt;-</span> <span class="fu">filter</span>(single_msoa_df, DateClean <span class="sc">&lt;</span> <span class="st">"2020-03-01"</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>training_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ds=</span>training_set<span class="sc">$</span>DateClean,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span>training_set<span class="sc">$</span>count_by_msoa</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(training_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
ds
</th>
<th style="text-align:right;">
y
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2018-01-01
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-02-01
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-03-01
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-04-01
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-05-01
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
2018-06-01
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-20_a8dff50a7c6cb9d9b5a00e92c7f4e6ca">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(prophet)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: Rcpp</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: rlang</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'rlang'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:Metrics':

    ll</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:purrr':

    %@%, as_function, flatten, flatten_chr, flatten_dbl, flatten_int,
    flatten_lgl, flatten_raw, invoke, splice</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">prophet</span>(training_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Disabling weekly seasonality. Run prophet with weekly.seasonality=TRUE to override this.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Disabling daily seasonality. Run prophet with daily.seasonality=TRUE to override this.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>n.changepoints greater than number of observations. Using 19</code></pre>
</div>
</div>
<p>For now, we’ll forecast on a 6 month horizon - we obviously wouldn’t expect it to be accurate that far into the future.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-21_0f5604ea6f0d47d572109b4ac1d4c060">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#prophet generates a future dataframe using our data, for 6 mperiods</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>future <span class="ot">&lt;-</span> <span class="fu">make_future_dataframe</span>(m, <span class="at">periods =</span> <span class="dv">6</span>, <span class="at">freq =</span> <span class="st">'month'</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>forecast <span class="ot">&lt;-</span> <span class="fu">predict</span>(m, future)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(m, forecast)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As we can see, the model seems consistent on a short horizon, and gets very wide as it goes further into the future. More importantly however, it has extracted a yearly seasonal compontent - the summer decrease we identified previously - as well as a long term trend.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-22_3661e4899b89a111be8f9d104f4db5da">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prophet_plot_components</span>(m, forecast)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>These predictions seem far-fetched, but remember we will be observing a London wide error rate. As such, we must now isolate our “pandemic period” - which we define as April and May 2020 - and compare the predicted crime counts to the actual crime counts to obtain a metric of our “COVID crime shift”, or our error rate.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-23_bf6fe869d559e15dae7594b84fb92c90">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>forecast<span class="sc">$</span>Month <span class="ot">&lt;-</span> <span class="fu">month</span>(forecast<span class="sc">$</span>ds)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>forecast<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">year</span>(forecast<span class="sc">$</span>ds)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>this_year <span class="ot">&lt;-</span> <span class="fu">filter</span>(forecast, Year <span class="sc">&gt;</span> <span class="dv">2019</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>peak_pandemic <span class="ot">&lt;-</span> <span class="fu">filter</span>(this_year, Month<span class="sc">==</span> <span class="dv">4</span> <span class="sc">|</span> Month<span class="sc">==</span> <span class="dv">5</span> )</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>predictionPivot <span class="ot">&lt;-</span> peak_pandemic <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Month) <span class="sc">%&gt;%</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">predicted_burglary =</span> <span class="fu">mean</span>(yhat))</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>single_msoa_df<span class="sc">$</span>MonthNum <span class="ot">&lt;-</span> <span class="fu">month</span>(single_msoa_df<span class="sc">$</span>DateClean)</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>single_msoa_df<span class="sc">$</span>YearNum <span class="ot">&lt;-</span> <span class="fu">year</span>(single_msoa_df<span class="sc">$</span>DateClean)</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>this_year_actual <span class="ot">&lt;-</span> <span class="fu">filter</span>(single_msoa_df, YearNum <span class="sc">&gt;</span> <span class="dv">2019</span>)</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>peak_pandemic_actual <span class="ot">&lt;-</span> <span class="fu">filter</span>(this_year_actual, MonthNum<span class="sc">==</span> <span class="dv">4</span> <span class="sc">|</span> MonthNum<span class="sc">==</span> <span class="dv">5</span> )</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>actual_burglary <span class="ot">&lt;-</span> <span class="fu">sum</span>(peak_pandemic_actual<span class="sc">$</span>count_by_msoa)</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>pred_burglary <span class="ot">&lt;-</span> <span class="fu">sum</span>(predictionPivot<span class="sc">$</span>predicted_burglary)</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>error <span class="ot">&lt;-</span> actual_burglary <span class="sc">-</span> pred_burglary</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>percentage_error <span class="ot">&lt;-</span> error <span class="sc">/</span> pred_burglary </span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Burglary Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Burglary Count"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(actual_burglary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Predicted"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Predicted"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(pred_burglary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.625019</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Actual Error"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Actual Error"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(error)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -6.625019</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Percentage Error"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Percentage Error"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(percentage_error)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.8688528</code></pre>
</div>
</div>
<p>In this MSOA, our model predicted nearly 8 burglaries would occur in these two months, based on pre-pandemic trends. In reality, 1 took place - a large error rate, suggesting a strong “COVID effect”.</p>
<p>This process can now be replicated for every MSOA in London, to obtain this metric for each MSOA.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(empty_df<span class="sc">$</span>MSOA11CD))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 984</code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-25_7c6ab4c946c21bdfefeefeb8ebb06328">
<pre><code>## NULL</code></pre>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-26_4e682d3316b019e4c7dd111765907048">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(msoa_error_tibble)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
MSOA11CD
</th>
<th style="text-align:left;">
burglaryActual
</th>
<th style="text-align:left;">
burglaryPredicted
</th>
<th style="text-align:left;">
burglaryError
</th>
<th style="text-align:left;">
burglaryPercentError
</th>
<th style="text-align:left;">
robberyActual
</th>
<th style="text-align:left;">
robberyPredicted
</th>
<th style="text-align:left;">
robberyError
</th>
<th style="text-align:left;">
robberyPercentError
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000001
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
7.62501853994038
</td>
<td style="text-align:left;">
-6.62501853994038
</td>
<td style="text-align:left;">
-0.868852777896614
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
-1.97666206600358
</td>
<td style="text-align:left;">
2.97666206600358
</td>
<td style="text-align:left;">
-1.50590336972561
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000002
</td>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
-9.23326713435216
</td>
<td style="text-align:left;">
17.2332671343522
</td>
<td style="text-align:left;">
-1.86643220472157
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1.12957561845153
</td>
<td style="text-align:left;">
-1.12957561845153
</td>
<td style="text-align:left;">
-1
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000003
</td>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
12.3480006370534
</td>
<td style="text-align:left;">
-1.34800063705343
</td>
<td style="text-align:left;">
-0.109167522473914
</td>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
6.9224283913514
</td>
<td style="text-align:left;">
3.0775716086486
</td>
<td style="text-align:left;">
0.444579768061392
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000004
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
-4.71960263280976
</td>
<td style="text-align:left;">
6.71960263280976
</td>
<td style="text-align:left;">
-1.42376448942892
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
-1.27129225183737
</td>
<td style="text-align:left;">
1.27129225183737
</td>
<td style="text-align:left;">
-1
</td>
</tr>
<tr>
<td style="text-align:left;">
E02000005
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
4.58490182624086
</td>
<td style="text-align:left;">
-0.584901826240862
</td>
<td style="text-align:left;">
-0.127571286890655
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
9.21402738381341
</td>
<td style="text-align:left;">
-8.21402738381341
</td>
<td style="text-align:left;">
-0.89146982547971
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>Our process has completed: we have a “COVID shift” measure for all of London.</p>
</section>
</section>
<section id="measuring-local-covid-crime-shifts" class="level2">
<h2 class="anchored" data-anchor-id="measuring-local-covid-crime-shifts">3. Measuring Local COVID Crime Shifts</h2>
<p>We now need to use our forecasts to measure the “error” - this should provide an indication of the “COVID Crime Shift”, or how much the actual crime diverted from the previous forecasts.</p>
<p>I explored various avenues for this: the ideal solution would be a relative rate of the error, as MSOAs with large crime numbers will likely generate large errors, and so a rate would be ideal, though this is complicated by our erratic prediction and mix of positive and negative numbers.</p>
<p>Our final solution has explored two options: - the absolute error number - the relative error once the crime and predictions have been transformed (by adding 50)</p>
<p><span class="math display">\[
actual_{k} = actual + 50
\]</span></p>
<p><span class="math display">\[
predicted_{k} = predicted + 50
\]</span></p>
<p><span class="math display">\[
RPD = \frac{(actual_{k} - predicted_{k})}  {(actual_{k} + predicted_{k})/2}
\]</span></p>
<p>We visualise and describe these statistics first to ensure they appear sensible.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-27_0251d732aff16c870b6f5f049a3948f8">

</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-28_94efbc43595802a4f8478b7a02216cf8">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"msoa_error_table2.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 980 Columns: 9
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): MSOA11CD
dbl (8): burglaryActual, burglaryPredicted, burglaryError, burglaryPercentEr...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble[,<span class="dv">2</span><span class="sc">:</span><span class="dv">9</span>] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(msoa_error_tibble[,<span class="dv">2</span><span class="sc">:</span><span class="dv">9</span>], as.numeric)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble <span class="ot">&lt;-</span> msoa_error_tibble[<span class="dv">2</span><span class="sc">:</span><span class="dv">980</span>, ]</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble <span class="ot">&lt;-</span> <span class="fu">left_join</span>(msoa_error_tibble, robbery_by_msoa, <span class="at">by =</span> <span class="st">"MSOA11CD"</span>)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble <span class="ot">&lt;-</span> <span class="fu">left_join</span>(msoa_error_tibble, burglary_by_msoa, <span class="at">by =</span> <span class="st">"MSOA11CD"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-29_ee609c4419a44e0e980348c714da5ca2">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble<span class="sc">$</span>RPDBurglary <span class="ot">&lt;-</span> (msoa_error_tibble<span class="sc">$</span>burglaryActual <span class="sc">-</span> msoa_error_tibble<span class="sc">$</span>burglaryPredicted)<span class="sc">/</span>((msoa_error_tibble<span class="sc">$</span>burglaryPredicted <span class="sc">+</span> msoa_error_tibble<span class="sc">$</span>burglaryActual)<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble<span class="sc">$</span>RPDRobbery <span class="ot">&lt;-</span> (msoa_error_tibble<span class="sc">$</span>robberyActual <span class="sc">-</span> msoa_error_tibble<span class="sc">$</span>robberyPredicted)<span class="sc">/</span>((msoa_error_tibble<span class="sc">$</span>robberyPredicted <span class="sc">+</span> msoa_error_tibble<span class="sc">$</span>robberyActual)<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble<span class="sc">$</span>robberyActualShifted <span class="ot">&lt;-</span> msoa_error_tibble<span class="sc">$</span>robberyActual <span class="sc">+</span> <span class="dv">50</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble<span class="sc">$</span>robberyPredictedShifted <span class="ot">&lt;-</span> msoa_error_tibble<span class="sc">$</span>robberyPredicted <span class="sc">+</span> <span class="dv">50</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble<span class="sc">$</span>RPDRobberyShifted <span class="ot">&lt;-</span> (msoa_error_tibble<span class="sc">$</span>robberyActualShifted <span class="sc">-</span> msoa_error_tibble<span class="sc">$</span>robberyPredictedShifted)<span class="sc">/</span>((msoa_error_tibble<span class="sc">$</span>robberyPredictedShifted <span class="sc">+</span> msoa_error_tibble<span class="sc">$</span>robberyActualShifted)<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble<span class="sc">$</span>burglaryActualShifted <span class="ot">&lt;-</span> msoa_error_tibble<span class="sc">$</span>burglaryActual <span class="sc">+</span> <span class="dv">50</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble<span class="sc">$</span>burglaryPredictedShifted <span class="ot">&lt;-</span> msoa_error_tibble<span class="sc">$</span>burglaryPredicted <span class="sc">+</span> <span class="dv">50</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>msoa_error_tibble<span class="sc">$</span>RPDburglaryShifted <span class="ot">&lt;-</span> (msoa_error_tibble<span class="sc">$</span>burglaryActualShifted <span class="sc">-</span> msoa_error_tibble<span class="sc">$</span>burglaryPredictedShifted)<span class="sc">/</span>((msoa_error_tibble<span class="sc">$</span>burglaryPredictedShifted <span class="sc">+</span> msoa_error_tibble<span class="sc">$</span>burglaryActualShifted)<span class="sc">/</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-30_1b58f3318dc070879b6f1528950ff623">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Burglary Error"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Burglary Error"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(msoa_error_tibble<span class="sc">$</span>burglaryError)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
-97.191 -12.870  -5.271  -6.090   2.111  48.727 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Burglary Relative Error"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Burglary Relative Error"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(msoa_error_tibble<span class="sc">$</span>RPDburglaryShifted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-0.81266 -0.20689 -0.08826 -0.07976  0.03612  1.29467 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Robbery Error"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Robbery Error"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(msoa_error_tibble<span class="sc">$</span>robberyError)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-309.618   -6.577   -2.150   -3.840    2.205   25.564 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Robbery Relative Error"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Robbery Relative Error"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(msoa_error_tibble<span class="sc">$</span>RPDRobberyShifted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-1.45491 -0.11808 -0.04081 -0.04876  0.04309  0.62020 </code></pre>
</div>
</div>
<p>As we can see, the average London MSOA experienced a negative COVID crime shift for both burglary and robbery, but this is far from equally distributed - at the extremes, some areas actually see large increases on our predicted values.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-31_58e7579d348f383d1527c85934f7b4c9">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>burg_hist <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(msoa_error_tibble, <span class="fu">aes</span>(<span class="at">x=</span>burglaryError)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>rob_hist <span class="ot">&lt;-</span><span class="fu">ggplot</span>(msoa_error_tibble, <span class="fu">aes</span>(<span class="at">x=</span>robberyError)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>burg_r_hist <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(msoa_error_tibble, <span class="fu">aes</span>(<span class="at">x=</span>RPDburglaryShifted)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>rob_r_hist <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(msoa_error_tibble, <span class="fu">aes</span>(<span class="at">x=</span>RPDRobberyShifted)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>scatter <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(msoa_error_tibble, <span class="fu">aes</span>(<span class="at">x =</span> RPDRobberyShifted, <span class="at">y =</span> RPDburglaryShifted)) <span class="sc">+</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>r_scatter <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(msoa_error_tibble, <span class="fu">aes</span>(<span class="at">x =</span> robberyError, <span class="at">y =</span> burglaryError)) <span class="sc">+</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(rob_hist, burg_hist, rob_r_hist, burg_r_hist,scatter, r_scatter, <span class="at">ncol=</span><span class="dv">2</span>, <span class="at">nrow=</span><span class="dv">3</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
<p>Our shifted relative error rate seems to function as intended: while there are still outliers, they are more concentrated than they are for the pure error term, and the overall distribution is more focused, while still indicating the direction and relative strength of our COVID effect.</p>
<p>Let’s map this effect visually, and see if any particular areas stand out.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-32_2730c0e483687e86e2681a51f99616e1">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co">#re-ingest our geographic MSOA borders</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>msoa_borders <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"msoa_borders/MSOA_2011_London_gen_MHW.tab"</span>, <span class="at">crs=</span><span class="dv">27700</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `MSOA_2011_London_gen_MHW' from data source 
  `D:\Dropbox\Data Projects\Covid_crime_shift\msoa_borders\MSOA_2011_London_gen_MHW.tab' 
  using driver `MapInfo File'
Simple feature collection with 983 features and 12 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 503574.2 ymin: 155850.8 xmax: 561956.7 ymax: 200933.6
Projected CRS: OSGB 1936 / British National Grid</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>geographic_error_map <span class="ot">&lt;-</span> <span class="fu">left_join</span>(msoa_borders, msoa_error_tibble, <span class="at">by =</span> <span class="st">"MSOA11CD"</span>)</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>burg_map <span class="ot">&lt;-</span> <span class="fu">tm_shape</span>(geographic_error_map) <span class="sc">+</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"robberyError"</span>, <span class="at">title =</span> <span class="st">"Robbery Error"</span>, <span class="at">palette=</span><span class="st">"-PuOr"</span>)<span class="sc">+</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>, <span class="at">legend.outside.position =</span> <span class="st">"right"</span>)</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>rob_map <span class="ot">&lt;-</span><span class="fu">tm_shape</span>(geographic_error_map) <span class="sc">+</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"burglaryError"</span>, <span class="at">title =</span> <span class="st">"Burglary  Error"</span>, <span class="at">palette=</span><span class="st">"-PuOr"</span>)<span class="sc">+</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>, <span class="at">legend.outside.position =</span> <span class="st">"right"</span>)</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>burg_map_rate <span class="ot">&lt;-</span> <span class="fu">tm_shape</span>(geographic_error_map) <span class="sc">+</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"RPDRobberyShifted"</span>, <span class="at">title =</span> <span class="st">"Robbery Error Relative"</span>, <span class="at">palette=</span><span class="st">"-PuOr"</span>)<span class="sc">+</span></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>, <span class="at">legend.outside.position =</span> <span class="st">"right"</span>)</span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>rob_map_rate <span class="ot">&lt;-</span><span class="fu">tm_shape</span>(geographic_error_map) <span class="sc">+</span></span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"RPDburglaryShifted"</span>, <span class="at">title =</span> <span class="st">"Burglary  Error Relative"</span>, <span class="at">palette=</span><span class="st">"-PuOr"</span>)<span class="sc">+</span></span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>, <span class="at">legend.outside.position =</span> <span class="st">"right"</span>)</span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(burg_map, rob_map, burg_map_rate, rob_map_rate , <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Variable(s) "robberyError" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Variable(s) "burglaryError" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Variable(s) "RPDRobberyShifted" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Variable(s) "RPDburglaryShifted" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
<p>It’s hard to identify any obvious effect visually, but we do notice that while central London sees some very strong reductions, it also sees some increases. Conversely, the outskirts of London (notably to the south and West) are a near continuous area of large decreases. The effect does vary by offence type, but the pattern seen in South and West London appears broadly consistent.</p>
</section>
<section id="identifying-correlates-and-modelling" class="level2">
<h2 class="anchored" data-anchor-id="identifying-correlates-and-modelling">Identifying Correlates and Modelling</h2>
<p>We’ve identified that the COVID crime effect was felt unequally accross London, and varies by offence type. To finalise our project, we will be linking our data to <a href="https://data.london.gov.uk/dataset/msoa-atlas">demographic data provided by MOPAC</a>, and aiming to use it to identify correlates to our “covid shift”, and hopefully build models disentangling the effect.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-33_cbabcd198998424627841b6e5a979b32">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="co">#ingest ATLAS</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>msoa_atlas <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"msoa_atlas/msoa-data.xls"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `House Prices Sales 2011` -&gt; `House Prices Sales 2011...129`
• `House Prices Sales 2011` -&gt; `House Prices Sales 2011...130`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co">#join by MSOA</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>geographic_msoa_matrix <span class="ot">&lt;-</span> <span class="fu">left_join</span>(geographic_error_map, msoa_atlas, <span class="at">by =</span> <span class="st">"MSOA11CD"</span>)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="co">#convert to tibble</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>msoa_matrix_tbl <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(geographic_msoa_matrix)</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(msoa_matrix_tbl, <span class="st">"msoa_matrix.csv"</span>)</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a><span class="co">#select only numeric data</span></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a>msoa_matrix_numeric <span class="ot">&lt;-</span>dplyr<span class="sc">::</span><span class="fu">select_if</span>(msoa_matrix_tbl, is.numeric)</span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(msoa_matrix_numeric)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:right;">
UsualRes
</th>
<th style="text-align:right;">
HholdRes
</th>
<th style="text-align:right;">
ComEstRes
</th>
<th style="text-align:right;">
PopDen
</th>
<th style="text-align:right;">
Hholds
</th>
<th style="text-align:right;">
AvHholdSz
</th>
<th style="text-align:right;">
burglaryActual
</th>
<th style="text-align:right;">
burglaryPredicted
</th>
<th style="text-align:right;">
burglaryError
</th>
<th style="text-align:right;">
burglaryPercentError
</th>
<th style="text-align:right;">
robberyActual
</th>
<th style="text-align:right;">
robberyPredicted
</th>
<th style="text-align:right;">
robberyError
</th>
<th style="text-align:right;">
robberyPercentError
</th>
<th style="text-align:right;">
total_robberies
</th>
<th style="text-align:right;">
total_burglaries
</th>
<th style="text-align:right;">
RPDBurglary
</th>
<th style="text-align:right;">
RPDRobbery
</th>
<th style="text-align:right;">
robberyActualShifted
</th>
<th style="text-align:right;">
robberyPredictedShifted
</th>
<th style="text-align:right;">
RPDRobberyShifted
</th>
<th style="text-align:right;">
burglaryActualShifted
</th>
<th style="text-align:right;">
burglaryPredictedShifted
</th>
<th style="text-align:right;">
RPDburglaryShifted
</th>
<th style="text-align:right;">
Age Structure (2011 Census) All Ages
</th>
<th style="text-align:right;">
Age Structure (2011 Census) 0-15
</th>
<th style="text-align:right;">
Age Structure (2011 Census) 16-29
</th>
<th style="text-align:right;">
Age Structure (2011 Census) 30-44
</th>
<th style="text-align:right;">
Age Structure (2011 Census) 45-64
</th>
<th style="text-align:right;">
Age Structure (2011 Census) 65+
</th>
<th style="text-align:right;">
Age Structure (2011 Census) Working-age
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2002
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2003
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2004
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2005
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2006
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2007
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2008
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2009
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2010
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2011
</th>
<th style="text-align:right;">
Mid-year Estimate totals All Ages 2012
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age % 0 to 14
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age % 15-64
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age % 65+
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 0-4
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 5-9
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 10-14
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 15-19
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 20-24
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 25-29
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 30-34
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 35-39
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 40-44
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 45-49
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 50-54
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 55-59
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 60-64
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 65-69
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 70-74
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 75-79
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 80-84
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 85-89
</th>
<th style="text-align:right;">
Mid-year Estimates 2012, by age 90+
</th>
<th style="text-align:right;">
Households (2011) All Households
</th>
<th style="text-align:right;">
Household Composition (2011) Numbers Couple household with dependent children
</th>
<th style="text-align:right;">
Household Composition (2011) Numbers Couple household without dependent children
</th>
<th style="text-align:right;">
Household Composition (2011) Numbers Lone parent household
</th>
<th style="text-align:right;">
Household Composition (2011) Numbers One person household
</th>
<th style="text-align:right;">
Household Composition (2011) Numbers Other household Types
</th>
<th style="text-align:right;">
Household Composition (2011) Percentages Couple household with dependent children
</th>
<th style="text-align:right;">
Household Composition (2011) Percentages Couple household without dependent children
</th>
<th style="text-align:right;">
Household Composition (2011) Percentages Lone parent household
</th>
<th style="text-align:right;">
Household Composition (2011) Percentages One person household
</th>
<th style="text-align:right;">
Household Composition (2011) Percentages Other household Types
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) White
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) Mixed/multiple ethnic groups
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) Asian/Asian British
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) Black/African/Caribbean/Black British
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) Other ethnic group
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) BAME
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) White (%)
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) Mixed/multiple ethnic groups (%)
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) Asian/Asian British (%)
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) Black/African/Caribbean/Black British (%)
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) Other ethnic group (%)
</th>
<th style="text-align:right;">
Ethnic Group (2011 Census) BAME (%)
</th>
<th style="text-align:right;">
Country of Birth (2011) United Kingdom
</th>
<th style="text-align:right;">
Country of Birth (2011) Not United Kingdom
</th>
<th style="text-align:right;">
Country of Birth (2011) United Kingdom (%)
</th>
<th style="text-align:right;">
Country of Birth (2011) Not United Kingdom (%)
</th>
<th style="text-align:right;">
Household Language (2011) At least one person aged 16 and over in household has English as a main language
</th>
<th style="text-align:right;">
Household Language (2011) No people in household have English as a main language
</th>
<th style="text-align:right;">
Household Language (2011) % of people aged 16 and over in household have English as a main language
</th>
<th style="text-align:right;">
Household Language (2011) % of households where no people in household have English as a main language
</th>
<th style="text-align:right;">
Religion (2011) Christian
</th>
<th style="text-align:right;">
Religion (2011) Buddhist
</th>
<th style="text-align:right;">
Religion (2011) Hindu
</th>
<th style="text-align:right;">
Religion (2011) Jewish
</th>
<th style="text-align:right;">
Religion (2011) Muslim
</th>
<th style="text-align:right;">
Religion (2011) Sikh
</th>
<th style="text-align:right;">
Religion (2011) Other religion
</th>
<th style="text-align:right;">
Religion (2011) No religion
</th>
<th style="text-align:right;">
Religion (2011) Religion not stated
</th>
<th style="text-align:right;">
Religion (2011) Christian (%)
</th>
<th style="text-align:right;">
Religion (2011) Buddhist (%)
</th>
<th style="text-align:right;">
Religion (2011) Hindu (%)
</th>
<th style="text-align:right;">
Religion (2011) Jewish (%)
</th>
<th style="text-align:right;">
Religion (2011) Muslim (%)
</th>
<th style="text-align:right;">
Religion (2011) Sikh (%)
</th>
<th style="text-align:right;">
Religion (2011) Other religion (%)
</th>
<th style="text-align:right;">
Religion (2011) No religion (%)
</th>
<th style="text-align:right;">
Religion (2011) Religion not stated (%)
</th>
<th style="text-align:right;">
Tenure (2011) Owned: Owned outright
</th>
<th style="text-align:right;">
Tenure (2011) Owned: Owned with a mortgage or loan
</th>
<th style="text-align:right;">
Tenure (2011) Social rented
</th>
<th style="text-align:right;">
Tenure (2011) Private rented
</th>
<th style="text-align:right;">
Tenure (2011) Owned: Owned outright (%)
</th>
<th style="text-align:right;">
Tenure (2011) Owned: Owned with a mortgage or loan (%)
</th>
<th style="text-align:right;">
Tenure (2011) Social rented (%)
</th>
<th style="text-align:right;">
Tenure (2011) Private rented (%)
</th>
<th style="text-align:right;">
Dwelling type (2011) Household spaces with at least one usual resident
</th>
<th style="text-align:right;">
Dwelling type (2011) Household spaces with no usual residents
</th>
<th style="text-align:right;">
Dwelling type (2011) Whole house or bungalow: Detached
</th>
<th style="text-align:right;">
Dwelling type (2011) Whole house or bungalow: Semi-detached
</th>
<th style="text-align:right;">
Dwelling type (2011) Whole house or bungalow: Terraced (including end-terrace)
</th>
<th style="text-align:right;">
Dwelling type (2011) Flat, maisonette or apartment
</th>
<th style="text-align:right;">
Dwelling type (2011) Household spaces with at least one usual resident (%)
</th>
<th style="text-align:right;">
Dwelling type (2011) Household spaces with no usual residents (%)
</th>
<th style="text-align:right;">
Dwelling type (2011) Whole house or bungalow: Detached (%)
</th>
<th style="text-align:right;">
Dwelling type (2011) Whole house or bungalow: Semi-detached (%)
</th>
<th style="text-align:right;">
Dwelling type (2011) Whole house or bungalow: Terraced (including end-terrace) (%)
</th>
<th style="text-align:right;">
Dwelling type (2011) Flat, maisonette or apartment (%)
</th>
<th style="text-align:right;">
Land Area Hectares
</th>
<th style="text-align:right;">
Population Density Persons per hectare (2012)
</th>
<th style="text-align:right;">
House Prices Median House Price (£) 2005
</th>
<th style="text-align:right;">
House Prices Median House Price (£) 2006
</th>
<th style="text-align:right;">
House Prices Median House Price (£) 2007
</th>
<th style="text-align:right;">
House Prices Median House Price (£) 2008
</th>
<th style="text-align:right;">
House Prices Median House Price (£) 2009
</th>
<th style="text-align:right;">
House Prices Median House Price (£) 2010
</th>
<th style="text-align:right;">
House Prices Median House Price (£) 2011
</th>
<th style="text-align:right;">
House Prices Median House Price (£) 2012
</th>
<th style="text-align:right;">
House Prices Median House Price (£) 2013 (p)
</th>
<th style="text-align:right;">
House Prices Sales 2005
</th>
<th style="text-align:right;">
House Prices Sales 2006
</th>
<th style="text-align:right;">
House Prices Sales 2007
</th>
<th style="text-align:right;">
House Prices Sales 2008
</th>
<th style="text-align:right;">
House Prices Sales 2009
</th>
<th style="text-align:right;">
House Prices Sales 2010
</th>
<th style="text-align:right;">
House Prices Sales 2011…129
</th>
<th style="text-align:right;">
House Prices Sales 2011…130
</th>
<th style="text-align:right;">
House Prices Sales 2013(p)
</th>
<th style="text-align:right;">
Qualifications (2011 Census) No qualifications
</th>
<th style="text-align:right;">
Qualifications (2011 Census) Highest level of qualification: Level 1 qualifications
</th>
<th style="text-align:right;">
Qualifications (2011 Census) Highest level of qualification: Level 2 qualifications
</th>
<th style="text-align:right;">
Qualifications (2011 Census) Highest level of qualification: Apprenticeship
</th>
<th style="text-align:right;">
Qualifications (2011 Census) Highest level of qualification: Level 3 qualifications
</th>
<th style="text-align:right;">
Qualifications (2011 Census) Highest level of qualification: Level 4 qualifications and above
</th>
<th style="text-align:right;">
Qualifications (2011 Census) Highest level of qualification: Other qualifications
</th>
<th style="text-align:right;">
Qualifications (2011 Census) Schoolchildren and full-time students: Age 18 and over
</th>
<th style="text-align:right;">
Economic Activity (2011 Census) Economically active: Total
</th>
<th style="text-align:right;">
Economic Activity (2011 Census) Economically active: Unemployed
</th>
<th style="text-align:right;">
Economic Activity (2011 Census) Economically inactive: Total
</th>
<th style="text-align:right;">
Economic Activity (2011 Census) Economically active %
</th>
<th style="text-align:right;">
Economic Activity (2011 Census) Unemployment Rate
</th>
<th style="text-align:right;">
Economic Activity (2011 Census) Economically inactive %
</th>
<th style="text-align:right;">
Adults in Employment (2011 Census) No adults in employment in household: With dependent children
</th>
<th style="text-align:right;">
Adults in Employment (2011 Census) % of households with no adults in employment: With dependent children
</th>
<th style="text-align:right;">
Household Income Estimates (2011/12) Total Mean Annual Household Income (£)
</th>
<th style="text-align:right;">
Household Income Estimates (2011/12) Total Median Annual Household Income (£)
</th>
<th style="text-align:right;">
Income Deprivation (2010) % living in income deprived households reliant on means tested benefit
</th>
<th style="text-align:right;">
Income Deprivation (2010) % of people aged over 60 who live in pension credit households
</th>
<th style="text-align:right;">
Lone Parents (2011 Census) All lone parent housholds with dependent children
</th>
<th style="text-align:right;">
Lone Parents (2011 Census) Lone parents not in employment
</th>
<th style="text-align:right;">
Lone Parents (2011 Census) Lone parent not in employment %
</th>
<th style="text-align:right;">
Central Heating (2011 Census) Households with central heating (%)
</th>
<th style="text-align:right;">
Health (2011 Census) Day-to-day activities limited a lot
</th>
<th style="text-align:right;">
Health (2011 Census) Day-to-day activities limited a little
</th>
<th style="text-align:right;">
Health (2011 Census) Day-to-day activities not limited
</th>
<th style="text-align:right;">
Health (2011 Census) Day-to-day activities limited a lot (%)
</th>
<th style="text-align:right;">
Health (2011 Census) Day-to-day activities limited a little (%)
</th>
<th style="text-align:right;">
Health (2011 Census) Day-to-day activities not limited (%)
</th>
<th style="text-align:right;">
Health (2011 Census) Very good health
</th>
<th style="text-align:right;">
Health (2011 Census) Good health
</th>
<th style="text-align:right;">
Health (2011 Census) Fair health
</th>
<th style="text-align:right;">
Health (2011 Census) Bad health
</th>
<th style="text-align:right;">
Health (2011 Census) Very bad health
</th>
<th style="text-align:right;">
Health (2011 Census) Very good health (%)
</th>
<th style="text-align:right;">
Health (2011 Census) Good health (%)
</th>
<th style="text-align:right;">
Health (2011 Census) Fair health (%)
</th>
<th style="text-align:right;">
Health (2011 Census) Bad health (%)
</th>
<th style="text-align:right;">
Health (2011 Census) Very bad health (%)
</th>
<th style="text-align:right;">
Low Birth Weight Births (2007-2011) Low Birth Weight Births (%)
</th>
<th style="text-align:right;">
Low Birth Weight Births (2007-2011) LCL - Lower confidence limit
</th>
<th style="text-align:right;">
Low Birth Weight Births (2007-2011) UCL - Upper confidence limit
</th>
<th style="text-align:right;">
Obesity % of measured children in Year 6 who were classified as obese, 2009/10-2011/12
</th>
<th style="text-align:right;">
Obesity Percentage of the population aged 16+ with a BMI of 30+, modelled estimate, 2006-2008
</th>
<th style="text-align:right;">
Incidence of Cancer All
</th>
<th style="text-align:right;">
Incidence of Cancer Breast Cancer
</th>
<th style="text-align:right;">
Incidence of Cancer Colorectal Cancer
</th>
<th style="text-align:right;">
Incidence of Cancer Lung Cancer
</th>
<th style="text-align:right;">
Incidence of Cancer Prostate Cancer
</th>
<th style="text-align:right;">
Life Expectancy Males
</th>
<th style="text-align:right;">
Life Expectancy Females
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) No cars or vans in household
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) 1 car or van in household
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) 2 cars or vans in household
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) 3 cars or vans in household
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) 4 or more cars or vans in household
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) Sum of all cars or vans in the area
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) No cars or vans in household (%)
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) 1 car or van in household (%)
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) 2 cars or vans in household (%)
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) 3 cars or vans in household (%)
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) 4 or more cars or vans in household (%)
</th>
<th style="text-align:right;">
Car or van availability (2011 Census) Cars per household
</th>
<th style="text-align:right;">
Road Casualties 2010 Fatal
</th>
<th style="text-align:right;">
Road Casualties 2010 Serious
</th>
<th style="text-align:right;">
Road Casualties 2010 Slight
</th>
<th style="text-align:right;">
Road Casualties 2010 2010 Total
</th>
<th style="text-align:right;">
Road Casualties 2011 Fatal
</th>
<th style="text-align:right;">
Road Casualties 2011 Serious
</th>
<th style="text-align:right;">
Road Casualties 2011 Slight
</th>
<th style="text-align:right;">
Road Casualties 2011 2011 Total
</th>
<th style="text-align:right;">
Road Casualties 2012 Fatal
</th>
<th style="text-align:right;">
Road Casualties 2012 Serious
</th>
<th style="text-align:right;">
Road Casualties 2012 Slight
</th>
<th style="text-align:right;">
Road Casualties 2012 2012 Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
7375
</td>
<td style="text-align:right;">
7187
</td>
<td style="text-align:right;">
188
</td>
<td style="text-align:right;">
25.5
</td>
<td style="text-align:right;">
4385
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7.625019
</td>
<td style="text-align:right;">
-6.6250185
</td>
<td style="text-align:right;">
-0.8688528
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
-1.976662
</td>
<td style="text-align:right;">
2.976662
</td>
<td style="text-align:right;">
-1.5059034
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
-1.5362329
</td>
<td style="text-align:right;">
-6.0955833
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
48.02334
</td>
<td style="text-align:right;">
0.0601204
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
57.62502
</td>
<td style="text-align:right;">
-0.1219796
</td>
<td style="text-align:right;">
7375
</td>
<td style="text-align:right;">
620
</td>
<td style="text-align:right;">
1665
</td>
<td style="text-align:right;">
2045
</td>
<td style="text-align:right;">
2010
</td>
<td style="text-align:right;">
1035
</td>
<td style="text-align:right;">
5720
</td>
<td style="text-align:right;">
7280
</td>
<td style="text-align:right;">
7115
</td>
<td style="text-align:right;">
7118
</td>
<td style="text-align:right;">
7131
</td>
<td style="text-align:right;">
7254
</td>
<td style="text-align:right;">
7607
</td>
<td style="text-align:right;">
7429
</td>
<td style="text-align:right;">
7472
</td>
<td style="text-align:right;">
7338
</td>
<td style="text-align:right;">
7412
</td>
<td style="text-align:right;">
7604
</td>
<td style="text-align:right;">
8.771699
</td>
<td style="text-align:right;">
76.68332
</td>
<td style="text-align:right;">
14.54498
</td>
<td style="text-align:right;">
297
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:right;">
165
</td>
<td style="text-align:right;">
231
</td>
<td style="text-align:right;">
495
</td>
<td style="text-align:right;">
949
</td>
<td style="text-align:right;">
826
</td>
<td style="text-align:right;">
622
</td>
<td style="text-align:right;">
663
</td>
<td style="text-align:right;">
598
</td>
<td style="text-align:right;">
504
</td>
<td style="text-align:right;">
470
</td>
<td style="text-align:right;">
473
</td>
<td style="text-align:right;">
363
</td>
<td style="text-align:right;">
263
</td>
<td style="text-align:right;">
192
</td>
<td style="text-align:right;">
155
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
4385
</td>
<td style="text-align:right;">
306
</td>
<td style="text-align:right;">
927
</td>
<td style="text-align:right;">
153
</td>
<td style="text-align:right;">
2472
</td>
<td style="text-align:right;">
527
</td>
<td style="text-align:right;">
6.978335
</td>
<td style="text-align:right;">
21.14025
</td>
<td style="text-align:right;">
3.489168
</td>
<td style="text-align:right;">
56.37400
</td>
<td style="text-align:right;">
12.01824
</td>
<td style="text-align:right;">
5799
</td>
<td style="text-align:right;">
289
</td>
<td style="text-align:right;">
940
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
154
</td>
<td style="text-align:right;">
1576
</td>
<td style="text-align:right;">
78.63051
</td>
<td style="text-align:right;">
3.918644
</td>
<td style="text-align:right;">
12.745763
</td>
<td style="text-align:right;">
2.616949
</td>
<td style="text-align:right;">
2.0881356
</td>
<td style="text-align:right;">
21.36949
</td>
<td style="text-align:right;">
4670
</td>
<td style="text-align:right;">
2705
</td>
<td style="text-align:right;">
63.32203
</td>
<td style="text-align:right;">
36.67797
</td>
<td style="text-align:right;">
3825
</td>
<td style="text-align:right;">
560
</td>
<td style="text-align:right;">
87.22919
</td>
<td style="text-align:right;">
12.770810
</td>
<td style="text-align:right;">
3344
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
145
</td>
<td style="text-align:right;">
166
</td>
<td style="text-align:right;">
409
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
2522
</td>
<td style="text-align:right;">
651
</td>
<td style="text-align:right;">
45.3
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
2.3
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
34.2
</td>
<td style="text-align:right;">
8.8
</td>
<td style="text-align:right;">
1093
</td>
<td style="text-align:right;">
762
</td>
<td style="text-align:right;">
725
</td>
<td style="text-align:right;">
1573
</td>
<td style="text-align:right;">
24.9
</td>
<td style="text-align:right;">
17.4
</td>
<td style="text-align:right;">
16.5
</td>
<td style="text-align:right;">
35.9
</td>
<td style="text-align:right;">
4385
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
5416
</td>
<td style="text-align:right;">
79.3
</td>
<td style="text-align:right;">
20.7
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:right;">
98.0
</td>
<td style="text-align:right;">
289.78
</td>
<td style="text-align:right;">
26.24060
</td>
<td style="text-align:right;">
310000
</td>
<td style="text-align:right;">
341000
</td>
<td style="text-align:right;">
412500
</td>
<td style="text-align:right;">
365000.0
</td>
<td style="text-align:right;">
410000
</td>
<td style="text-align:right;">
450000
</td>
<td style="text-align:right;">
465000
</td>
<td style="text-align:right;">
485000
</td>
<td style="text-align:right;">
595000
</td>
<td style="text-align:right;">
303
</td>
<td style="text-align:right;">
295
</td>
<td style="text-align:right;">
268
</td>
<td style="text-align:right;">
141
</td>
<td style="text-align:right;">
157
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
256
</td>
<td style="text-align:right;">
195
</td>
<td style="text-align:right;">
353
</td>
<td style="text-align:right;">
454
</td>
<td style="text-align:right;">
291
</td>
<td style="text-align:right;">
445
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
484
</td>
<td style="text-align:right;">
4618
</td>
<td style="text-align:right;">
416
</td>
<td style="text-align:right;">
422
</td>
<td style="text-align:right;">
4972
</td>
<td style="text-align:right;">
187
</td>
<td style="text-align:right;">
1335
</td>
<td style="text-align:right;">
78.83304
</td>
<td style="text-align:right;">
3.761062
</td>
<td style="text-align:right;">
21.16696
</td>
<td style="text-align:right;">
38
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
59728.48
</td>
<td style="text-align:right;">
46788.30
</td>
<td style="text-align:right;">
5.2
</td>
<td style="text-align:right;">
9.9
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
24.2
</td>
<td style="text-align:right;">
95.7
</td>
<td style="text-align:right;">
328
</td>
<td style="text-align:right;">
520
</td>
<td style="text-align:right;">
6527
</td>
<td style="text-align:right;">
4.447458
</td>
<td style="text-align:right;">
7.050847
</td>
<td style="text-align:right;">
88.50169
</td>
<td style="text-align:right;">
4112
</td>
<td style="text-align:right;">
2374
</td>
<td style="text-align:right;">
643
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:right;">
56
</td>
<td style="text-align:right;">
55.75593
</td>
<td style="text-align:right;">
32.18983
</td>
<td style="text-align:right;">
8.718644
</td>
<td style="text-align:right;">
2.576271
</td>
<td style="text-align:right;">
0.759322
</td>
<td style="text-align:right;">
4.2
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
7.1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
13.7
</td>
<td style="text-align:right;">
76.8
</td>
<td style="text-align:right;">
90.9
</td>
<td style="text-align:right;">
83.9
</td>
<td style="text-align:right;">
57.1
</td>
<td style="text-align:right;">
80.2
</td>
<td style="text-align:right;">
83.6
</td>
<td style="text-align:right;">
88.4
</td>
<td style="text-align:right;">
3043
</td>
<td style="text-align:right;">
1100
</td>
<td style="text-align:right;">
173
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
1692
</td>
<td style="text-align:right;">
69.4
</td>
<td style="text-align:right;">
25.1
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.3858609
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
334
</td>
<td style="text-align:right;">
374
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
359
</td>
<td style="text-align:right;">
405
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
361
</td>
<td style="text-align:right;">
414
</td>
</tr>
<tr>
<td style="text-align:right;">
6775
</td>
<td style="text-align:right;">
6724
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
31.3
</td>
<td style="text-align:right;">
2713
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
-9.233267
</td>
<td style="text-align:right;">
17.2332671
</td>
<td style="text-align:right;">
-1.8664322
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.129576
</td>
<td style="text-align:right;">
-1.129576
</td>
<td style="text-align:right;">
-1.0000000
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
136
</td>
<td style="text-align:right;">
-27.9473386
</td>
<td style="text-align:right;">
-2.0000000
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
51.12958
</td>
<td style="text-align:right;">
-0.0223392
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
40.76673
</td>
<td style="text-align:right;">
0.3489691
</td>
<td style="text-align:right;">
6775
</td>
<td style="text-align:right;">
1751
</td>
<td style="text-align:right;">
1277
</td>
<td style="text-align:right;">
1388
</td>
<td style="text-align:right;">
1258
</td>
<td style="text-align:right;">
1101
</td>
<td style="text-align:right;">
3923
</td>
<td style="text-align:right;">
6333
</td>
<td style="text-align:right;">
6312
</td>
<td style="text-align:right;">
6329
</td>
<td style="text-align:right;">
6341
</td>
<td style="text-align:right;">
6330
</td>
<td style="text-align:right;">
6323
</td>
<td style="text-align:right;">
6369
</td>
<td style="text-align:right;">
6570
</td>
<td style="text-align:right;">
6636
</td>
<td style="text-align:right;">
6783
</td>
<td style="text-align:right;">
6853
</td>
<td style="text-align:right;">
25.113089
</td>
<td style="text-align:right;">
58.73340
</td>
<td style="text-align:right;">
16.15351
</td>
<td style="text-align:right;">
652
</td>
<td style="text-align:right;">
607
</td>
<td style="text-align:right;">
462
</td>
<td style="text-align:right;">
458
</td>
<td style="text-align:right;">
399
</td>
<td style="text-align:right;">
468
</td>
<td style="text-align:right;">
466
</td>
<td style="text-align:right;">
466
</td>
<td style="text-align:right;">
461
</td>
<td style="text-align:right;">
450
</td>
<td style="text-align:right;">
347
</td>
<td style="text-align:right;">
254
</td>
<td style="text-align:right;">
256
</td>
<td style="text-align:right;">
254
</td>
<td style="text-align:right;">
206
</td>
<td style="text-align:right;">
215
</td>
<td style="text-align:right;">
201
</td>
<td style="text-align:right;">
137
</td>
<td style="text-align:right;">
94
</td>
<td style="text-align:right;">
2713
</td>
<td style="text-align:right;">
491
</td>
<td style="text-align:right;">
366
</td>
<td style="text-align:right;">
597
</td>
<td style="text-align:right;">
814
</td>
<td style="text-align:right;">
445
</td>
<td style="text-align:right;">
18.098046
</td>
<td style="text-align:right;">
13.49060
</td>
<td style="text-align:right;">
22.005160
</td>
<td style="text-align:right;">
30.00369
</td>
<td style="text-align:right;">
16.40251
</td>
<td style="text-align:right;">
4403
</td>
<td style="text-align:right;">
330
</td>
<td style="text-align:right;">
820
</td>
<td style="text-align:right;">
1133
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
2372
</td>
<td style="text-align:right;">
64.98893
</td>
<td style="text-align:right;">
4.870849
</td>
<td style="text-align:right;">
12.103321
</td>
<td style="text-align:right;">
16.723247
</td>
<td style="text-align:right;">
1.3136531
</td>
<td style="text-align:right;">
35.01107
</td>
<td style="text-align:right;">
5159
</td>
<td style="text-align:right;">
1616
</td>
<td style="text-align:right;">
76.14760
</td>
<td style="text-align:right;">
23.85240
</td>
<td style="text-align:right;">
2459
</td>
<td style="text-align:right;">
254
</td>
<td style="text-align:right;">
90.63767
</td>
<td style="text-align:right;">
9.362329
</td>
<td style="text-align:right;">
3975
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
174
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
591
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
1417
</td>
<td style="text-align:right;">
434
</td>
<td style="text-align:right;">
58.7
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
8.7
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
20.9
</td>
<td style="text-align:right;">
6.4
</td>
<td style="text-align:right;">
596
</td>
<td style="text-align:right;">
663
</td>
<td style="text-align:right;">
1133
</td>
<td style="text-align:right;">
269
</td>
<td style="text-align:right;">
22.0
</td>
<td style="text-align:right;">
24.4
</td>
<td style="text-align:right;">
41.8
</td>
<td style="text-align:right;">
9.9
</td>
<td style="text-align:right;">
2713
</td>
<td style="text-align:right;">
82
</td>
<td style="text-align:right;">
99
</td>
<td style="text-align:right;">
744
</td>
<td style="text-align:right;">
865
</td>
<td style="text-align:right;">
1087
</td>
<td style="text-align:right;">
97.1
</td>
<td style="text-align:right;">
2.9
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
26.6
</td>
<td style="text-align:right;">
30.9
</td>
<td style="text-align:right;">
38.9
</td>
<td style="text-align:right;">
216.15
</td>
<td style="text-align:right;">
31.70483
</td>
<td style="text-align:right;">
168500
</td>
<td style="text-align:right;">
180000
</td>
<td style="text-align:right;">
187500
</td>
<td style="text-align:right;">
197500.0
</td>
<td style="text-align:right;">
190000
</td>
<td style="text-align:right;">
173000
</td>
<td style="text-align:right;">
185000
</td>
<td style="text-align:right;">
182250
</td>
<td style="text-align:right;">
190000
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
1623
</td>
<td style="text-align:right;">
789
</td>
<td style="text-align:right;">
706
</td>
<td style="text-align:right;">
118
</td>
<td style="text-align:right;">
479
</td>
<td style="text-align:right;">
914
</td>
<td style="text-align:right;">
395
</td>
<td style="text-align:right;">
272
</td>
<td style="text-align:right;">
2847
</td>
<td style="text-align:right;">
335
</td>
<td style="text-align:right;">
1513
</td>
<td style="text-align:right;">
65.29817
</td>
<td style="text-align:right;">
11.766772
</td>
<td style="text-align:right;">
34.70183
</td>
<td style="text-align:right;">
319
</td>
<td style="text-align:right;">
11.8
</td>
<td style="text-align:right;">
31788.19
</td>
<td style="text-align:right;">
27058.70
</td>
<td style="text-align:right;">
31.0
</td>
<td style="text-align:right;">
27.5
</td>
<td style="text-align:right;">
445
</td>
<td style="text-align:right;">
249
</td>
<td style="text-align:right;">
56.0
</td>
<td style="text-align:right;">
97.5
</td>
<td style="text-align:right;">
707
</td>
<td style="text-align:right;">
678
</td>
<td style="text-align:right;">
5390
</td>
<td style="text-align:right;">
10.435424
</td>
<td style="text-align:right;">
10.007380
</td>
<td style="text-align:right;">
79.55720
</td>
<td style="text-align:right;">
2933
</td>
<td style="text-align:right;">
2288
</td>
<td style="text-align:right;">
1059
</td>
<td style="text-align:right;">
389
</td>
<td style="text-align:right;">
106
</td>
<td style="text-align:right;">
43.29151
</td>
<td style="text-align:right;">
33.77122
</td>
<td style="text-align:right;">
15.630996
</td>
<td style="text-align:right;">
5.741697
</td>
<td style="text-align:right;">
1.564576
</td>
<td style="text-align:right;">
10.6
</td>
<td style="text-align:right;">
8.4
</td>
<td style="text-align:right;">
13.3
</td>
<td style="text-align:right;">
23.6
</td>
<td style="text-align:right;">
29.8
</td>
<td style="text-align:right;">
100.7
</td>
<td style="text-align:right;">
93.3
</td>
<td style="text-align:right;">
82.5
</td>
<td style="text-align:right;">
97.2
</td>
<td style="text-align:right;">
107.6
</td>
<td style="text-align:right;">
78.0
</td>
<td style="text-align:right;">
80.1
</td>
<td style="text-align:right;">
1020
</td>
<td style="text-align:right;">
1186
</td>
<td style="text-align:right;">
424
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
2305
</td>
<td style="text-align:right;">
37.6
</td>
<td style="text-align:right;">
43.7
</td>
<td style="text-align:right;">
15.6
</td>
<td style="text-align:right;">
2.4
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.8496130
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:right;">
10045
</td>
<td style="text-align:right;">
10033
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
46.9
</td>
<td style="text-align:right;">
3834
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
12.348001
</td>
<td style="text-align:right;">
-1.3480006
</td>
<td style="text-align:right;">
-0.1091675
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
6.922428
</td>
<td style="text-align:right;">
3.077572
</td>
<td style="text-align:right;">
0.4445798
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
239
</td>
<td style="text-align:right;">
-0.1154703
</td>
<td style="text-align:right;">
0.3637269
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
56.92243
</td>
<td style="text-align:right;">
0.0526430
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
62.34800
</td>
<td style="text-align:right;">
-0.0218569
</td>
<td style="text-align:right;">
10045
</td>
<td style="text-align:right;">
2247
</td>
<td style="text-align:right;">
1959
</td>
<td style="text-align:right;">
2300
</td>
<td style="text-align:right;">
2259
</td>
<td style="text-align:right;">
1280
</td>
<td style="text-align:right;">
6518
</td>
<td style="text-align:right;">
9236
</td>
<td style="text-align:right;">
9252
</td>
<td style="text-align:right;">
9155
</td>
<td style="text-align:right;">
9072
</td>
<td style="text-align:right;">
9144
</td>
<td style="text-align:right;">
9227
</td>
<td style="text-align:right;">
9564
</td>
<td style="text-align:right;">
9914
</td>
<td style="text-align:right;">
10042
</td>
<td style="text-align:right;">
10088
</td>
<td style="text-align:right;">
10218
</td>
<td style="text-align:right;">
21.442552
</td>
<td style="text-align:right;">
65.81523
</td>
<td style="text-align:right;">
12.74222
</td>
<td style="text-align:right;">
849
</td>
<td style="text-align:right;">
739
</td>
<td style="text-align:right;">
603
</td>
<td style="text-align:right;">
615
</td>
<td style="text-align:right;">
686
</td>
<td style="text-align:right;">
804
</td>
<td style="text-align:right;">
818
</td>
<td style="text-align:right;">
743
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
713
</td>
<td style="text-align:right;">
624
</td>
<td style="text-align:right;">
526
</td>
<td style="text-align:right;">
426
</td>
<td style="text-align:right;">
372
</td>
<td style="text-align:right;">
277
</td>
<td style="text-align:right;">
258
</td>
<td style="text-align:right;">
198
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
3834
</td>
<td style="text-align:right;">
776
</td>
<td style="text-align:right;">
730
</td>
<td style="text-align:right;">
589
</td>
<td style="text-align:right;">
1039
</td>
<td style="text-align:right;">
700
</td>
<td style="text-align:right;">
20.239958
</td>
<td style="text-align:right;">
19.04017
</td>
<td style="text-align:right;">
15.362546
</td>
<td style="text-align:right;">
27.09963
</td>
<td style="text-align:right;">
18.25769
</td>
<td style="text-align:right;">
5486
</td>
<td style="text-align:right;">
433
</td>
<td style="text-align:right;">
2284
</td>
<td style="text-align:right;">
1618
</td>
<td style="text-align:right;">
224
</td>
<td style="text-align:right;">
4559
</td>
<td style="text-align:right;">
54.61424
</td>
<td style="text-align:right;">
4.310602
</td>
<td style="text-align:right;">
22.737680
</td>
<td style="text-align:right;">
16.107516
</td>
<td style="text-align:right;">
2.2299652
</td>
<td style="text-align:right;">
45.38576
</td>
<td style="text-align:right;">
7193
</td>
<td style="text-align:right;">
2852
</td>
<td style="text-align:right;">
71.60777
</td>
<td style="text-align:right;">
28.39223
</td>
<td style="text-align:right;">
3431
</td>
<td style="text-align:right;">
403
</td>
<td style="text-align:right;">
89.48878
</td>
<td style="text-align:right;">
10.511215
</td>
<td style="text-align:right;">
5475
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
476
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
1351
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
1514
</td>
<td style="text-align:right;">
677
</td>
<td style="text-align:right;">
54.5
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
4.7
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
13.4
</td>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
15.1
</td>
<td style="text-align:right;">
6.7
</td>
<td style="text-align:right;">
1028
</td>
<td style="text-align:right;">
1473
</td>
<td style="text-align:right;">
446
</td>
<td style="text-align:right;">
830
</td>
<td style="text-align:right;">
26.8
</td>
<td style="text-align:right;">
38.4
</td>
<td style="text-align:right;">
11.6
</td>
<td style="text-align:right;">
21.6
</td>
<td style="text-align:right;">
3834
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
161
</td>
<td style="text-align:right;">
936
</td>
<td style="text-align:right;">
1591
</td>
<td style="text-align:right;">
1256
</td>
<td style="text-align:right;">
97.2
</td>
<td style="text-align:right;">
2.8
</td>
<td style="text-align:right;">
4.1
</td>
<td style="text-align:right;">
23.7
</td>
<td style="text-align:right;">
40.3
</td>
<td style="text-align:right;">
31.8
</td>
<td style="text-align:right;">
214.15
</td>
<td style="text-align:right;">
47.71422
</td>
<td style="text-align:right;">
185000
</td>
<td style="text-align:right;">
197750
</td>
<td style="text-align:right;">
220000
</td>
<td style="text-align:right;">
225000.0
</td>
<td style="text-align:right;">
188500
</td>
<td style="text-align:right;">
215000
</td>
<td style="text-align:right;">
200000
</td>
<td style="text-align:right;">
205500
</td>
<td style="text-align:right;">
237000
</td>
<td style="text-align:right;">
203
</td>
<td style="text-align:right;">
232
</td>
<td style="text-align:right;">
295
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
114
</td>
<td style="text-align:right;">
98
</td>
<td style="text-align:right;">
1778
</td>
<td style="text-align:right;">
1210
</td>
<td style="text-align:right;">
1236
</td>
<td style="text-align:right;">
169
</td>
<td style="text-align:right;">
847
</td>
<td style="text-align:right;">
1829
</td>
<td style="text-align:right;">
729
</td>
<td style="text-align:right;">
442
</td>
<td style="text-align:right;">
5038
</td>
<td style="text-align:right;">
459
</td>
<td style="text-align:right;">
2111
</td>
<td style="text-align:right;">
70.47139
</td>
<td style="text-align:right;">
9.110758
</td>
<td style="text-align:right;">
29.52861
</td>
<td style="text-align:right;">
268
</td>
<td style="text-align:right;">
7.0
</td>
<td style="text-align:right;">
43356.93
</td>
<td style="text-align:right;">
36834.53
</td>
<td style="text-align:right;">
18.9
</td>
<td style="text-align:right;">
21.2
</td>
<td style="text-align:right;">
408
</td>
<td style="text-align:right;">
199
</td>
<td style="text-align:right;">
48.8
</td>
<td style="text-align:right;">
96.5
</td>
<td style="text-align:right;">
792
</td>
<td style="text-align:right;">
810
</td>
<td style="text-align:right;">
8443
</td>
<td style="text-align:right;">
7.884520
</td>
<td style="text-align:right;">
8.063713
</td>
<td style="text-align:right;">
84.05177
</td>
<td style="text-align:right;">
4566
</td>
<td style="text-align:right;">
3633
</td>
<td style="text-align:right;">
1325
</td>
<td style="text-align:right;">
406
</td>
<td style="text-align:right;">
115
</td>
<td style="text-align:right;">
45.45545
</td>
<td style="text-align:right;">
36.16725
</td>
<td style="text-align:right;">
13.190642
</td>
<td style="text-align:right;">
4.041812
</td>
<td style="text-align:right;">
1.144848
</td>
<td style="text-align:right;">
7.8
</td>
<td style="text-align:right;">
6.1
</td>
<td style="text-align:right;">
9.9
</td>
<td style="text-align:right;">
25.5
</td>
<td style="text-align:right;">
28.3
</td>
<td style="text-align:right;">
91.4
</td>
<td style="text-align:right;">
107.3
</td>
<td style="text-align:right;">
124.6
</td>
<td style="text-align:right;">
105.5
</td>
<td style="text-align:right;">
82.9
</td>
<td style="text-align:right;">
80.2
</td>
<td style="text-align:right;">
85.6
</td>
<td style="text-align:right;">
1196
</td>
<td style="text-align:right;">
1753
</td>
<td style="text-align:right;">
691
</td>
<td style="text-align:right;">
155
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
3766
</td>
<td style="text-align:right;">
31.2
</td>
<td style="text-align:right;">
45.7
</td>
<td style="text-align:right;">
18.0
</td>
<td style="text-align:right;">
4.0
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0.9822640
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
50
</td>
</tr>
<tr>
<td style="text-align:right;">
6182
</td>
<td style="text-align:right;">
5937
</td>
<td style="text-align:right;">
245
</td>
<td style="text-align:right;">
24.8
</td>
<td style="text-align:right;">
2318
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
-4.719603
</td>
<td style="text-align:right;">
6.7196026
</td>
<td style="text-align:right;">
-1.4237645
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-1.271292
</td>
<td style="text-align:right;">
1.271292
</td>
<td style="text-align:right;">
-1.0000000
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
-4.9416062
</td>
<td style="text-align:right;">
-2.0000000
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
48.72871
</td>
<td style="text-align:right;">
0.0257532
</td>
<td style="text-align:right;">
52
</td>
<td style="text-align:right;">
45.28040
</td>
<td style="text-align:right;">
0.1381492
</td>
<td style="text-align:right;">
6182
</td>
<td style="text-align:right;">
1196
</td>
<td style="text-align:right;">
1277
</td>
<td style="text-align:right;">
1154
</td>
<td style="text-align:right;">
1543
</td>
<td style="text-align:right;">
1012
</td>
<td style="text-align:right;">
3974
</td>
<td style="text-align:right;">
6208
</td>
<td style="text-align:right;">
6159
</td>
<td style="text-align:right;">
6163
</td>
<td style="text-align:right;">
6152
</td>
<td style="text-align:right;">
5997
</td>
<td style="text-align:right;">
6005
</td>
<td style="text-align:right;">
6084
</td>
<td style="text-align:right;">
6268
</td>
<td style="text-align:right;">
6237
</td>
<td style="text-align:right;">
6185
</td>
<td style="text-align:right;">
6308
</td>
<td style="text-align:right;">
18.246671
</td>
<td style="text-align:right;">
65.82118
</td>
<td style="text-align:right;">
15.93215
</td>
<td style="text-align:right;">
409
</td>
<td style="text-align:right;">
364
</td>
<td style="text-align:right;">
378
</td>
<td style="text-align:right;">
516
</td>
<td style="text-align:right;">
472
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
363
</td>
<td style="text-align:right;">
399
</td>
<td style="text-align:right;">
388
</td>
<td style="text-align:right;">
463
</td>
<td style="text-align:right;">
459
</td>
<td style="text-align:right;">
354
</td>
<td style="text-align:right;">
303
</td>
<td style="text-align:right;">
226
</td>
<td style="text-align:right;">
238
</td>
<td style="text-align:right;">
194
</td>
<td style="text-align:right;">
172
</td>
<td style="text-align:right;">
106
</td>
<td style="text-align:right;">
69
</td>
<td style="text-align:right;">
2318
</td>
<td style="text-align:right;">
508
</td>
<td style="text-align:right;">
524
</td>
<td style="text-align:right;">
322
</td>
<td style="text-align:right;">
609
</td>
<td style="text-align:right;">
355
</td>
<td style="text-align:right;">
21.915444
</td>
<td style="text-align:right;">
22.60569
</td>
<td style="text-align:right;">
13.891286
</td>
<td style="text-align:right;">
26.27265
</td>
<td style="text-align:right;">
15.31493
</td>
<td style="text-align:right;">
5006
</td>
<td style="text-align:right;">
186
</td>
<td style="text-align:right;">
313
</td>
<td style="text-align:right;">
649
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
1176
</td>
<td style="text-align:right;">
80.97703
</td>
<td style="text-align:right;">
3.008735
</td>
<td style="text-align:right;">
5.063086
</td>
<td style="text-align:right;">
10.498221
</td>
<td style="text-align:right;">
0.4529279
</td>
<td style="text-align:right;">
19.02297
</td>
<td style="text-align:right;">
5292
</td>
<td style="text-align:right;">
890
</td>
<td style="text-align:right;">
85.60336
</td>
<td style="text-align:right;">
14.39664
</td>
<td style="text-align:right;">
2214
</td>
<td style="text-align:right;">
104
</td>
<td style="text-align:right;">
95.51337
</td>
<td style="text-align:right;">
4.486626
</td>
<td style="text-align:right;">
4070
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
234
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
1373
</td>
<td style="text-align:right;">
399
</td>
<td style="text-align:right;">
65.8
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
3.8
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
22.2
</td>
<td style="text-align:right;">
6.5
</td>
<td style="text-align:right;">
718
</td>
<td style="text-align:right;">
969
</td>
<td style="text-align:right;">
371
</td>
<td style="text-align:right;">
228
</td>
<td style="text-align:right;">
31.0
</td>
<td style="text-align:right;">
41.8
</td>
<td style="text-align:right;">
16.0
</td>
<td style="text-align:right;">
9.8
</td>
<td style="text-align:right;">
2318
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
858
</td>
<td style="text-align:right;">
1094
</td>
<td style="text-align:right;">
314
</td>
<td style="text-align:right;">
98.1
</td>
<td style="text-align:right;">
1.9
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
36.3
</td>
<td style="text-align:right;">
46.3
</td>
<td style="text-align:right;">
13.2
</td>
<td style="text-align:right;">
249.28
</td>
<td style="text-align:right;">
25.30488
</td>
<td style="text-align:right;">
181000
</td>
<td style="text-align:right;">
182000
</td>
<td style="text-align:right;">
212000
</td>
<td style="text-align:right;">
208997.5
</td>
<td style="text-align:right;">
182000
</td>
<td style="text-align:right;">
192000
</td>
<td style="text-align:right;">
193750
</td>
<td style="text-align:right;">
205000
</td>
<td style="text-align:right;">
210000
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
131
</td>
<td style="text-align:right;">
125
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
54
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
1502
</td>
<td style="text-align:right;">
800
</td>
<td style="text-align:right;">
825
</td>
<td style="text-align:right;">
163
</td>
<td style="text-align:right;">
539
</td>
<td style="text-align:right;">
891
</td>
<td style="text-align:right;">
266
</td>
<td style="text-align:right;">
215
</td>
<td style="text-align:right;">
3187
</td>
<td style="text-align:right;">
296
</td>
<td style="text-align:right;">
1251
</td>
<td style="text-align:right;">
71.81163
</td>
<td style="text-align:right;">
9.287731
</td>
<td style="text-align:right;">
28.18837
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
5.3
</td>
<td style="text-align:right;">
46701.44
</td>
<td style="text-align:right;">
39668.21
</td>
<td style="text-align:right;">
15.8
</td>
<td style="text-align:right;">
21.3
</td>
<td style="text-align:right;">
206
</td>
<td style="text-align:right;">
87
</td>
<td style="text-align:right;">
42.2
</td>
<td style="text-align:right;">
98.5
</td>
<td style="text-align:right;">
586
</td>
<td style="text-align:right;">
547
</td>
<td style="text-align:right;">
5049
</td>
<td style="text-align:right;">
9.479133
</td>
<td style="text-align:right;">
8.848269
</td>
<td style="text-align:right;">
81.67260
</td>
<td style="text-align:right;">
2857
</td>
<td style="text-align:right;">
2086
</td>
<td style="text-align:right;">
861
</td>
<td style="text-align:right;">
302
</td>
<td style="text-align:right;">
76
</td>
<td style="text-align:right;">
46.21482
</td>
<td style="text-align:right;">
33.74313
</td>
<td style="text-align:right;">
13.927532
</td>
<td style="text-align:right;">
4.885150
</td>
<td style="text-align:right;">
1.229376
</td>
<td style="text-align:right;">
5.8
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
8.6
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
26.9
</td>
<td style="text-align:right;">
96.1
</td>
<td style="text-align:right;">
95.5
</td>
<td style="text-align:right;">
105.8
</td>
<td style="text-align:right;">
102.4
</td>
<td style="text-align:right;">
110.3
</td>
<td style="text-align:right;">
77.9
</td>
<td style="text-align:right;">
80.7
</td>
<td style="text-align:right;">
556
</td>
<td style="text-align:right;">
1085
</td>
<td style="text-align:right;">
515
</td>
<td style="text-align:right;">
128
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
2650
</td>
<td style="text-align:right;">
24.0
</td>
<td style="text-align:right;">
46.8
</td>
<td style="text-align:right;">
22.2
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
1.1432269
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:right;">
8562
</td>
<td style="text-align:right;">
8562
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
72.1
</td>
<td style="text-align:right;">
3183
</td>
<td style="text-align:right;">
2.7
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4.584902
</td>
<td style="text-align:right;">
-0.5849018
</td>
<td style="text-align:right;">
-0.1275713
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
9.214027
</td>
<td style="text-align:right;">
-8.214027
</td>
<td style="text-align:right;">
-0.8914698
</td>
<td style="text-align:right;">
87
</td>
<td style="text-align:right;">
161
</td>
<td style="text-align:right;">
-0.1362629
</td>
<td style="text-align:right;">
-1.6083817
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
59.21403
</td>
<td style="text-align:right;">
-0.1490559
</td>
<td style="text-align:right;">
54
</td>
<td style="text-align:right;">
54.58490
</td>
<td style="text-align:right;">
-0.0107732
</td>
<td style="text-align:right;">
8562
</td>
<td style="text-align:right;">
2200
</td>
<td style="text-align:right;">
1592
</td>
<td style="text-align:right;">
1995
</td>
<td style="text-align:right;">
1829
</td>
<td style="text-align:right;">
946
</td>
<td style="text-align:right;">
5416
</td>
<td style="text-align:right;">
7919
</td>
<td style="text-align:right;">
7922
</td>
<td style="text-align:right;">
7882
</td>
<td style="text-align:right;">
7887
</td>
<td style="text-align:right;">
7917
</td>
<td style="text-align:right;">
7916
</td>
<td style="text-align:right;">
8025
</td>
<td style="text-align:right;">
8317
</td>
<td style="text-align:right;">
8519
</td>
<td style="text-align:right;">
8588
</td>
<td style="text-align:right;">
8660
</td>
<td style="text-align:right;">
24.237875
</td>
<td style="text-align:right;">
64.57275
</td>
<td style="text-align:right;">
11.18938
</td>
<td style="text-align:right;">
783
</td>
<td style="text-align:right;">
692
</td>
<td style="text-align:right;">
624
</td>
<td style="text-align:right;">
657
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
608
</td>
<td style="text-align:right;">
616
</td>
<td style="text-align:right;">
643
</td>
<td style="text-align:right;">
673
</td>
<td style="text-align:right;">
656
</td>
<td style="text-align:right;">
508
</td>
<td style="text-align:right;">
386
</td>
<td style="text-align:right;">
320
</td>
<td style="text-align:right;">
321
</td>
<td style="text-align:right;">
202
</td>
<td style="text-align:right;">
194
</td>
<td style="text-align:right;">
127
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
3183
</td>
<td style="text-align:right;">
691
</td>
<td style="text-align:right;">
583
</td>
<td style="text-align:right;">
593
</td>
<td style="text-align:right;">
808
</td>
<td style="text-align:right;">
508
</td>
<td style="text-align:right;">
21.709080
</td>
<td style="text-align:right;">
18.31605
</td>
<td style="text-align:right;">
18.630223
</td>
<td style="text-align:right;">
25.38486
</td>
<td style="text-align:right;">
15.95979
</td>
<td style="text-align:right;">
5674
</td>
<td style="text-align:right;">
313
</td>
<td style="text-align:right;">
1050
</td>
<td style="text-align:right;">
1445
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
2888
</td>
<td style="text-align:right;">
66.26956
</td>
<td style="text-align:right;">
3.655688
</td>
<td style="text-align:right;">
12.263490
</td>
<td style="text-align:right;">
16.876898
</td>
<td style="text-align:right;">
0.9343611
</td>
<td style="text-align:right;">
33.73044
</td>
<td style="text-align:right;">
6425
</td>
<td style="text-align:right;">
2137
</td>
<td style="text-align:right;">
75.04088
</td>
<td style="text-align:right;">
24.95912
</td>
<td style="text-align:right;">
2868
</td>
<td style="text-align:right;">
315
</td>
<td style="text-align:right;">
90.10368
</td>
<td style="text-align:right;">
9.896324
</td>
<td style="text-align:right;">
4986
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
138
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
762
</td>
<td style="text-align:right;">
166
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
1816
</td>
<td style="text-align:right;">
618
</td>
<td style="text-align:right;">
58.2
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
8.9
</td>
<td style="text-align:right;">
1.9
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
21.2
</td>
<td style="text-align:right;">
7.2
</td>
<td style="text-align:right;">
711
</td>
<td style="text-align:right;">
1146
</td>
<td style="text-align:right;">
793
</td>
<td style="text-align:right;">
482
</td>
<td style="text-align:right;">
22.3
</td>
<td style="text-align:right;">
36.0
</td>
<td style="text-align:right;">
24.9
</td>
<td style="text-align:right;">
15.1
</td>
<td style="text-align:right;">
3183
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
136
</td>
<td style="text-align:right;">
622
</td>
<td style="text-align:right;">
2141
</td>
<td style="text-align:right;">
373
</td>
<td style="text-align:right;">
97.3
</td>
<td style="text-align:right;">
2.7
</td>
<td style="text-align:right;">
4.2
</td>
<td style="text-align:right;">
19.0
</td>
<td style="text-align:right;">
65.4
</td>
<td style="text-align:right;">
11.4
</td>
<td style="text-align:right;">
118.81
</td>
<td style="text-align:right;">
72.88949
</td>
<td style="text-align:right;">
162250
</td>
<td style="text-align:right;">
170000
</td>
<td style="text-align:right;">
185000
</td>
<td style="text-align:right;">
200000.0
</td>
<td style="text-align:right;">
166250
</td>
<td style="text-align:right;">
169000
</td>
<td style="text-align:right;">
165000
</td>
<td style="text-align:right;">
167000
</td>
<td style="text-align:right;">
180000
</td>
<td style="text-align:right;">
152
</td>
<td style="text-align:right;">
168
</td>
<td style="text-align:right;">
184
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
1839
</td>
<td style="text-align:right;">
1026
</td>
<td style="text-align:right;">
1038
</td>
<td style="text-align:right;">
160
</td>
<td style="text-align:right;">
653
</td>
<td style="text-align:right;">
1119
</td>
<td style="text-align:right;">
527
</td>
<td style="text-align:right;">
333
</td>
<td style="text-align:right;">
4052
</td>
<td style="text-align:right;">
394
</td>
<td style="text-align:right;">
1881
</td>
<td style="text-align:right;">
68.29597
</td>
<td style="text-align:right;">
9.723593
</td>
<td style="text-align:right;">
31.70403
</td>
<td style="text-align:right;">
307
</td>
<td style="text-align:right;">
9.6
</td>
<td style="text-align:right;">
34293.82
</td>
<td style="text-align:right;">
29155.68
</td>
<td style="text-align:right;">
22.9
</td>
<td style="text-align:right;">
25.3
</td>
<td style="text-align:right;">
442
</td>
<td style="text-align:right;">
231
</td>
<td style="text-align:right;">
52.3
</td>
<td style="text-align:right;">
96.3
</td>
<td style="text-align:right;">
713
</td>
<td style="text-align:right;">
722
</td>
<td style="text-align:right;">
7127
</td>
<td style="text-align:right;">
8.327494
</td>
<td style="text-align:right;">
8.432609
</td>
<td style="text-align:right;">
83.23990
</td>
<td style="text-align:right;">
4089
</td>
<td style="text-align:right;">
2811
</td>
<td style="text-align:right;">
1134
</td>
<td style="text-align:right;">
412
</td>
<td style="text-align:right;">
116
</td>
<td style="text-align:right;">
47.75753
</td>
<td style="text-align:right;">
32.83111
</td>
<td style="text-align:right;">
13.244569
</td>
<td style="text-align:right;">
4.811960
</td>
<td style="text-align:right;">
1.354824
</td>
<td style="text-align:right;">
7.7
</td>
<td style="text-align:right;">
6.0
</td>
<td style="text-align:right;">
9.9
</td>
<td style="text-align:right;">
24.4
</td>
<td style="text-align:right;">
29.7
</td>
<td style="text-align:right;">
110.0
</td>
<td style="text-align:right;">
106.1
</td>
<td style="text-align:right;">
113.7
</td>
<td style="text-align:right;">
168.6
</td>
<td style="text-align:right;">
63.1
</td>
<td style="text-align:right;">
76.8
</td>
<td style="text-align:right;">
79.9
</td>
<td style="text-align:right;">
1080
</td>
<td style="text-align:right;">
1423
</td>
<td style="text-align:right;">
551
</td>
<td style="text-align:right;">
109
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
2937
</td>
<td style="text-align:right;">
33.9
</td>
<td style="text-align:right;">
44.7
</td>
<td style="text-align:right;">
17.3
</td>
<td style="text-align:right;">
3.4
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.9227144
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
25
</td>
</tr>
<tr>
<td style="text-align:right;">
8791
</td>
<td style="text-align:right;">
8672
</td>
<td style="text-align:right;">
119
</td>
<td style="text-align:right;">
50.6
</td>
<td style="text-align:right;">
3441
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
13.290915
</td>
<td style="text-align:right;">
-8.2909151
</td>
<td style="text-align:right;">
-0.6238032
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.267089
</td>
<td style="text-align:right;">
3.732911
</td>
<td style="text-align:right;">
2.9460534
</td>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
136
</td>
<td style="text-align:right;">
-0.9065610
</td>
<td style="text-align:right;">
1.1912744
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
51.26709
</td>
<td style="text-align:right;">
0.0702553
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
63.29092
</td>
<td style="text-align:right;">
-0.1401784
</td>
<td style="text-align:right;">
8791
</td>
<td style="text-align:right;">
2388
</td>
<td style="text-align:right;">
1765
</td>
<td style="text-align:right;">
1867
</td>
<td style="text-align:right;">
1736
</td>
<td style="text-align:right;">
1035
</td>
<td style="text-align:right;">
5368
</td>
<td style="text-align:right;">
7806
</td>
<td style="text-align:right;">
7726
</td>
<td style="text-align:right;">
7771
</td>
<td style="text-align:right;">
7820
</td>
<td style="text-align:right;">
7877
</td>
<td style="text-align:right;">
7974
</td>
<td style="text-align:right;">
8145
</td>
<td style="text-align:right;">
8394
</td>
<td style="text-align:right;">
8571
</td>
<td style="text-align:right;">
8823
</td>
<td style="text-align:right;">
9076
</td>
<td style="text-align:right;">
26.586602
</td>
<td style="text-align:right;">
62.02071
</td>
<td style="text-align:right;">
11.39268
</td>
<td style="text-align:right;">
957
</td>
<td style="text-align:right;">
792
</td>
<td style="text-align:right;">
664
</td>
<td style="text-align:right;">
633
</td>
<td style="text-align:right;">
642
</td>
<td style="text-align:right;">
686
</td>
<td style="text-align:right;">
634
</td>
<td style="text-align:right;">
651
</td>
<td style="text-align:right;">
596
</td>
<td style="text-align:right;">
610
</td>
<td style="text-align:right;">
483
</td>
<td style="text-align:right;">
398
</td>
<td style="text-align:right;">
296
</td>
<td style="text-align:right;">
242
</td>
<td style="text-align:right;">
207
</td>
<td style="text-align:right;">
180
</td>
<td style="text-align:right;">
181
</td>
<td style="text-align:right;">
139
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
3441
</td>
<td style="text-align:right;">
643
</td>
<td style="text-align:right;">
489
</td>
<td style="text-align:right;">
776
</td>
<td style="text-align:right;">
1064
</td>
<td style="text-align:right;">
469
</td>
<td style="text-align:right;">
18.686428
</td>
<td style="text-align:right;">
14.21099
</td>
<td style="text-align:right;">
22.551584
</td>
<td style="text-align:right;">
30.92124
</td>
<td style="text-align:right;">
13.62976
</td>
<td style="text-align:right;">
5906
</td>
<td style="text-align:right;">
307
</td>
<td style="text-align:right;">
526
</td>
<td style="text-align:right;">
1997
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
2885
</td>
<td style="text-align:right;">
67.18235
</td>
<td style="text-align:right;">
3.492208
</td>
<td style="text-align:right;">
5.983392
</td>
<td style="text-align:right;">
22.716414
</td>
<td style="text-align:right;">
0.6256399
</td>
<td style="text-align:right;">
32.81765
</td>
<td style="text-align:right;">
6658
</td>
<td style="text-align:right;">
2133
</td>
<td style="text-align:right;">
75.73655
</td>
<td style="text-align:right;">
24.26345
</td>
<td style="text-align:right;">
3117
</td>
<td style="text-align:right;">
324
</td>
<td style="text-align:right;">
90.58413
</td>
<td style="text-align:right;">
9.415867
</td>
<td style="text-align:right;">
5409
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
577
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
2148
</td>
<td style="text-align:right;">
512
</td>
<td style="text-align:right;">
61.5
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
6.6
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
24.4
</td>
<td style="text-align:right;">
5.8
</td>
<td style="text-align:right;">
558
</td>
<td style="text-align:right;">
821
</td>
<td style="text-align:right;">
1663
</td>
<td style="text-align:right;">
333
</td>
<td style="text-align:right;">
16.2
</td>
<td style="text-align:right;">
23.9
</td>
<td style="text-align:right;">
48.3
</td>
<td style="text-align:right;">
9.7
</td>
<td style="text-align:right;">
3441
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
82
</td>
<td style="text-align:right;">
761
</td>
<td style="text-align:right;">
1219
</td>
<td style="text-align:right;">
1471
</td>
<td style="text-align:right;">
97.4
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
2.3
</td>
<td style="text-align:right;">
21.5
</td>
<td style="text-align:right;">
34.5
</td>
<td style="text-align:right;">
41.6
</td>
<td style="text-align:right;">
173.58
</td>
<td style="text-align:right;">
52.28713
</td>
<td style="text-align:right;">
165000
</td>
<td style="text-align:right;">
165000
</td>
<td style="text-align:right;">
187000
</td>
<td style="text-align:right;">
199000.0
</td>
<td style="text-align:right;">
155000
</td>
<td style="text-align:right;">
165000
</td>
<td style="text-align:right;">
153750
</td>
<td style="text-align:right;">
172500
</td>
<td style="text-align:right;">
168500
</td>
<td style="text-align:right;">
112
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:right;">
139
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
76
</td>
<td style="text-align:right;">
48
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
2057
</td>
<td style="text-align:right;">
1065
</td>
<td style="text-align:right;">
1001
</td>
<td style="text-align:right;">
166
</td>
<td style="text-align:right;">
556
</td>
<td style="text-align:right;">
1129
</td>
<td style="text-align:right;">
429
</td>
<td style="text-align:right;">
402
</td>
<td style="text-align:right;">
3905
</td>
<td style="text-align:right;">
511
</td>
<td style="text-align:right;">
1893
</td>
<td style="text-align:right;">
67.35081
</td>
<td style="text-align:right;">
13.085788
</td>
<td style="text-align:right;">
32.64919
</td>
<td style="text-align:right;">
437
</td>
<td style="text-align:right;">
12.7
</td>
<td style="text-align:right;">
29975.83
</td>
<td style="text-align:right;">
25568.60
</td>
<td style="text-align:right;">
33.3
</td>
<td style="text-align:right;">
28.9
</td>
<td style="text-align:right;">
602
</td>
<td style="text-align:right;">
345
</td>
<td style="text-align:right;">
57.3
</td>
<td style="text-align:right;">
98.1
</td>
<td style="text-align:right;">
828
</td>
<td style="text-align:right;">
752
</td>
<td style="text-align:right;">
7211
</td>
<td style="text-align:right;">
9.418724
</td>
<td style="text-align:right;">
8.554203
</td>
<td style="text-align:right;">
82.02707
</td>
<td style="text-align:right;">
3996
</td>
<td style="text-align:right;">
3015
</td>
<td style="text-align:right;">
1252
</td>
<td style="text-align:right;">
407
</td>
<td style="text-align:right;">
121
</td>
<td style="text-align:right;">
45.45558
</td>
<td style="text-align:right;">
34.29644
</td>
<td style="text-align:right;">
14.241838
</td>
<td style="text-align:right;">
4.629735
</td>
<td style="text-align:right;">
1.376408
</td>
<td style="text-align:right;">
6.8
</td>
<td style="text-align:right;">
5.3
</td>
<td style="text-align:right;">
8.8
</td>
<td style="text-align:right;">
26.0
</td>
<td style="text-align:right;">
29.0
</td>
<td style="text-align:right;">
117.0
</td>
<td style="text-align:right;">
80.1
</td>
<td style="text-align:right;">
123.6
</td>
<td style="text-align:right;">
151.7
</td>
<td style="text-align:right;">
112.9
</td>
<td style="text-align:right;">
75.7
</td>
<td style="text-align:right;">
79.5
</td>
<td style="text-align:right;">
1496
</td>
<td style="text-align:right;">
1444
</td>
<td style="text-align:right;">
419
</td>
<td style="text-align:right;">
63
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
2549
</td>
<td style="text-align:right;">
43.5
</td>
<td style="text-align:right;">
42.0
</td>
<td style="text-align:right;">
12.2
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.7407730
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
27
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>Having now ingested and linked our data, we begin by exploring the factors most highly correlated with our relative error rates.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-34_c976dc3afb6b6a4bcee8a874d75fffad">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>corr_df <span class="ot">&lt;-</span> <span class="fu">correlate</span>(dplyr<span class="sc">::</span><span class="fu">select_if</span>(msoa_matrix_tbl, is.numeric), <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">999</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Starting by our relative robbery error, a few interesting correlates stand out: - road traffic casualties - burglary numbers - the number of dwellings with no usual residents, and the number of commercial residents - households with no cars - the age composition of the area - general deprivation indicators (such as the proportion of households with central heating)</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-35_3c3dfd3d99b5621ea283640d08a8de0e">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co">#show only correlates with an absolute value higher than 0.2</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="co">#filter(dplyr::select(corr_df[order(corr_df$RPDRobberyShifted),] , term, RPDRobberyShifted), RPDRobberyShifted &lt; -0.2 | RPDRobberyShifted &gt; 0.2)</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="co">#filter(dplyr::select(corr_df[order(corr_df$RPDRobberyShifted),] , term, RPDRobberyShifted), RPDRobberyShifted &lt; -0.2 | RPDRobberyShifted &gt; 0.2)</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>high_corr_rob <span class="ot">&lt;-</span> <span class="fu">filter</span>(dplyr<span class="sc">::</span><span class="fu">select</span>(corr_df, term, RPDRobberyShifted), RPDRobberyShifted <span class="sc">&lt;</span> <span class="sc">-</span><span class="fl">0.15</span> <span class="sc">|</span> RPDRobberyShifted <span class="sc">&gt;</span> <span class="fl">0.15</span>)</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>high_corr_rob[<span class="fu">order</span>(high_corr_rob<span class="sc">$</span>RPDRobberyShifted),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
RPDRobberyShifted
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
robberyPredicted
</td>
<td style="text-align:right;">
-0.8387666
</td>
</tr>
<tr>
<td style="text-align:left;">
robberyPredictedShifted
</td>
<td style="text-align:right;">
-0.8387666
</td>
</tr>
<tr>
<td style="text-align:left;">
total_robberies
</td>
<td style="text-align:right;">
-0.5369450
</td>
</tr>
<tr>
<td style="text-align:left;">
total_burglaries
</td>
<td style="text-align:right;">
-0.4717060
</td>
</tr>
<tr>
<td style="text-align:left;">
Road Casualties 2011 2011 Total
</td>
<td style="text-align:right;">
-0.3701356
</td>
</tr>
<tr>
<td style="text-align:left;">
Road Casualties 2011 Slight
</td>
<td style="text-align:right;">
-0.3635665
</td>
</tr>
<tr>
<td style="text-align:left;">
Road Casualties 2010 2010 Total
</td>
<td style="text-align:right;">
-0.3597137
</td>
</tr>
<tr>
<td style="text-align:left;">
Road Casualties 2010 Slight
</td>
<td style="text-align:right;">
-0.3567229
</td>
</tr>
<tr>
<td style="text-align:left;">
Road Casualties 2012 2012 Total
</td>
<td style="text-align:right;">
-0.3563600
</td>
</tr>
<tr>
<td style="text-align:left;">
Road Casualties 2012 Slight
</td>
<td style="text-align:right;">
-0.3521528
</td>
</tr>
<tr>
<td style="text-align:left;">
Road Casualties 2011 Serious
</td>
<td style="text-align:right;">
-0.3474359
</td>
</tr>
<tr>
<td style="text-align:left;">
Road Casualties 2012 Serious
</td>
<td style="text-align:right;">
-0.3200851
</td>
</tr>
<tr>
<td style="text-align:left;">
Road Casualties 2010 Serious
</td>
<td style="text-align:right;">
-0.3057949
</td>
</tr>
<tr>
<td style="text-align:left;">
burglaryPredicted
</td>
<td style="text-align:right;">
-0.2952051
</td>
</tr>
<tr>
<td style="text-align:left;">
burglaryPredictedShifted
</td>
<td style="text-align:right;">
-0.2952051
</td>
</tr>
<tr>
<td style="text-align:left;">
burglaryActual
</td>
<td style="text-align:right;">
-0.2646662
</td>
</tr>
<tr>
<td style="text-align:left;">
burglaryActualShifted
</td>
<td style="text-align:right;">
-0.2646662
</td>
</tr>
<tr>
<td style="text-align:left;">
Dwelling type (2011) Household spaces with no usual residents
</td>
<td style="text-align:right;">
-0.2587599
</td>
</tr>
<tr>
<td style="text-align:left;">
Dwelling type (2011) Household spaces with no usual residents (%)
</td>
<td style="text-align:right;">
-0.2308005
</td>
</tr>
<tr>
<td style="text-align:left;">
Car or van availability (2011 Census) No cars or vans in household
</td>
<td style="text-align:right;">
-0.2279835
</td>
</tr>
<tr>
<td style="text-align:left;">
Qualifications (2011 Census) Schoolchildren and full-time students: Age 18 and over
</td>
<td style="text-align:right;">
-0.2219251
</td>
</tr>
<tr>
<td style="text-align:left;">
Mid-year Estimates 2012, by age 20-24
</td>
<td style="text-align:right;">
-0.2182673
</td>
</tr>
<tr>
<td style="text-align:left;">
Household Composition (2011) Numbers One person household
</td>
<td style="text-align:right;">
-0.2145786
</td>
</tr>
<tr>
<td style="text-align:left;">
Tenure (2011) Private rented
</td>
<td style="text-align:right;">
-0.2029037
</td>
</tr>
<tr>
<td style="text-align:left;">
Dwelling type (2011) Flat, maisonette or apartment
</td>
<td style="text-align:right;">
-0.2015178
</td>
</tr>
<tr>
<td style="text-align:left;">
Household Composition (2011) Percentages One person household
</td>
<td style="text-align:right;">
-0.1900561
</td>
</tr>
<tr>
<td style="text-align:left;">
Age Structure (2011 Census) 16-29
</td>
<td style="text-align:right;">
-0.1896718
</td>
</tr>
<tr>
<td style="text-align:left;">
Car or van availability (2011 Census) No cars or vans in household (%)
</td>
<td style="text-align:right;">
-0.1895818
</td>
</tr>
<tr>
<td style="text-align:left;">
ComEstRes
</td>
<td style="text-align:right;">
-0.1858042
</td>
</tr>
<tr>
<td style="text-align:left;">
Mid-year Estimates 2012, by age % 15-64
</td>
<td style="text-align:right;">
-0.1821470
</td>
</tr>
<tr>
<td style="text-align:left;">
Religion (2011) Buddhist
</td>
<td style="text-align:right;">
-0.1772919
</td>
</tr>
<tr>
<td style="text-align:left;">
Religion (2011) Buddhist (%)
</td>
<td style="text-align:right;">
-0.1759725
</td>
</tr>
<tr>
<td style="text-align:left;">
Household Language (2011) No people in household have English as a main language
</td>
<td style="text-align:right;">
-0.1746012
</td>
</tr>
<tr>
<td style="text-align:left;">
Qualifications (2011 Census) Highest level of qualification: Level 3 qualifications
</td>
<td style="text-align:right;">
-0.1642773
</td>
</tr>
<tr>
<td style="text-align:left;">
Hholds
</td>
<td style="text-align:right;">
-0.1615083
</td>
</tr>
<tr>
<td style="text-align:left;">
Households (2011) All Households
</td>
<td style="text-align:right;">
-0.1615083
</td>
</tr>
<tr>
<td style="text-align:left;">
Dwelling type (2011) Household spaces with at least one usual resident
</td>
<td style="text-align:right;">
-0.1615083
</td>
</tr>
<tr>
<td style="text-align:left;">
Economic Activity (2011 Census) Economically inactive: Total
</td>
<td style="text-align:right;">
-0.1570016
</td>
</tr>
<tr>
<td style="text-align:left;">
Age Structure (2011 Census) Working-age
</td>
<td style="text-align:right;">
-0.1531622
</td>
</tr>
<tr>
<td style="text-align:left;">
Ethnic Group (2011 Census) Other ethnic group
</td>
<td style="text-align:right;">
-0.1523189
</td>
</tr>
<tr>
<td style="text-align:left;">
Car or van availability (2011 Census) Cars per household
</td>
<td style="text-align:right;">
0.1604540
</td>
</tr>
<tr>
<td style="text-align:left;">
Tenure (2011) Owned: Owned with a mortgage or loan (%)
</td>
<td style="text-align:right;">
0.1701928
</td>
</tr>
<tr>
<td style="text-align:left;">
Central Heating (2011 Census) Households with central heating (%)
</td>
<td style="text-align:right;">
0.2055461
</td>
</tr>
<tr>
<td style="text-align:left;">
burglaryError
</td>
<td style="text-align:right;">
0.2115687
</td>
</tr>
<tr>
<td style="text-align:left;">
Household Composition (2011) Percentages Couple household with dependent children
</td>
<td style="text-align:right;">
0.2130557
</td>
</tr>
<tr>
<td style="text-align:left;">
Car or van availability (2011 Census) 1 car or van in household (%)
</td>
<td style="text-align:right;">
0.2305679
</td>
</tr>
<tr>
<td style="text-align:left;">
Dwelling type (2011) Household spaces with at least one usual resident (%)
</td>
<td style="text-align:right;">
0.2308005
</td>
</tr>
<tr>
<td style="text-align:left;">
robberyError
</td>
<td style="text-align:right;">
0.8565425
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>The correlations for burglary are weaker - only a few have an absolute value higher than 0.2 - but a few stand out: - households with no residents - high robbery numbers - house prices</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-36_aa881b8bbc7ad5850a7f17758b71ea68">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>high_corr_burg <span class="ot">&lt;-</span> <span class="fu">filter</span>(dplyr<span class="sc">::</span><span class="fu">select</span>(corr_df, term, RPDburglaryShifted), RPDburglaryShifted <span class="sc">&lt;</span> <span class="sc">-</span><span class="fl">0.15</span> <span class="sc">|</span> RPDburglaryShifted <span class="sc">&gt;</span> <span class="fl">0.15</span>)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>high_corr_burg[<span class="fu">order</span>(high_corr_burg<span class="sc">$</span>RPDburglaryShifted),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
RPDburglaryShifted
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
burglaryPredicted
</td>
<td style="text-align:right;">
-0.8600903
</td>
</tr>
<tr>
<td style="text-align:left;">
burglaryPredictedShifted
</td>
<td style="text-align:right;">
-0.8600903
</td>
</tr>
<tr>
<td style="text-align:left;">
total_burglaries
</td>
<td style="text-align:right;">
-0.2169094
</td>
</tr>
<tr>
<td style="text-align:left;">
Dwelling type (2011) Household spaces with no usual residents
</td>
<td style="text-align:right;">
-0.1761768
</td>
</tr>
<tr>
<td style="text-align:left;">
total_robberies
</td>
<td style="text-align:right;">
-0.1714721
</td>
</tr>
<tr>
<td style="text-align:left;">
Dwelling type (2011) Household spaces with no usual residents (%)
</td>
<td style="text-align:right;">
-0.1706826
</td>
</tr>
<tr>
<td style="text-align:left;">
robberyPredicted
</td>
<td style="text-align:right;">
-0.1631558
</td>
</tr>
<tr>
<td style="text-align:left;">
robberyPredictedShifted
</td>
<td style="text-align:right;">
-0.1631558
</td>
</tr>
<tr>
<td style="text-align:left;">
House Prices Median House Price (£) 2010
</td>
<td style="text-align:right;">
-0.1609004
</td>
</tr>
<tr>
<td style="text-align:left;">
House Prices Median House Price (£) 2008
</td>
<td style="text-align:right;">
-0.1527950
</td>
</tr>
<tr>
<td style="text-align:left;">
House Prices Median House Price (£) 2011
</td>
<td style="text-align:right;">
-0.1507911
</td>
</tr>
<tr>
<td style="text-align:left;">
House Prices Median House Price (£) 2007
</td>
<td style="text-align:right;">
-0.1505301
</td>
</tr>
<tr>
<td style="text-align:left;">
Mid-year Estimates 2012, by age % 0 to 14
</td>
<td style="text-align:right;">
0.1628106
</td>
</tr>
<tr>
<td style="text-align:left;">
robberyError
</td>
<td style="text-align:right;">
0.1628523
</td>
</tr>
<tr>
<td style="text-align:left;">
Dwelling type (2011) Household spaces with at least one usual resident (%)
</td>
<td style="text-align:right;">
0.1706826
</td>
</tr>
<tr>
<td style="text-align:left;">
burglaryError
</td>
<td style="text-align:right;">
0.9656142
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>These correlates suggest we can model this shift - this is likely to prove more reliable for robbery (where the correlations are stronger), and seem linked to usual resident population(as measured by household composition), deprivation (through various proxy indicators such as central heating presence or housing type), and general crime patterns (through total burglary and robbery numbers)</p>
<p>We will take two approaches for modelling: a simple regression (to identify strong links) and random forest regressors (to identify non-linear associations)</p>
<section id="simple-regression" class="level3">
<h3 class="anchored" data-anchor-id="simple-regression">Simple Regression</h3>
<p>We begin through the use of simple OLS regression. This is a linear model that has large limitations for modelling complex relationships, but can be an effective first step, effectively with a few transformations.</p>
<p>R does not cope well with blank spaces in terms, so we’ll extract and rename our key correlates.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-37_295ed7ae38ed1d65bb1ab97cf5378865">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co">#make copy of df and rename </span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>msoa_copy <span class="ot">&lt;-</span> msoa_matrix_numeric</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(msoa_copy)[<span class="fu">names</span>(msoa_copy) <span class="sc">==</span> <span class="st">"Dwelling type (2011) Household spaces with no usual residents"</span>] <span class="ot">&lt;-</span> <span class="st">"DwellingNoResidents"</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(msoa_copy)[<span class="fu">names</span>(msoa_copy) <span class="sc">==</span> <span class="st">"House Prices Median House Price (£) 2010"</span>] <span class="ot">&lt;-</span> <span class="st">"MedianHousePrice"</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(msoa_copy)[<span class="fu">names</span>(msoa_copy) <span class="sc">==</span> <span class="st">"Dwelling type (2011) Flat, maisonette or apartment"</span>] <span class="ot">&lt;-</span> <span class="st">"FlatAprt"</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(msoa_copy)[<span class="fu">names</span>(msoa_copy) <span class="sc">==</span> <span class="st">"Qualifications (2011 Census) Schoolchildren and full-time students: Age 18 and over"</span>] <span class="ot">&lt;-</span> <span class="st">"fullTimeStudents"</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(msoa_copy)[<span class="fu">names</span>(msoa_copy) <span class="sc">==</span> <span class="st">"Car or van availability (2011 Census) No cars or vans in household"</span>] <span class="ot">&lt;-</span> <span class="st">"NoCars"</span></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(msoa_copy)[<span class="fu">names</span>(msoa_copy) <span class="sc">==</span> <span class="st">"Ethnic Group (2011 Census) Other ethnic group"</span>] <span class="ot">&lt;-</span> <span class="st">"OtherEthnicGroup"</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(msoa_copy)[<span class="fu">names</span>(msoa_copy) <span class="sc">==</span> <span class="st">"Central Heating (2011 Census) Households with central heating (%)"</span>] <span class="ot">&lt;-</span> <span class="st">"CentralHealingPercent"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s now extract these to a separate dataframe, remove any missing values, and provide some quick summary statistics to identify any obvious concerns.</p>
<p>We also generate a matrix of scatter-plots, so as to identify any obvious relationships between our key values.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-38_6ee1ac19d2d217db3ec396d71a762b5c">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>feature_df <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(msoa_copy, RPDburglaryShifted, RPDRobberyShifted, total_burglaries, total_robberies, DwellingNoResidents, MedianHousePrice, FlatAprt, fullTimeStudents, NoCars, OtherEthnicGroup, CentralHealingPercent, AvHholdSz, ComEstRes)</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>feature_df <span class="ot">&lt;-</span> <span class="fu">drop_na</span>(feature_df, RPDburglaryShifted, RPDRobberyShifted)</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(feature_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:right;">
RPDburglaryShifted
</th>
<th style="text-align:right;">
RPDRobberyShifted
</th>
<th style="text-align:right;">
total_burglaries
</th>
<th style="text-align:right;">
total_robberies
</th>
<th style="text-align:right;">
DwellingNoResidents
</th>
<th style="text-align:right;">
MedianHousePrice
</th>
<th style="text-align:right;">
FlatAprt
</th>
<th style="text-align:right;">
fullTimeStudents
</th>
<th style="text-align:right;">
NoCars
</th>
<th style="text-align:right;">
OtherEthnicGroup
</th>
<th style="text-align:right;">
CentralHealingPercent
</th>
<th style="text-align:right;">
AvHholdSz
</th>
<th style="text-align:right;">
ComEstRes
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
-0.1219796
</td>
<td style="text-align:right;">
0.0601204
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:right;">
450000
</td>
<td style="text-align:right;">
5416
</td>
<td style="text-align:right;">
422
</td>
<td style="text-align:right;">
3043
</td>
<td style="text-align:right;">
154
</td>
<td style="text-align:right;">
95.7
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
188
</td>
</tr>
<tr>
<td style="text-align:right;">
0.3489691
</td>
<td style="text-align:right;">
-0.0223392
</td>
<td style="text-align:right;">
136
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
82
</td>
<td style="text-align:right;">
173000
</td>
<td style="text-align:right;">
1087
</td>
<td style="text-align:right;">
272
</td>
<td style="text-align:right;">
1020
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
97.5
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
51
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.0218569
</td>
<td style="text-align:right;">
0.0526430
</td>
<td style="text-align:right;">
239
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
215000
</td>
<td style="text-align:right;">
1256
</td>
<td style="text-align:right;">
442
</td>
<td style="text-align:right;">
1196
</td>
<td style="text-align:right;">
224
</td>
<td style="text-align:right;">
96.5
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:right;">
0.1381492
</td>
<td style="text-align:right;">
0.0257532
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
192000
</td>
<td style="text-align:right;">
314
</td>
<td style="text-align:right;">
215
</td>
<td style="text-align:right;">
556
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
98.5
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
245
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.0107732
</td>
<td style="text-align:right;">
-0.1490559
</td>
<td style="text-align:right;">
161
</td>
<td style="text-align:right;">
87
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
169000
</td>
<td style="text-align:right;">
373
</td>
<td style="text-align:right;">
333
</td>
<td style="text-align:right;">
1080
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
96.3
</td>
<td style="text-align:right;">
2.7
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.1401784
</td>
<td style="text-align:right;">
0.0702553
</td>
<td style="text-align:right;">
136
</td>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
165000
</td>
<td style="text-align:right;">
1471
</td>
<td style="text-align:right;">
402
</td>
<td style="text-align:right;">
1496
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
98.1
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
119
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-39_2d8593019d93928816ea1b273217f54c">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(feature_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> RPDburglaryShifted RPDRobberyShifted  total_burglaries total_robberies  
 Min.   :-0.81266   Min.   :-1.45491   Min.   :  46.0   Min.   :   2.00  
 1st Qu.:-0.20689   1st Qu.:-0.11808   1st Qu.: 121.0   1st Qu.:  29.00  
 Median :-0.08826   Median :-0.04081   Median : 159.0   Median :  53.00  
 Mean   :-0.07976   Mean   :-0.04876   Mean   : 175.5   Mean   :  78.53  
 3rd Qu.: 0.03612   3rd Qu.: 0.04309   3rd Qu.: 205.0   3rd Qu.:  92.00  
 Max.   : 1.29467   Max.   : 0.62020   Max.   :1973.0   Max.   :2456.00  
 DwellingNoResidents MedianHousePrice     FlatAprt      fullTimeStudents
 Min.   :  14.0      Min.   : 137625   Min.   :  54.0   Min.   : 122.0  
 1st Qu.:  59.0      1st Qu.: 222500   1st Qu.: 830.5   1st Qu.: 305.5  
 Median :  86.0      Median : 265975   Median :1607.0   Median : 465.0  
 Mean   : 123.4      Mean   : 310710   Mean   :1798.2   Mean   : 539.5  
 3rd Qu.: 133.0      3rd Qu.: 351525   3rd Qu.:2566.5   3rd Qu.: 654.5  
 Max.   :1556.0      Max.   :1425000   Max.   :6429.0   Max.   :3370.0  
     NoCars     OtherEthnicGroup CentralHealingPercent   AvHholdSz    
 Min.   : 185   Min.   :  16.0   Min.   :92.10         Min.   :1.600  
 1st Qu.: 796   1st Qu.: 134.0   1st Qu.:96.60         1st Qu.:2.300  
 Median :1256   Median : 232.0   Median :97.40         Median :2.500  
 Mean   :1382   Mean   : 285.8   Mean   :97.24         Mean   :2.506  
 3rd Qu.:1858   3rd Qu.: 376.5   3rd Qu.:98.00         3rd Qu.:2.700  
 Max.   :4319   Max.   :3001.0   Max.   :99.60         Max.   :3.900  
   ComEstRes   
 Min.   :   0  
 1st Qu.:   9  
 Median :  41  
 Mean   : 102  
 3rd Qu.: 105  
 Max.   :2172  </code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-40_8d002df2959225e7ca50009b77c3950f">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(feature_df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   RPDburglaryShifted     RPDRobberyShifted      total_burglaries 
                    0                     0                     0 
      total_robberies   DwellingNoResidents      MedianHousePrice 
                    0                     0                     0 
             FlatAprt      fullTimeStudents                NoCars 
                    0                     0                     0 
     OtherEthnicGroup CentralHealingPercent             AvHholdSz 
                    0                     0                     0 
            ComEstRes 
                    0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(feature_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
<p>As we hoped, some obvious relationships stand out: for instance, the presence of apartments, and households with no cars, or central heating and average household size.</p>
<p>Our robbery and burglary data and change rates are densely clustered - they’re unlikely to cleanly associate with anything. With that in mind, we’ll perform a log transformation. This cannot be undertaken with negative values, so once again we’ll perform a shift (of 2) for both of our relative error numbers, as well as a commercial resident column, before log transforming our features.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-41_1581dfa2762435d365dc65a26a0738f6">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>feature_df<span class="sc">$</span>BurglaryRPDTranform <span class="ot">&lt;-</span> feature_df<span class="sc">$</span>RPDburglaryShifted    <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>feature_df<span class="sc">$</span>RobberyRPDTranform <span class="ot">&lt;-</span> feature_df<span class="sc">$</span>RPDRobberyShifted   <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>feature_df<span class="sc">$</span>ComEstResTranform <span class="ot">&lt;-</span> feature_df<span class="sc">$</span>ComEstRes   <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (col <span class="cf">in</span> <span class="fu">colnames</span>(feature_df)){</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>  new_name <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"log_"</span>, col, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>  feature_df[new_name] <span class="ot">&lt;-</span> <span class="fu">log</span>(feature_df[col])</span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>drop<span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">"log_ComEstRes"</span>, <span class="st">"log_RPDburglaryShifted"</span>, <span class="st">"log_RPDRobberyShifted"</span>)</span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>feature_df<span class="ot">&lt;-</span> feature_df[,<span class="sc">!</span>(<span class="fu">names</span>(feature_df) <span class="sc">%in%</span> drop)]</span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>feat_transform_df <span class="ot">&lt;-</span> feature_df[,<span class="dv">17</span><span class="sc">:</span><span class="dv">29</span>]</span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a>orig_feat_df <span class="ot">&lt;-</span> feature_df[,<span class="dv">0</span><span class="sc">:</span><span class="dv">17</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We’ve now separated a separate dataframe where each value has been log transformed - while this isn’t hugely rigorous (and would benefit from inspecting the relationships in more detail) it serves our immediate purpose.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-42_ec3b98a00f3c7694b7e73518416bb91e">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(feat_transform_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
<p>While we’ve introduced a bit of noise, we’ve also “forced” some of our variables into relationships that look semi linear.</p>
<p>To dig into this deeper, let’s create a correlation matrix for our entire transformed dataframe.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-43_bc1fe9147f7ef9bf65a0413bf902f1e5">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">correlate</span>(feat_transform_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Correlation computed with
• Method: 'pearson'
• Missing treated using: 'pairwise.complete.obs'</code></pre>
</div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
log_total_burglaries
</th>
<th style="text-align:right;">
log_total_robberies
</th>
<th style="text-align:right;">
log_DwellingNoResidents
</th>
<th style="text-align:right;">
log_MedianHousePrice
</th>
<th style="text-align:right;">
log_FlatAprt
</th>
<th style="text-align:right;">
log_fullTimeStudents
</th>
<th style="text-align:right;">
log_NoCars
</th>
<th style="text-align:right;">
log_OtherEthnicGroup
</th>
<th style="text-align:right;">
log_CentralHealingPercent
</th>
<th style="text-align:right;">
log_AvHholdSz
</th>
<th style="text-align:right;">
log_BurglaryRPDTranform
</th>
<th style="text-align:right;">
log_RobberyRPDTranform
</th>
<th style="text-align:right;">
log_ComEstResTranform
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
log_total_burglaries
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.6793730
</td>
<td style="text-align:right;">
0.5009180
</td>
<td style="text-align:right;">
0.2641776
</td>
<td style="text-align:right;">
0.5386775
</td>
<td style="text-align:right;">
0.3830059
</td>
<td style="text-align:right;">
0.5287612
</td>
<td style="text-align:right;">
0.3864406
</td>
<td style="text-align:right;">
-0.3234183
</td>
<td style="text-align:right;">
-0.3632653
</td>
<td style="text-align:right;">
-0.2224450
</td>
<td style="text-align:right;">
-0.3858625
</td>
<td style="text-align:right;">
0.2461299
</td>
</tr>
<tr>
<td style="text-align:left;">
log_total_robberies
</td>
<td style="text-align:right;">
0.6793730
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.3528253
</td>
<td style="text-align:right;">
0.0289555
</td>
<td style="text-align:right;">
0.6210392
</td>
<td style="text-align:right;">
0.6262973
</td>
<td style="text-align:right;">
0.7312742
</td>
<td style="text-align:right;">
0.5328260
</td>
<td style="text-align:right;">
-0.4392580
</td>
<td style="text-align:right;">
-0.1885684
</td>
<td style="text-align:right;">
-0.1143993
</td>
<td style="text-align:right;">
-0.3860350
</td>
<td style="text-align:right;">
0.2003534
</td>
</tr>
<tr>
<td style="text-align:left;">
log_DwellingNoResidents
</td>
<td style="text-align:right;">
0.5009180
</td>
<td style="text-align:right;">
0.3528253
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.5259771
</td>
<td style="text-align:right;">
0.5455129
</td>
<td style="text-align:right;">
0.2061306
</td>
<td style="text-align:right;">
0.4187217
</td>
<td style="text-align:right;">
0.2388495
</td>
<td style="text-align:right;">
-0.3673864
</td>
<td style="text-align:right;">
-0.6022479
</td>
<td style="text-align:right;">
-0.1801381
</td>
<td style="text-align:right;">
-0.2106489
</td>
<td style="text-align:right;">
0.2991287
</td>
</tr>
<tr>
<td style="text-align:left;">
log_MedianHousePrice
</td>
<td style="text-align:right;">
0.2641776
</td>
<td style="text-align:right;">
0.0289555
</td>
<td style="text-align:right;">
0.5259771
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.2266006
</td>
<td style="text-align:right;">
-0.0590916
</td>
<td style="text-align:right;">
0.0310431
</td>
<td style="text-align:right;">
0.1415866
</td>
<td style="text-align:right;">
-0.0743475
</td>
<td style="text-align:right;">
-0.4236094
</td>
<td style="text-align:right;">
-0.1667024
</td>
<td style="text-align:right;">
-0.0843802
</td>
<td style="text-align:right;">
0.1860743
</td>
</tr>
<tr>
<td style="text-align:left;">
log_FlatAprt
</td>
<td style="text-align:right;">
0.5386775
</td>
<td style="text-align:right;">
0.6210392
</td>
<td style="text-align:right;">
0.5455129
</td>
<td style="text-align:right;">
0.2266006
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.4899513
</td>
<td style="text-align:right;">
0.8808568
</td>
<td style="text-align:right;">
0.5041155
</td>
<td style="text-align:right;">
-0.4913225
</td>
<td style="text-align:right;">
-0.5893529
</td>
<td style="text-align:right;">
-0.0645864
</td>
<td style="text-align:right;">
-0.1646088
</td>
<td style="text-align:right;">
0.2781184
</td>
</tr>
<tr>
<td style="text-align:left;">
log_fullTimeStudents
</td>
<td style="text-align:right;">
0.3830059
</td>
<td style="text-align:right;">
0.6262973
</td>
<td style="text-align:right;">
0.2061306
</td>
<td style="text-align:right;">
-0.0590916
</td>
<td style="text-align:right;">
0.4899513
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.6188377
</td>
<td style="text-align:right;">
0.6459824
</td>
<td style="text-align:right;">
-0.3243579
</td>
<td style="text-align:right;">
0.1050335
</td>
<td style="text-align:right;">
-0.0491348
</td>
<td style="text-align:right;">
-0.2206372
</td>
<td style="text-align:right;">
0.2923494
</td>
</tr>
<tr>
<td style="text-align:left;">
log_NoCars
</td>
<td style="text-align:right;">
0.5287612
</td>
<td style="text-align:right;">
0.7312742
</td>
<td style="text-align:right;">
0.4187217
</td>
<td style="text-align:right;">
0.0310431
</td>
<td style="text-align:right;">
0.8808568
</td>
<td style="text-align:right;">
0.6188377
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.5238758
</td>
<td style="text-align:right;">
-0.5402424
</td>
<td style="text-align:right;">
-0.4448476
</td>
<td style="text-align:right;">
-0.0361088
</td>
<td style="text-align:right;">
-0.2002598
</td>
<td style="text-align:right;">
0.1658930
</td>
</tr>
<tr>
<td style="text-align:left;">
log_OtherEthnicGroup
</td>
<td style="text-align:right;">
0.3864406
</td>
<td style="text-align:right;">
0.5328260
</td>
<td style="text-align:right;">
0.2388495
</td>
<td style="text-align:right;">
0.1415866
</td>
<td style="text-align:right;">
0.5041155
</td>
<td style="text-align:right;">
0.6459824
</td>
<td style="text-align:right;">
0.5238758
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
-0.2366892
</td>
<td style="text-align:right;">
0.0716831
</td>
<td style="text-align:right;">
-0.0182390
</td>
<td style="text-align:right;">
-0.1700667
</td>
<td style="text-align:right;">
0.1260174
</td>
</tr>
<tr>
<td style="text-align:left;">
log_CentralHealingPercent
</td>
<td style="text-align:right;">
-0.3234183
</td>
<td style="text-align:right;">
-0.4392580
</td>
<td style="text-align:right;">
-0.3673864
</td>
<td style="text-align:right;">
-0.0743475
</td>
<td style="text-align:right;">
-0.4913225
</td>
<td style="text-align:right;">
-0.3243579
</td>
<td style="text-align:right;">
-0.5402424
</td>
<td style="text-align:right;">
-0.2366892
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.4351582
</td>
<td style="text-align:right;">
0.0943127
</td>
<td style="text-align:right;">
0.2435584
</td>
<td style="text-align:right;">
-0.1453510
</td>
</tr>
<tr>
<td style="text-align:left;">
log_AvHholdSz
</td>
<td style="text-align:right;">
-0.3632653
</td>
<td style="text-align:right;">
-0.1885684
</td>
<td style="text-align:right;">
-0.6022479
</td>
<td style="text-align:right;">
-0.4236094
</td>
<td style="text-align:right;">
-0.5893529
</td>
<td style="text-align:right;">
0.1050335
</td>
<td style="text-align:right;">
-0.4448476
</td>
<td style="text-align:right;">
0.0716831
</td>
<td style="text-align:right;">
0.4351582
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.1430359
</td>
<td style="text-align:right;">
0.1747301
</td>
<td style="text-align:right;">
-0.2479341
</td>
</tr>
<tr>
<td style="text-align:left;">
log_BurglaryRPDTranform
</td>
<td style="text-align:right;">
-0.2224450
</td>
<td style="text-align:right;">
-0.1143993
</td>
<td style="text-align:right;">
-0.1801381
</td>
<td style="text-align:right;">
-0.1667024
</td>
<td style="text-align:right;">
-0.0645864
</td>
<td style="text-align:right;">
-0.0491348
</td>
<td style="text-align:right;">
-0.0361088
</td>
<td style="text-align:right;">
-0.0182390
</td>
<td style="text-align:right;">
0.0943127
</td>
<td style="text-align:right;">
0.1430359
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.1726291
</td>
<td style="text-align:right;">
-0.1678558
</td>
</tr>
<tr>
<td style="text-align:left;">
log_RobberyRPDTranform
</td>
<td style="text-align:right;">
-0.3858625
</td>
<td style="text-align:right;">
-0.3860350
</td>
<td style="text-align:right;">
-0.2106489
</td>
<td style="text-align:right;">
-0.0843802
</td>
<td style="text-align:right;">
-0.1646088
</td>
<td style="text-align:right;">
-0.2206372
</td>
<td style="text-align:right;">
-0.2002598
</td>
<td style="text-align:right;">
-0.1700667
</td>
<td style="text-align:right;">
0.2435584
</td>
<td style="text-align:right;">
0.1747301
</td>
<td style="text-align:right;">
0.1726291
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
-0.1638404
</td>
</tr>
<tr>
<td style="text-align:left;">
log_ComEstResTranform
</td>
<td style="text-align:right;">
0.2461299
</td>
<td style="text-align:right;">
0.2003534
</td>
<td style="text-align:right;">
0.2991287
</td>
<td style="text-align:right;">
0.1860743
</td>
<td style="text-align:right;">
0.2781184
</td>
<td style="text-align:right;">
0.2923494
</td>
<td style="text-align:right;">
0.1658930
</td>
<td style="text-align:right;">
0.1260174
</td>
<td style="text-align:right;">
-0.1453510
</td>
<td style="text-align:right;">
-0.2479341
</td>
<td style="text-align:right;">
-0.1678558
</td>
<td style="text-align:right;">
-0.1638404
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>To provide a visual aid, I’ve extracted the column for our robbery relative change rate, and sorted the table accordingly.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-44_65f4d1aa012e278926a4ca1780c6ec81">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">correlate</span>(feat_transform_df)[<span class="fu">order</span>(<span class="fu">correlate</span>(feat_transform_df)<span class="sc">$</span>log_BurglaryRPDTranform),], term, log_BurglaryRPDTranform)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Correlation computed with
• Method: 'pearson'
• Missing treated using: 'pairwise.complete.obs'
Correlation computed with
• Method: 'pearson'
• Missing treated using: 'pairwise.complete.obs'</code></pre>
</div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
log_BurglaryRPDTranform
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
log_total_burglaries
</td>
<td style="text-align:right;">
-0.2224450
</td>
</tr>
<tr>
<td style="text-align:left;">
log_DwellingNoResidents
</td>
<td style="text-align:right;">
-0.1801381
</td>
</tr>
<tr>
<td style="text-align:left;">
log_ComEstResTranform
</td>
<td style="text-align:right;">
-0.1678558
</td>
</tr>
<tr>
<td style="text-align:left;">
log_MedianHousePrice
</td>
<td style="text-align:right;">
-0.1667024
</td>
</tr>
<tr>
<td style="text-align:left;">
log_total_robberies
</td>
<td style="text-align:right;">
-0.1143993
</td>
</tr>
<tr>
<td style="text-align:left;">
log_FlatAprt
</td>
<td style="text-align:right;">
-0.0645864
</td>
</tr>
<tr>
<td style="text-align:left;">
log_fullTimeStudents
</td>
<td style="text-align:right;">
-0.0491348
</td>
</tr>
<tr>
<td style="text-align:left;">
log_NoCars
</td>
<td style="text-align:right;">
-0.0361088
</td>
</tr>
<tr>
<td style="text-align:left;">
log_OtherEthnicGroup
</td>
<td style="text-align:right;">
-0.0182390
</td>
</tr>
<tr>
<td style="text-align:left;">
log_CentralHealingPercent
</td>
<td style="text-align:right;">
0.0943127
</td>
</tr>
<tr>
<td style="text-align:left;">
log_AvHholdSz
</td>
<td style="text-align:right;">
0.1430359
</td>
</tr>
<tr>
<td style="text-align:left;">
log_RobberyRPDTranform
</td>
<td style="text-align:right;">
0.1726291
</td>
</tr>
<tr>
<td style="text-align:left;">
log_BurglaryRPDTranform
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
</section>
<section id="regression" class="level3">
<h3 class="anchored" data-anchor-id="regression">Regression</h3>
<p>Now that we’ve transformed our data, cleaned it up, and identified potential correlates, let’s build our linear model.</p>
<p>There are various automated tools for this process that seek to provide the highest fit and significance, but given the high degree of correlation between my chosen features, I’ve taken a more manual approach and tested a variety of models until I identified one with a suitable fit. The final model is below.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-45_3670003fcf79af910024238fcb001f93">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>mod_burglary <span class="ot">&lt;-</span> <span class="fu">lm</span>(log_BurglaryRPDTranform <span class="sc">~</span> log_total_burglaries <span class="sc">+</span> log_FlatAprt <span class="sc">+</span> log_MedianHousePrice  <span class="sc">+</span> log_ComEstResTranform, <span class="at">data =</span> feat_transform_df)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod_burglary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = log_BurglaryRPDTranform ~ log_total_burglaries + 
    log_FlatAprt + log_MedianHousePrice + log_ComEstResTranform, 
    data = feat_transform_df)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.39022 -0.06547 -0.00309  0.05830  0.56322 

Coefficients:
                       Estimate Std. Error t value             Pr(&gt;|t|)    
(Intercept)            1.255068   0.112681  11.138 &lt; 0.0000000000000002 ***
log_total_burglaries  -0.058851   0.009708  -6.062        0.00000000192 ***
log_FlatAprt           0.016153   0.005157   3.132             0.001786 ** 
log_MedianHousePrice  -0.031691   0.009245  -3.428             0.000634 ***
log_ComEstResTranform -0.008125   0.002119  -3.833             0.000135 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.1027 on 974 degrees of freedom
Multiple R-squared:  0.08188,   Adjusted R-squared:  0.07811 
F-statistic: 21.72 on 4 and 974 DF,  p-value: &lt; 0.00000000000000022</code></pre>
</div>
</div>
<p>Our model suggests the largest burglary decrease linked to lockdown was in MSOAs which a high level of historic burglary. The composition of housing/accomodation and area type also seems to play a role, with those areas with higher median house prices, and a larger number of commercial residents, seeing stronger decreases, while conversely areas with large number of apartments temper the effect.</p>
<p>While all our variables are significant, the model is not a particularly good fit - the adjusted R2 is around 0.08, suggesting that less than 10% of the variance is accounted for by our model. I suspect more geographic features - such as distance from central London, more accurate footfall, or spatial lags - would probably be useful, but that’s outside the scope of this project.</p>
<p>Let’s perform a similar exercise for robbery.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-46_cdc60ffa39e1f3ed102137dc145542d2">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">correlate</span>(feat_transform_df)[<span class="fu">order</span>(<span class="fu">correlate</span>(feat_transform_df)<span class="sc">$</span>log_RobberyRPDTranform),], term, log_RobberyRPDTranform)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Correlation computed with
• Method: 'pearson'
• Missing treated using: 'pairwise.complete.obs'
Correlation computed with
• Method: 'pearson'
• Missing treated using: 'pairwise.complete.obs'</code></pre>
</div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
log_RobberyRPDTranform
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
log_total_robberies
</td>
<td style="text-align:right;">
-0.3860350
</td>
</tr>
<tr>
<td style="text-align:left;">
log_total_burglaries
</td>
<td style="text-align:right;">
-0.3858625
</td>
</tr>
<tr>
<td style="text-align:left;">
log_fullTimeStudents
</td>
<td style="text-align:right;">
-0.2206372
</td>
</tr>
<tr>
<td style="text-align:left;">
log_DwellingNoResidents
</td>
<td style="text-align:right;">
-0.2106489
</td>
</tr>
<tr>
<td style="text-align:left;">
log_NoCars
</td>
<td style="text-align:right;">
-0.2002598
</td>
</tr>
<tr>
<td style="text-align:left;">
log_OtherEthnicGroup
</td>
<td style="text-align:right;">
-0.1700667
</td>
</tr>
<tr>
<td style="text-align:left;">
log_FlatAprt
</td>
<td style="text-align:right;">
-0.1646088
</td>
</tr>
<tr>
<td style="text-align:left;">
log_ComEstResTranform
</td>
<td style="text-align:right;">
-0.1638404
</td>
</tr>
<tr>
<td style="text-align:left;">
log_MedianHousePrice
</td>
<td style="text-align:right;">
-0.0843802
</td>
</tr>
<tr>
<td style="text-align:left;">
log_BurglaryRPDTranform
</td>
<td style="text-align:right;">
0.1726291
</td>
</tr>
<tr>
<td style="text-align:left;">
log_AvHholdSz
</td>
<td style="text-align:right;">
0.1747301
</td>
</tr>
<tr>
<td style="text-align:left;">
log_CentralHealingPercent
</td>
<td style="text-align:right;">
0.2435584
</td>
</tr>
<tr>
<td style="text-align:left;">
log_RobberyRPDTranform
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-47_09d2972f321bc0eea53521dd21557d98">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>mod_burglary <span class="ot">&lt;-</span> <span class="fu">lm</span>(log_RobberyRPDTranform <span class="sc">~</span> log_total_robberies  <span class="sc">+</span> log_total_burglaries <span class="sc">+</span> log_FlatAprt <span class="sc">+</span> log_CentralHealingPercent <span class="sc">+</span> log_fullTimeStudents, <span class="at">data =</span> feat_transform_df)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod_burglary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = log_RobberyRPDTranform ~ log_total_robberies + log_total_burglaries + 
    log_FlatAprt + log_CentralHealingPercent + log_fullTimeStudents, 
    data = feat_transform_df)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.95406 -0.04243 -0.00535  0.04616  0.31826 

Coefficients:
                           Estimate Std. Error t value        Pr(&gt;|t|)    
(Intercept)               -5.041998   1.396500  -3.610        0.000321 ***
log_total_robberies       -0.030763   0.005495  -5.598 0.0000000282078 ***
log_total_burglaries      -0.066724   0.009757  -6.838 0.0000000000141 ***
log_FlatAprt               0.029516   0.005148   5.733 0.0000000131343 ***
log_CentralHealingPercent  1.302973   0.301809   4.317 0.0000174188038 ***
log_fullTimeStudents      -0.001894   0.006809  -0.278        0.780980    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.08921 on 973 degrees of freedom
Multiple R-squared:  0.2103,    Adjusted R-squared:  0.2062 
F-statistic: 51.81 on 5 and 973 DF,  p-value: &lt; 0.00000000000000022</code></pre>
</div>
</div>
<p>This is a notably better fit than our burglary model, with our R2 suggesting we now account for over 20% of the variance. The nature of our predictors is also quite different: while we still see a negative relationship with historic crime (with areas of high historic crime experiencing larger relative decreases), there is a positive relationship with both the presence of apartments and central heating.</p>
<p>I suspect some of these features are correlates of deprivation, so I want to create a quick scatter of three - for now we’ll do it against median house price, which is definitely deprivation correlated.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-48_0bd28fb4a16a38ebcc11620cb2c33091">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>heating <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(feature_df, <span class="fu">aes</span>(<span class="at">x =</span> log_MedianHousePrice, <span class="at">y =</span> log_CentralHealingPercent)) <span class="sc">+</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm)</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>apartments <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(feature_df, <span class="fu">aes</span>(<span class="at">x =</span> log_MedianHousePrice, <span class="at">y =</span> log_FlatAprt)) <span class="sc">+</span></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm)</span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a>comest <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(feature_df, <span class="fu">aes</span>(<span class="at">x =</span> log_MedianHousePrice, <span class="at">y =</span> log_ComEstResTranform)) <span class="sc">+</span></span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb108-11"><a href="#cb108-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm)</span>
<span id="cb108-12"><a href="#cb108-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-13"><a href="#cb108-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-14"><a href="#cb108-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-15"><a href="#cb108-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(heating, apartments, comest, <span class="at">ncol=</span><span class="dv">3</span>, <span class="at">nrow=</span><span class="dv">1</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula 'y ~ x'
`geom_smooth()` using formula 'y ~ x'
`geom_smooth()` using formula 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>While there does appear to be a relationship with some of these, it isn’t strong - this suggests the factor’s we have identified are significant not because of their association with deprivation and poverty, but because of what they mean about the specific characteristics of the area.</p>
</section>
<section id="random-forests" class="level3">
<h3 class="anchored" data-anchor-id="random-forests">Random Forests</h3>
<p>Unlike regression, random forest doesn’t really on any specific type of association - instead, we rely on computing power, repetition and iteration to capture the very best predictor for our variable, in any combination.</p>
<p>There are risks to this method: our sample size is smaller than I’d like, and this may lead to over-fit of outlier MSOAs.</p>
<p>It does mean we don’t need to worry about transformations or correlations: we can return to our original dataset, and let the model identify the strongest predictors.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-49_cbf002a38e2398b7127907bbd0d3f92c">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we remove rows where our main error is na or missing</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>rf_msoa_matrix <span class="ot">&lt;-</span> <span class="fu">drop_na</span>(msoa_matrix_numeric, RPDRobberyShifted)</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="co">#then we repeat for any columns where value asre missing</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>clean_rf_matrix <span class="ot">&lt;-</span> rf_msoa_matrix[ , <span class="fu">colSums</span>(<span class="fu">is.na</span>(rf_msoa_matrix)) <span class="sc">==</span> <span class="dv">0</span>]</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a><span class="co">#then we drop out any values that directly predict our error.</span></span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a>drop<span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"burglaryActual"</span>,<span class="st">"burglaryError"</span>,<span class="st">"burglaryPercentError"</span>,<span class="st">"burglaryPredicted"</span>,<span class="st">"robberyActual"</span>,<span class="st">"robberyPredicted"</span>,<span class="st">"robberyError"</span>,<span class="st">"robberyPercentError"</span>, <span class="st">"RPDBurglaryShifted"</span>, <span class="st">"RPDRobberyShifted"</span>)</span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a><span class="co">#remove out selected columns</span></span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a>data<span class="ot">&lt;-</span> clean_rf_matrix[,<span class="sc">!</span>(<span class="fu">names</span>(clean_rf_matrix) <span class="sc">%in%</span> drop)]</span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-15"><a href="#cb110-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-16"><a href="#cb110-16" aria-hidden="true" tabindex="-1"></a><span class="co">#automatically remove white space and make names r compatbiel</span></span>
<span id="cb110-17"><a href="#cb110-17" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(clean_rf_matrix)<span class="ot">&lt;-</span><span class="fu">make.names</span>(<span class="fu">names</span>(clean_rf_matrix),<span class="at">unique =</span> <span class="cn">TRUE</span>)</span>
<span id="cb110-18"><a href="#cb110-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-19"><a href="#cb110-19" aria-hidden="true" tabindex="-1"></a>drop<span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"burglaryActual"</span>,<span class="st">"burglaryError"</span>,<span class="st">"robberyActual"</span>,<span class="st">"robberyError"</span>,<span class="st">"RPDBurglary"</span>,<span class="st">"RPDRobbery"</span>,<span class="st">"robberyActualShifted"</span>,<span class="st">"robberyPredictedShifted"</span>,<span class="st">"burglaryActualShifted"</span>,<span class="st">"burglaryPredictedShifted"</span>, <span class="st">"burglaryPredicted"</span>, <span class="st">"burglaryPercentError"</span>, <span class="st">"robberyPredicted"</span>, <span class="st">"robberyPercentError"</span>)</span>
<span id="cb110-20"><a href="#cb110-20" aria-hidden="true" tabindex="-1"></a><span class="co">#drop&lt;- c("burglaryPercentError","burglaryPredicted","robberyPredicted","robberyPercentError")</span></span>
<span id="cb110-21"><a href="#cb110-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-22"><a href="#cb110-22" aria-hidden="true" tabindex="-1"></a>data<span class="ot">&lt;-</span> clean_rf_matrix[,<span class="sc">!</span>(<span class="fu">names</span>(clean_rf_matrix) <span class="sc">%in%</span> drop)]</span>
<span id="cb110-23"><a href="#cb110-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-24"><a href="#cb110-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-25"><a href="#cb110-25" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(data)<span class="ot">&lt;-</span> <span class="fu">make.names</span>(<span class="fu">names</span>(data),<span class="at">unique =</span> <span class="cn">TRUE</span>)</span>
<span id="cb110-26"><a href="#cb110-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">

<table>
<thead>
<tr>
<th style="text-align:right;">
UsualRes
</th>
<th style="text-align:right;">
HholdRes
</th>
<th style="text-align:right;">
ComEstRes
</th>
<th style="text-align:right;">
PopDen
</th>
<th style="text-align:right;">
Hholds
</th>
<th style="text-align:right;">
AvHholdSz
</th>
<th style="text-align:right;">
total_robberies
</th>
<th style="text-align:right;">
total_burglaries
</th>
<th style="text-align:right;">
RPDRobberyShifted
</th>
<th style="text-align:right;">
RPDburglaryShifted
</th>
<th style="text-align:right;">
Age.Structure..2011.Census..All.Ages
</th>
<th style="text-align:right;">
Age.Structure..2011.Census..0.15
</th>
<th style="text-align:right;">
Age.Structure..2011.Census..16.29
</th>
<th style="text-align:right;">
Age.Structure..2011.Census..30.44
</th>
<th style="text-align:right;">
Age.Structure..2011.Census..45.64
</th>
<th style="text-align:right;">
Age.Structure..2011.Census..65.
</th>
<th style="text-align:right;">
Age.Structure..2011.Census..Working.age
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2002
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2003
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2004
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2005
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2006
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2007
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2008
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2009
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2010
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2011
</th>
<th style="text-align:right;">
Mid.year.Estimate.totals.All.Ages.2012
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age…0.to.14
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age…15.64
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age…65.
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.0.4
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.5.9
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.10.14
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.15.19
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.20.24
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.25.29
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.30.34
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.35.39
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.40.44
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.45.49
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.50.54
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.55.59
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.60.64
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.65.69
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.70.74
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.75.79
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.80.84
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.85.89
</th>
<th style="text-align:right;">
Mid.year.Estimates.2012..by.age.90.
</th>
<th style="text-align:right;">
Households..2011..All.Households
</th>
<th style="text-align:right;">
Household.Composition..2011..Numbers.Couple.household.with.dependent.children
</th>
<th style="text-align:right;">
Household.Composition..2011..Numbers.Couple.household.without.dependent.children
</th>
<th style="text-align:right;">
Household.Composition..2011..Numbers.Lone.parent.household
</th>
<th style="text-align:right;">
Household.Composition..2011..Numbers.One.person.household
</th>
<th style="text-align:right;">
Household.Composition..2011..Numbers.Other.household.Types
</th>
<th style="text-align:right;">
Household.Composition..2011..Percentages.Couple.household.with.dependent.children
</th>
<th style="text-align:right;">
Household.Composition..2011..Percentages.Couple.household.without.dependent.children
</th>
<th style="text-align:right;">
Household.Composition..2011..Percentages.Lone.parent.household
</th>
<th style="text-align:right;">
Household.Composition..2011..Percentages.One.person.household
</th>
<th style="text-align:right;">
Household.Composition..2011..Percentages.Other.household.Types
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..White
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..Mixed.multiple.ethnic.groups
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..Asian.Asian.British
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..Black.African.Caribbean.Black.British
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..Other.ethnic.group
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..BAME
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..White….
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..Mixed.multiple.ethnic.groups….
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..Asian.Asian.British….
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..Black.African.Caribbean.Black.British….
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..Other.ethnic.group….
</th>
<th style="text-align:right;">
Ethnic.Group..2011.Census..BAME….
</th>
<th style="text-align:right;">
Country.of.Birth..2011..United.Kingdom
</th>
<th style="text-align:right;">
Country.of.Birth..2011..Not.United.Kingdom
</th>
<th style="text-align:right;">
Country.of.Birth..2011..United.Kingdom….
</th>
<th style="text-align:right;">
Country.of.Birth..2011..Not.United.Kingdom….
</th>
<th style="text-align:right;">
Household.Language..2011..At.least.one.person.aged.16.and.over.in.household.has.English.as.a.main.language
</th>
<th style="text-align:right;">
Household.Language..2011..No.people.in.household.have.English.as.a.main.language
</th>
<th style="text-align:right;">
Household.Language..2011….of.people.aged.16.and.over.in.household.have.English.as.a.main.language
</th>
<th style="text-align:right;">
Household.Language..2011….of.households.where.no.people.in.household.have.English.as.a.main.language
</th>
<th style="text-align:right;">
Religion..2011..Christian
</th>
<th style="text-align:right;">
Religion..2011..Buddhist
</th>
<th style="text-align:right;">
Religion..2011..Hindu
</th>
<th style="text-align:right;">
Religion..2011..Jewish
</th>
<th style="text-align:right;">
Religion..2011..Muslim
</th>
<th style="text-align:right;">
Religion..2011..Sikh
</th>
<th style="text-align:right;">
Religion..2011..Other.religion
</th>
<th style="text-align:right;">
Religion..2011..No.religion
</th>
<th style="text-align:right;">
Religion..2011..Religion.not.stated
</th>
<th style="text-align:right;">
Religion..2011..Christian….
</th>
<th style="text-align:right;">
Religion..2011..Buddhist….
</th>
<th style="text-align:right;">
Religion..2011..Hindu….
</th>
<th style="text-align:right;">
Religion..2011..Jewish….
</th>
<th style="text-align:right;">
Religion..2011..Muslim….
</th>
<th style="text-align:right;">
Religion..2011..Sikh….
</th>
<th style="text-align:right;">
Religion..2011..Other.religion….
</th>
<th style="text-align:right;">
Religion..2011..No.religion….
</th>
<th style="text-align:right;">
Religion..2011..Religion.not.stated….
</th>
<th style="text-align:right;">
Tenure..2011..Owned..Owned.outright
</th>
<th style="text-align:right;">
Tenure..2011..Owned..Owned.with.a.mortgage.or.loan
</th>
<th style="text-align:right;">
Tenure..2011..Social.rented
</th>
<th style="text-align:right;">
Tenure..2011..Private.rented
</th>
<th style="text-align:right;">
Tenure..2011..Owned..Owned.outright….
</th>
<th style="text-align:right;">
Tenure..2011..Owned..Owned.with.a.mortgage.or.loan….
</th>
<th style="text-align:right;">
Tenure..2011..Social.rented….
</th>
<th style="text-align:right;">
Tenure..2011..Private.rented….
</th>
<th style="text-align:right;">
Dwelling.type..2011..Household.spaces.with.at.least.one.usual.resident
</th>
<th style="text-align:right;">
Dwelling.type..2011..Household.spaces.with.no.usual.residents
</th>
<th style="text-align:right;">
Dwelling.type..2011..Whole.house.or.bungalow..Detached
</th>
<th style="text-align:right;">
Dwelling.type..2011..Whole.house.or.bungalow..Semi.detached
</th>
<th style="text-align:right;">
Dwelling.type..2011..Whole.house.or.bungalow..Terraced..including.end.terrace.
</th>
<th style="text-align:right;">
Dwelling.type..2011..Flat..maisonette.or.apartment
</th>
<th style="text-align:right;">
Dwelling.type..2011..Household.spaces.with.at.least.one.usual.resident….
</th>
<th style="text-align:right;">
Dwelling.type..2011..Household.spaces.with.no.usual.residents….
</th>
<th style="text-align:right;">
Dwelling.type..2011..Whole.house.or.bungalow..Detached….
</th>
<th style="text-align:right;">
Dwelling.type..2011..Whole.house.or.bungalow..Semi.detached….
</th>
<th style="text-align:right;">
Dwelling.type..2011..Whole.house.or.bungalow..Terraced..including.end.terrace…..
</th>
<th style="text-align:right;">
Dwelling.type..2011..Flat..maisonette.or.apartment….
</th>
<th style="text-align:right;">
Land.Area.Hectares
</th>
<th style="text-align:right;">
Population.Density.Persons.per.hectare..2012.
</th>
<th style="text-align:right;">
House.Prices.Median.House.Price…..2005
</th>
<th style="text-align:right;">
House.Prices.Median.House.Price…..2006
</th>
<th style="text-align:right;">
House.Prices.Median.House.Price…..2007
</th>
<th style="text-align:right;">
House.Prices.Median.House.Price…..2008
</th>
<th style="text-align:right;">
House.Prices.Median.House.Price…..2009
</th>
<th style="text-align:right;">
House.Prices.Median.House.Price…..2010
</th>
<th style="text-align:right;">
House.Prices.Median.House.Price…..2011
</th>
<th style="text-align:right;">
House.Prices.Median.House.Price…..2012
</th>
<th style="text-align:right;">
House.Prices.Median.House.Price…..2013..p.
</th>
<th style="text-align:right;">
House.Prices.Sales.2005
</th>
<th style="text-align:right;">
House.Prices.Sales.2006
</th>
<th style="text-align:right;">
House.Prices.Sales.2007
</th>
<th style="text-align:right;">
House.Prices.Sales.2008
</th>
<th style="text-align:right;">
House.Prices.Sales.2009
</th>
<th style="text-align:right;">
House.Prices.Sales.2010
</th>
<th style="text-align:right;">
House.Prices.Sales.2011…129
</th>
<th style="text-align:right;">
House.Prices.Sales.2011…130
</th>
<th style="text-align:right;">
House.Prices.Sales.2013.p.
</th>
<th style="text-align:right;">
Qualifications..2011.Census..No.qualifications
</th>
<th style="text-align:right;">
Qualifications..2011.Census..Highest.level.of.qualification..Level.1.qualifications
</th>
<th style="text-align:right;">
Qualifications..2011.Census..Highest.level.of.qualification..Level.2.qualifications
</th>
<th style="text-align:right;">
Qualifications..2011.Census..Highest.level.of.qualification..Apprenticeship
</th>
<th style="text-align:right;">
Qualifications..2011.Census..Highest.level.of.qualification..Level.3.qualifications
</th>
<th style="text-align:right;">
Qualifications..2011.Census..Highest.level.of.qualification..Level.4.qualifications.and.above
</th>
<th style="text-align:right;">
Qualifications..2011.Census..Highest.level.of.qualification..Other.qualifications
</th>
<th style="text-align:right;">
Qualifications..2011.Census..Schoolchildren.and.full.time.students..Age.18.and.over
</th>
<th style="text-align:right;">
Economic.Activity..2011.Census..Economically.active..Total
</th>
<th style="text-align:right;">
Economic.Activity..2011.Census..Economically.active..Unemployed
</th>
<th style="text-align:right;">
Economic.Activity..2011.Census..Economically.inactive..Total
</th>
<th style="text-align:right;">
Economic.Activity..2011.Census..Economically.active..
</th>
<th style="text-align:right;">
Economic.Activity..2011.Census..Unemployment.Rate
</th>
<th style="text-align:right;">
Economic.Activity..2011.Census..Economically.inactive..
</th>
<th style="text-align:right;">
Adults.in.Employment..2011.Census..No.adults.in.employment.in.household..With.dependent.children
</th>
<th style="text-align:right;">
Adults.in.Employment..2011.Census….of.households.with.no.adults.in.employment..With.dependent.children
</th>
<th style="text-align:right;">
Household.Income.Estimates..2011.12..Total.Mean.Annual.Household.Income….
</th>
<th style="text-align:right;">
Household.Income.Estimates..2011.12..Total.Median.Annual.Household.Income….
</th>
<th style="text-align:right;">
Income.Deprivation..2010….living.in.income.deprived.households.reliant.on.means.tested.benefit
</th>
<th style="text-align:right;">
Income.Deprivation..2010….of.people.aged.over.60.who.live.in.pension.credit.households
</th>
<th style="text-align:right;">
Lone.Parents..2011.Census..All.lone.parent.housholds.with.dependent.children
</th>
<th style="text-align:right;">
Lone.Parents..2011.Census..Lone.parents.not.in.employment
</th>
<th style="text-align:right;">
Lone.Parents..2011.Census..Lone.parent.not.in.employment..
</th>
<th style="text-align:right;">
Central.Heating..2011.Census..Households.with.central.heating….
</th>
<th style="text-align:right;">
Health..2011.Census..Day.to.day.activities.limited.a.lot
</th>
<th style="text-align:right;">
Health..2011.Census..Day.to.day.activities.limited.a.little
</th>
<th style="text-align:right;">
Health..2011.Census..Day.to.day.activities.not.limited
</th>
<th style="text-align:right;">
Health..2011.Census..Day.to.day.activities.limited.a.lot….
</th>
<th style="text-align:right;">
Health..2011.Census..Day.to.day.activities.limited.a.little….
</th>
<th style="text-align:right;">
Health..2011.Census..Day.to.day.activities.not.limited….
</th>
<th style="text-align:right;">
Health..2011.Census..Very.good.health
</th>
<th style="text-align:right;">
Health..2011.Census..Good.health
</th>
<th style="text-align:right;">
Health..2011.Census..Fair.health
</th>
<th style="text-align:right;">
Health..2011.Census..Bad.health
</th>
<th style="text-align:right;">
Health..2011.Census..Very.bad.health
</th>
<th style="text-align:right;">
Health..2011.Census..Very.good.health….
</th>
<th style="text-align:right;">
Health..2011.Census..Good.health….
</th>
<th style="text-align:right;">
Health..2011.Census..Fair.health….
</th>
<th style="text-align:right;">
Health..2011.Census..Bad.health….
</th>
<th style="text-align:right;">
Health..2011.Census..Very.bad.health….
</th>
<th style="text-align:right;">
Low.Birth.Weight.Births..2007.2011..Low.Birth.Weight.Births….
</th>
<th style="text-align:right;">
Low.Birth.Weight.Births..2007.2011..LCL…Lower.confidence.limit
</th>
<th style="text-align:right;">
Low.Birth.Weight.Births..2007.2011..UCL…Upper.confidence.limit
</th>
<th style="text-align:right;">
Obesity.Percentage.of.the.population.aged.16..with.a.BMI.of.30…modelled.estimate..2006.2008
</th>
<th style="text-align:right;">
Incidence.of.Cancer.All
</th>
<th style="text-align:right;">
Incidence.of.Cancer.Breast.Cancer
</th>
<th style="text-align:right;">
Life.Expectancy.Males
</th>
<th style="text-align:right;">
Life.Expectancy.Females
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..No.cars.or.vans.in.household
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..1.car.or.van.in.household
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..2.cars.or.vans.in.household
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..3.cars.or.vans.in.household
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..4.or.more.cars.or.vans.in.household
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..Sum.of.all.cars.or.vans.in.the.area
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..No.cars.or.vans.in.household….
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..1.car.or.van.in.household….
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..2.cars.or.vans.in.household….
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..3.cars.or.vans.in.household….
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..4.or.more.cars.or.vans.in.household….
</th>
<th style="text-align:right;">
Car.or.van.availability..2011.Census..Cars.per.household
</th>
<th style="text-align:right;">
Road.Casualties.2010.Fatal
</th>
<th style="text-align:right;">
Road.Casualties.2010.Serious
</th>
<th style="text-align:right;">
Road.Casualties.2010.Slight
</th>
<th style="text-align:right;">
Road.Casualties.2010.2010.Total
</th>
<th style="text-align:right;">
Road.Casualties.2011.Fatal
</th>
<th style="text-align:right;">
Road.Casualties.2011.Serious
</th>
<th style="text-align:right;">
Road.Casualties.2011.Slight
</th>
<th style="text-align:right;">
Road.Casualties.2011.2011.Total
</th>
<th style="text-align:right;">
Road.Casualties.2012.Fatal
</th>
<th style="text-align:right;">
Road.Casualties.2012.Serious
</th>
<th style="text-align:right;">
Road.Casualties.2012.Slight
</th>
<th style="text-align:right;">
Road.Casualties.2012.2012.Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
7375
</td>
<td style="text-align:right;">
7187
</td>
<td style="text-align:right;">
188
</td>
<td style="text-align:right;">
25.5
</td>
<td style="text-align:right;">
4385
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
0.0601204
</td>
<td style="text-align:right;">
-0.1219796
</td>
<td style="text-align:right;">
7375
</td>
<td style="text-align:right;">
620
</td>
<td style="text-align:right;">
1665
</td>
<td style="text-align:right;">
2045
</td>
<td style="text-align:right;">
2010
</td>
<td style="text-align:right;">
1035
</td>
<td style="text-align:right;">
5720
</td>
<td style="text-align:right;">
7280
</td>
<td style="text-align:right;">
7115
</td>
<td style="text-align:right;">
7118
</td>
<td style="text-align:right;">
7131
</td>
<td style="text-align:right;">
7254
</td>
<td style="text-align:right;">
7607
</td>
<td style="text-align:right;">
7429
</td>
<td style="text-align:right;">
7472
</td>
<td style="text-align:right;">
7338
</td>
<td style="text-align:right;">
7412
</td>
<td style="text-align:right;">
7604
</td>
<td style="text-align:right;">
8.771699
</td>
<td style="text-align:right;">
76.68332
</td>
<td style="text-align:right;">
14.54498
</td>
<td style="text-align:right;">
297
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:right;">
165
</td>
<td style="text-align:right;">
231
</td>
<td style="text-align:right;">
495
</td>
<td style="text-align:right;">
949
</td>
<td style="text-align:right;">
826
</td>
<td style="text-align:right;">
622
</td>
<td style="text-align:right;">
663
</td>
<td style="text-align:right;">
598
</td>
<td style="text-align:right;">
504
</td>
<td style="text-align:right;">
470
</td>
<td style="text-align:right;">
473
</td>
<td style="text-align:right;">
363
</td>
<td style="text-align:right;">
263
</td>
<td style="text-align:right;">
192
</td>
<td style="text-align:right;">
155
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
4385
</td>
<td style="text-align:right;">
306
</td>
<td style="text-align:right;">
927
</td>
<td style="text-align:right;">
153
</td>
<td style="text-align:right;">
2472
</td>
<td style="text-align:right;">
527
</td>
<td style="text-align:right;">
6.978335
</td>
<td style="text-align:right;">
21.14025
</td>
<td style="text-align:right;">
3.489168
</td>
<td style="text-align:right;">
56.37400
</td>
<td style="text-align:right;">
12.01824
</td>
<td style="text-align:right;">
5799
</td>
<td style="text-align:right;">
289
</td>
<td style="text-align:right;">
940
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
154
</td>
<td style="text-align:right;">
1576
</td>
<td style="text-align:right;">
78.63051
</td>
<td style="text-align:right;">
3.918644
</td>
<td style="text-align:right;">
12.745763
</td>
<td style="text-align:right;">
2.616949
</td>
<td style="text-align:right;">
2.0881356
</td>
<td style="text-align:right;">
21.36949
</td>
<td style="text-align:right;">
4670
</td>
<td style="text-align:right;">
2705
</td>
<td style="text-align:right;">
63.32203
</td>
<td style="text-align:right;">
36.67797
</td>
<td style="text-align:right;">
3825
</td>
<td style="text-align:right;">
560
</td>
<td style="text-align:right;">
87.22919
</td>
<td style="text-align:right;">
12.770810
</td>
<td style="text-align:right;">
3344
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
145
</td>
<td style="text-align:right;">
166
</td>
<td style="text-align:right;">
409
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
2522
</td>
<td style="text-align:right;">
651
</td>
<td style="text-align:right;">
45.3
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
2.3
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
34.2
</td>
<td style="text-align:right;">
8.8
</td>
<td style="text-align:right;">
1093
</td>
<td style="text-align:right;">
762
</td>
<td style="text-align:right;">
725
</td>
<td style="text-align:right;">
1573
</td>
<td style="text-align:right;">
24.9
</td>
<td style="text-align:right;">
17.4
</td>
<td style="text-align:right;">
16.5
</td>
<td style="text-align:right;">
35.9
</td>
<td style="text-align:right;">
4385
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
5416
</td>
<td style="text-align:right;">
79.3
</td>
<td style="text-align:right;">
20.7
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:right;">
98.0
</td>
<td style="text-align:right;">
289.78
</td>
<td style="text-align:right;">
26.24060
</td>
<td style="text-align:right;">
310000
</td>
<td style="text-align:right;">
341000
</td>
<td style="text-align:right;">
412500
</td>
<td style="text-align:right;">
365000.0
</td>
<td style="text-align:right;">
410000
</td>
<td style="text-align:right;">
450000
</td>
<td style="text-align:right;">
465000
</td>
<td style="text-align:right;">
485000
</td>
<td style="text-align:right;">
595000
</td>
<td style="text-align:right;">
303
</td>
<td style="text-align:right;">
295
</td>
<td style="text-align:right;">
268
</td>
<td style="text-align:right;">
141
</td>
<td style="text-align:right;">
157
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
256
</td>
<td style="text-align:right;">
195
</td>
<td style="text-align:right;">
353
</td>
<td style="text-align:right;">
454
</td>
<td style="text-align:right;">
291
</td>
<td style="text-align:right;">
445
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
484
</td>
<td style="text-align:right;">
4618
</td>
<td style="text-align:right;">
416
</td>
<td style="text-align:right;">
422
</td>
<td style="text-align:right;">
4972
</td>
<td style="text-align:right;">
187
</td>
<td style="text-align:right;">
1335
</td>
<td style="text-align:right;">
78.83304
</td>
<td style="text-align:right;">
3.761062
</td>
<td style="text-align:right;">
21.16696
</td>
<td style="text-align:right;">
38
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
59728.48
</td>
<td style="text-align:right;">
46788.30
</td>
<td style="text-align:right;">
5.2
</td>
<td style="text-align:right;">
9.9
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
24.2
</td>
<td style="text-align:right;">
95.7
</td>
<td style="text-align:right;">
328
</td>
<td style="text-align:right;">
520
</td>
<td style="text-align:right;">
6527
</td>
<td style="text-align:right;">
4.447458
</td>
<td style="text-align:right;">
7.050847
</td>
<td style="text-align:right;">
88.50169
</td>
<td style="text-align:right;">
4112
</td>
<td style="text-align:right;">
2374
</td>
<td style="text-align:right;">
643
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:right;">
56
</td>
<td style="text-align:right;">
55.75593
</td>
<td style="text-align:right;">
32.18983
</td>
<td style="text-align:right;">
8.718644
</td>
<td style="text-align:right;">
2.576271
</td>
<td style="text-align:right;">
0.759322
</td>
<td style="text-align:right;">
4.2
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
7.1
</td>
<td style="text-align:right;">
13.7
</td>
<td style="text-align:right;">
76.8
</td>
<td style="text-align:right;">
90.9
</td>
<td style="text-align:right;">
83.6
</td>
<td style="text-align:right;">
88.4
</td>
<td style="text-align:right;">
3043
</td>
<td style="text-align:right;">
1100
</td>
<td style="text-align:right;">
173
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
1692
</td>
<td style="text-align:right;">
69.4
</td>
<td style="text-align:right;">
25.1
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.3858609
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
334
</td>
<td style="text-align:right;">
374
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
359
</td>
<td style="text-align:right;">
405
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
361
</td>
<td style="text-align:right;">
414
</td>
</tr>
<tr>
<td style="text-align:right;">
6775
</td>
<td style="text-align:right;">
6724
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
31.3
</td>
<td style="text-align:right;">
2713
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
136
</td>
<td style="text-align:right;">
-0.0223392
</td>
<td style="text-align:right;">
0.3489691
</td>
<td style="text-align:right;">
6775
</td>
<td style="text-align:right;">
1751
</td>
<td style="text-align:right;">
1277
</td>
<td style="text-align:right;">
1388
</td>
<td style="text-align:right;">
1258
</td>
<td style="text-align:right;">
1101
</td>
<td style="text-align:right;">
3923
</td>
<td style="text-align:right;">
6333
</td>
<td style="text-align:right;">
6312
</td>
<td style="text-align:right;">
6329
</td>
<td style="text-align:right;">
6341
</td>
<td style="text-align:right;">
6330
</td>
<td style="text-align:right;">
6323
</td>
<td style="text-align:right;">
6369
</td>
<td style="text-align:right;">
6570
</td>
<td style="text-align:right;">
6636
</td>
<td style="text-align:right;">
6783
</td>
<td style="text-align:right;">
6853
</td>
<td style="text-align:right;">
25.113089
</td>
<td style="text-align:right;">
58.73340
</td>
<td style="text-align:right;">
16.15351
</td>
<td style="text-align:right;">
652
</td>
<td style="text-align:right;">
607
</td>
<td style="text-align:right;">
462
</td>
<td style="text-align:right;">
458
</td>
<td style="text-align:right;">
399
</td>
<td style="text-align:right;">
468
</td>
<td style="text-align:right;">
466
</td>
<td style="text-align:right;">
466
</td>
<td style="text-align:right;">
461
</td>
<td style="text-align:right;">
450
</td>
<td style="text-align:right;">
347
</td>
<td style="text-align:right;">
254
</td>
<td style="text-align:right;">
256
</td>
<td style="text-align:right;">
254
</td>
<td style="text-align:right;">
206
</td>
<td style="text-align:right;">
215
</td>
<td style="text-align:right;">
201
</td>
<td style="text-align:right;">
137
</td>
<td style="text-align:right;">
94
</td>
<td style="text-align:right;">
2713
</td>
<td style="text-align:right;">
491
</td>
<td style="text-align:right;">
366
</td>
<td style="text-align:right;">
597
</td>
<td style="text-align:right;">
814
</td>
<td style="text-align:right;">
445
</td>
<td style="text-align:right;">
18.098046
</td>
<td style="text-align:right;">
13.49060
</td>
<td style="text-align:right;">
22.005160
</td>
<td style="text-align:right;">
30.00369
</td>
<td style="text-align:right;">
16.40251
</td>
<td style="text-align:right;">
4403
</td>
<td style="text-align:right;">
330
</td>
<td style="text-align:right;">
820
</td>
<td style="text-align:right;">
1133
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
2372
</td>
<td style="text-align:right;">
64.98893
</td>
<td style="text-align:right;">
4.870849
</td>
<td style="text-align:right;">
12.103321
</td>
<td style="text-align:right;">
16.723247
</td>
<td style="text-align:right;">
1.3136531
</td>
<td style="text-align:right;">
35.01107
</td>
<td style="text-align:right;">
5159
</td>
<td style="text-align:right;">
1616
</td>
<td style="text-align:right;">
76.14760
</td>
<td style="text-align:right;">
23.85240
</td>
<td style="text-align:right;">
2459
</td>
<td style="text-align:right;">
254
</td>
<td style="text-align:right;">
90.63767
</td>
<td style="text-align:right;">
9.362329
</td>
<td style="text-align:right;">
3975
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
174
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
591
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
1417
</td>
<td style="text-align:right;">
434
</td>
<td style="text-align:right;">
58.7
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
8.7
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
20.9
</td>
<td style="text-align:right;">
6.4
</td>
<td style="text-align:right;">
596
</td>
<td style="text-align:right;">
663
</td>
<td style="text-align:right;">
1133
</td>
<td style="text-align:right;">
269
</td>
<td style="text-align:right;">
22.0
</td>
<td style="text-align:right;">
24.4
</td>
<td style="text-align:right;">
41.8
</td>
<td style="text-align:right;">
9.9
</td>
<td style="text-align:right;">
2713
</td>
<td style="text-align:right;">
82
</td>
<td style="text-align:right;">
99
</td>
<td style="text-align:right;">
744
</td>
<td style="text-align:right;">
865
</td>
<td style="text-align:right;">
1087
</td>
<td style="text-align:right;">
97.1
</td>
<td style="text-align:right;">
2.9
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
26.6
</td>
<td style="text-align:right;">
30.9
</td>
<td style="text-align:right;">
38.9
</td>
<td style="text-align:right;">
216.15
</td>
<td style="text-align:right;">
31.70483
</td>
<td style="text-align:right;">
168500
</td>
<td style="text-align:right;">
180000
</td>
<td style="text-align:right;">
187500
</td>
<td style="text-align:right;">
197500.0
</td>
<td style="text-align:right;">
190000
</td>
<td style="text-align:right;">
173000
</td>
<td style="text-align:right;">
185000
</td>
<td style="text-align:right;">
182250
</td>
<td style="text-align:right;">
190000
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
1623
</td>
<td style="text-align:right;">
789
</td>
<td style="text-align:right;">
706
</td>
<td style="text-align:right;">
118
</td>
<td style="text-align:right;">
479
</td>
<td style="text-align:right;">
914
</td>
<td style="text-align:right;">
395
</td>
<td style="text-align:right;">
272
</td>
<td style="text-align:right;">
2847
</td>
<td style="text-align:right;">
335
</td>
<td style="text-align:right;">
1513
</td>
<td style="text-align:right;">
65.29817
</td>
<td style="text-align:right;">
11.766772
</td>
<td style="text-align:right;">
34.70183
</td>
<td style="text-align:right;">
319
</td>
<td style="text-align:right;">
11.8
</td>
<td style="text-align:right;">
31788.19
</td>
<td style="text-align:right;">
27058.70
</td>
<td style="text-align:right;">
31.0
</td>
<td style="text-align:right;">
27.5
</td>
<td style="text-align:right;">
445
</td>
<td style="text-align:right;">
249
</td>
<td style="text-align:right;">
56.0
</td>
<td style="text-align:right;">
97.5
</td>
<td style="text-align:right;">
707
</td>
<td style="text-align:right;">
678
</td>
<td style="text-align:right;">
5390
</td>
<td style="text-align:right;">
10.435424
</td>
<td style="text-align:right;">
10.007380
</td>
<td style="text-align:right;">
79.55720
</td>
<td style="text-align:right;">
2933
</td>
<td style="text-align:right;">
2288
</td>
<td style="text-align:right;">
1059
</td>
<td style="text-align:right;">
389
</td>
<td style="text-align:right;">
106
</td>
<td style="text-align:right;">
43.29151
</td>
<td style="text-align:right;">
33.77122
</td>
<td style="text-align:right;">
15.630996
</td>
<td style="text-align:right;">
5.741697
</td>
<td style="text-align:right;">
1.564576
</td>
<td style="text-align:right;">
10.6
</td>
<td style="text-align:right;">
8.4
</td>
<td style="text-align:right;">
13.3
</td>
<td style="text-align:right;">
29.8
</td>
<td style="text-align:right;">
100.7
</td>
<td style="text-align:right;">
93.3
</td>
<td style="text-align:right;">
78.0
</td>
<td style="text-align:right;">
80.1
</td>
<td style="text-align:right;">
1020
</td>
<td style="text-align:right;">
1186
</td>
<td style="text-align:right;">
424
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
2305
</td>
<td style="text-align:right;">
37.6
</td>
<td style="text-align:right;">
43.7
</td>
<td style="text-align:right;">
15.6
</td>
<td style="text-align:right;">
2.4
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.8496130
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:right;">
10045
</td>
<td style="text-align:right;">
10033
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
46.9
</td>
<td style="text-align:right;">
3834
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
239
</td>
<td style="text-align:right;">
0.0526430
</td>
<td style="text-align:right;">
-0.0218569
</td>
<td style="text-align:right;">
10045
</td>
<td style="text-align:right;">
2247
</td>
<td style="text-align:right;">
1959
</td>
<td style="text-align:right;">
2300
</td>
<td style="text-align:right;">
2259
</td>
<td style="text-align:right;">
1280
</td>
<td style="text-align:right;">
6518
</td>
<td style="text-align:right;">
9236
</td>
<td style="text-align:right;">
9252
</td>
<td style="text-align:right;">
9155
</td>
<td style="text-align:right;">
9072
</td>
<td style="text-align:right;">
9144
</td>
<td style="text-align:right;">
9227
</td>
<td style="text-align:right;">
9564
</td>
<td style="text-align:right;">
9914
</td>
<td style="text-align:right;">
10042
</td>
<td style="text-align:right;">
10088
</td>
<td style="text-align:right;">
10218
</td>
<td style="text-align:right;">
21.442552
</td>
<td style="text-align:right;">
65.81523
</td>
<td style="text-align:right;">
12.74222
</td>
<td style="text-align:right;">
849
</td>
<td style="text-align:right;">
739
</td>
<td style="text-align:right;">
603
</td>
<td style="text-align:right;">
615
</td>
<td style="text-align:right;">
686
</td>
<td style="text-align:right;">
804
</td>
<td style="text-align:right;">
818
</td>
<td style="text-align:right;">
743
</td>
<td style="text-align:right;">
770
</td>
<td style="text-align:right;">
713
</td>
<td style="text-align:right;">
624
</td>
<td style="text-align:right;">
526
</td>
<td style="text-align:right;">
426
</td>
<td style="text-align:right;">
372
</td>
<td style="text-align:right;">
277
</td>
<td style="text-align:right;">
258
</td>
<td style="text-align:right;">
198
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
3834
</td>
<td style="text-align:right;">
776
</td>
<td style="text-align:right;">
730
</td>
<td style="text-align:right;">
589
</td>
<td style="text-align:right;">
1039
</td>
<td style="text-align:right;">
700
</td>
<td style="text-align:right;">
20.239958
</td>
<td style="text-align:right;">
19.04017
</td>
<td style="text-align:right;">
15.362546
</td>
<td style="text-align:right;">
27.09963
</td>
<td style="text-align:right;">
18.25769
</td>
<td style="text-align:right;">
5486
</td>
<td style="text-align:right;">
433
</td>
<td style="text-align:right;">
2284
</td>
<td style="text-align:right;">
1618
</td>
<td style="text-align:right;">
224
</td>
<td style="text-align:right;">
4559
</td>
<td style="text-align:right;">
54.61424
</td>
<td style="text-align:right;">
4.310602
</td>
<td style="text-align:right;">
22.737680
</td>
<td style="text-align:right;">
16.107516
</td>
<td style="text-align:right;">
2.2299652
</td>
<td style="text-align:right;">
45.38576
</td>
<td style="text-align:right;">
7193
</td>
<td style="text-align:right;">
2852
</td>
<td style="text-align:right;">
71.60777
</td>
<td style="text-align:right;">
28.39223
</td>
<td style="text-align:right;">
3431
</td>
<td style="text-align:right;">
403
</td>
<td style="text-align:right;">
89.48878
</td>
<td style="text-align:right;">
10.511215
</td>
<td style="text-align:right;">
5475
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
476
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
1351
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
1514
</td>
<td style="text-align:right;">
677
</td>
<td style="text-align:right;">
54.5
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
4.7
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
13.4
</td>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
15.1
</td>
<td style="text-align:right;">
6.7
</td>
<td style="text-align:right;">
1028
</td>
<td style="text-align:right;">
1473
</td>
<td style="text-align:right;">
446
</td>
<td style="text-align:right;">
830
</td>
<td style="text-align:right;">
26.8
</td>
<td style="text-align:right;">
38.4
</td>
<td style="text-align:right;">
11.6
</td>
<td style="text-align:right;">
21.6
</td>
<td style="text-align:right;">
3834
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
161
</td>
<td style="text-align:right;">
936
</td>
<td style="text-align:right;">
1591
</td>
<td style="text-align:right;">
1256
</td>
<td style="text-align:right;">
97.2
</td>
<td style="text-align:right;">
2.8
</td>
<td style="text-align:right;">
4.1
</td>
<td style="text-align:right;">
23.7
</td>
<td style="text-align:right;">
40.3
</td>
<td style="text-align:right;">
31.8
</td>
<td style="text-align:right;">
214.15
</td>
<td style="text-align:right;">
47.71422
</td>
<td style="text-align:right;">
185000
</td>
<td style="text-align:right;">
197750
</td>
<td style="text-align:right;">
220000
</td>
<td style="text-align:right;">
225000.0
</td>
<td style="text-align:right;">
188500
</td>
<td style="text-align:right;">
215000
</td>
<td style="text-align:right;">
200000
</td>
<td style="text-align:right;">
205500
</td>
<td style="text-align:right;">
237000
</td>
<td style="text-align:right;">
203
</td>
<td style="text-align:right;">
232
</td>
<td style="text-align:right;">
295
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
114
</td>
<td style="text-align:right;">
98
</td>
<td style="text-align:right;">
1778
</td>
<td style="text-align:right;">
1210
</td>
<td style="text-align:right;">
1236
</td>
<td style="text-align:right;">
169
</td>
<td style="text-align:right;">
847
</td>
<td style="text-align:right;">
1829
</td>
<td style="text-align:right;">
729
</td>
<td style="text-align:right;">
442
</td>
<td style="text-align:right;">
5038
</td>
<td style="text-align:right;">
459
</td>
<td style="text-align:right;">
2111
</td>
<td style="text-align:right;">
70.47139
</td>
<td style="text-align:right;">
9.110758
</td>
<td style="text-align:right;">
29.52861
</td>
<td style="text-align:right;">
268
</td>
<td style="text-align:right;">
7.0
</td>
<td style="text-align:right;">
43356.93
</td>
<td style="text-align:right;">
36834.53
</td>
<td style="text-align:right;">
18.9
</td>
<td style="text-align:right;">
21.2
</td>
<td style="text-align:right;">
408
</td>
<td style="text-align:right;">
199
</td>
<td style="text-align:right;">
48.8
</td>
<td style="text-align:right;">
96.5
</td>
<td style="text-align:right;">
792
</td>
<td style="text-align:right;">
810
</td>
<td style="text-align:right;">
8443
</td>
<td style="text-align:right;">
7.884520
</td>
<td style="text-align:right;">
8.063713
</td>
<td style="text-align:right;">
84.05177
</td>
<td style="text-align:right;">
4566
</td>
<td style="text-align:right;">
3633
</td>
<td style="text-align:right;">
1325
</td>
<td style="text-align:right;">
406
</td>
<td style="text-align:right;">
115
</td>
<td style="text-align:right;">
45.45545
</td>
<td style="text-align:right;">
36.16725
</td>
<td style="text-align:right;">
13.190642
</td>
<td style="text-align:right;">
4.041812
</td>
<td style="text-align:right;">
1.144848
</td>
<td style="text-align:right;">
7.8
</td>
<td style="text-align:right;">
6.1
</td>
<td style="text-align:right;">
9.9
</td>
<td style="text-align:right;">
28.3
</td>
<td style="text-align:right;">
91.4
</td>
<td style="text-align:right;">
107.3
</td>
<td style="text-align:right;">
80.2
</td>
<td style="text-align:right;">
85.6
</td>
<td style="text-align:right;">
1196
</td>
<td style="text-align:right;">
1753
</td>
<td style="text-align:right;">
691
</td>
<td style="text-align:right;">
155
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
3766
</td>
<td style="text-align:right;">
31.2
</td>
<td style="text-align:right;">
45.7
</td>
<td style="text-align:right;">
18.0
</td>
<td style="text-align:right;">
4.0
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0.9822640
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
50
</td>
</tr>
<tr>
<td style="text-align:right;">
6182
</td>
<td style="text-align:right;">
5937
</td>
<td style="text-align:right;">
245
</td>
<td style="text-align:right;">
24.8
</td>
<td style="text-align:right;">
2318
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
0.0257532
</td>
<td style="text-align:right;">
0.1381492
</td>
<td style="text-align:right;">
6182
</td>
<td style="text-align:right;">
1196
</td>
<td style="text-align:right;">
1277
</td>
<td style="text-align:right;">
1154
</td>
<td style="text-align:right;">
1543
</td>
<td style="text-align:right;">
1012
</td>
<td style="text-align:right;">
3974
</td>
<td style="text-align:right;">
6208
</td>
<td style="text-align:right;">
6159
</td>
<td style="text-align:right;">
6163
</td>
<td style="text-align:right;">
6152
</td>
<td style="text-align:right;">
5997
</td>
<td style="text-align:right;">
6005
</td>
<td style="text-align:right;">
6084
</td>
<td style="text-align:right;">
6268
</td>
<td style="text-align:right;">
6237
</td>
<td style="text-align:right;">
6185
</td>
<td style="text-align:right;">
6308
</td>
<td style="text-align:right;">
18.246671
</td>
<td style="text-align:right;">
65.82118
</td>
<td style="text-align:right;">
15.93215
</td>
<td style="text-align:right;">
409
</td>
<td style="text-align:right;">
364
</td>
<td style="text-align:right;">
378
</td>
<td style="text-align:right;">
516
</td>
<td style="text-align:right;">
472
</td>
<td style="text-align:right;">
435
</td>
<td style="text-align:right;">
363
</td>
<td style="text-align:right;">
399
</td>
<td style="text-align:right;">
388
</td>
<td style="text-align:right;">
463
</td>
<td style="text-align:right;">
459
</td>
<td style="text-align:right;">
354
</td>
<td style="text-align:right;">
303
</td>
<td style="text-align:right;">
226
</td>
<td style="text-align:right;">
238
</td>
<td style="text-align:right;">
194
</td>
<td style="text-align:right;">
172
</td>
<td style="text-align:right;">
106
</td>
<td style="text-align:right;">
69
</td>
<td style="text-align:right;">
2318
</td>
<td style="text-align:right;">
508
</td>
<td style="text-align:right;">
524
</td>
<td style="text-align:right;">
322
</td>
<td style="text-align:right;">
609
</td>
<td style="text-align:right;">
355
</td>
<td style="text-align:right;">
21.915444
</td>
<td style="text-align:right;">
22.60569
</td>
<td style="text-align:right;">
13.891286
</td>
<td style="text-align:right;">
26.27265
</td>
<td style="text-align:right;">
15.31493
</td>
<td style="text-align:right;">
5006
</td>
<td style="text-align:right;">
186
</td>
<td style="text-align:right;">
313
</td>
<td style="text-align:right;">
649
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
1176
</td>
<td style="text-align:right;">
80.97703
</td>
<td style="text-align:right;">
3.008735
</td>
<td style="text-align:right;">
5.063086
</td>
<td style="text-align:right;">
10.498221
</td>
<td style="text-align:right;">
0.4529279
</td>
<td style="text-align:right;">
19.02297
</td>
<td style="text-align:right;">
5292
</td>
<td style="text-align:right;">
890
</td>
<td style="text-align:right;">
85.60336
</td>
<td style="text-align:right;">
14.39664
</td>
<td style="text-align:right;">
2214
</td>
<td style="text-align:right;">
104
</td>
<td style="text-align:right;">
95.51337
</td>
<td style="text-align:right;">
4.486626
</td>
<td style="text-align:right;">
4070
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
234
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
1373
</td>
<td style="text-align:right;">
399
</td>
<td style="text-align:right;">
65.8
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
3.8
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
22.2
</td>
<td style="text-align:right;">
6.5
</td>
<td style="text-align:right;">
718
</td>
<td style="text-align:right;">
969
</td>
<td style="text-align:right;">
371
</td>
<td style="text-align:right;">
228
</td>
<td style="text-align:right;">
31.0
</td>
<td style="text-align:right;">
41.8
</td>
<td style="text-align:right;">
16.0
</td>
<td style="text-align:right;">
9.8
</td>
<td style="text-align:right;">
2318
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
858
</td>
<td style="text-align:right;">
1094
</td>
<td style="text-align:right;">
314
</td>
<td style="text-align:right;">
98.1
</td>
<td style="text-align:right;">
1.9
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
36.3
</td>
<td style="text-align:right;">
46.3
</td>
<td style="text-align:right;">
13.2
</td>
<td style="text-align:right;">
249.28
</td>
<td style="text-align:right;">
25.30488
</td>
<td style="text-align:right;">
181000
</td>
<td style="text-align:right;">
182000
</td>
<td style="text-align:right;">
212000
</td>
<td style="text-align:right;">
208997.5
</td>
<td style="text-align:right;">
182000
</td>
<td style="text-align:right;">
192000
</td>
<td style="text-align:right;">
193750
</td>
<td style="text-align:right;">
205000
</td>
<td style="text-align:right;">
210000
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
131
</td>
<td style="text-align:right;">
125
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
54
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
1502
</td>
<td style="text-align:right;">
800
</td>
<td style="text-align:right;">
825
</td>
<td style="text-align:right;">
163
</td>
<td style="text-align:right;">
539
</td>
<td style="text-align:right;">
891
</td>
<td style="text-align:right;">
266
</td>
<td style="text-align:right;">
215
</td>
<td style="text-align:right;">
3187
</td>
<td style="text-align:right;">
296
</td>
<td style="text-align:right;">
1251
</td>
<td style="text-align:right;">
71.81163
</td>
<td style="text-align:right;">
9.287731
</td>
<td style="text-align:right;">
28.18837
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
5.3
</td>
<td style="text-align:right;">
46701.44
</td>
<td style="text-align:right;">
39668.21
</td>
<td style="text-align:right;">
15.8
</td>
<td style="text-align:right;">
21.3
</td>
<td style="text-align:right;">
206
</td>
<td style="text-align:right;">
87
</td>
<td style="text-align:right;">
42.2
</td>
<td style="text-align:right;">
98.5
</td>
<td style="text-align:right;">
586
</td>
<td style="text-align:right;">
547
</td>
<td style="text-align:right;">
5049
</td>
<td style="text-align:right;">
9.479133
</td>
<td style="text-align:right;">
8.848269
</td>
<td style="text-align:right;">
81.67260
</td>
<td style="text-align:right;">
2857
</td>
<td style="text-align:right;">
2086
</td>
<td style="text-align:right;">
861
</td>
<td style="text-align:right;">
302
</td>
<td style="text-align:right;">
76
</td>
<td style="text-align:right;">
46.21482
</td>
<td style="text-align:right;">
33.74313
</td>
<td style="text-align:right;">
13.927532
</td>
<td style="text-align:right;">
4.885150
</td>
<td style="text-align:right;">
1.229376
</td>
<td style="text-align:right;">
5.8
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
8.6
</td>
<td style="text-align:right;">
26.9
</td>
<td style="text-align:right;">
96.1
</td>
<td style="text-align:right;">
95.5
</td>
<td style="text-align:right;">
77.9
</td>
<td style="text-align:right;">
80.7
</td>
<td style="text-align:right;">
556
</td>
<td style="text-align:right;">
1085
</td>
<td style="text-align:right;">
515
</td>
<td style="text-align:right;">
128
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
2650
</td>
<td style="text-align:right;">
24.0
</td>
<td style="text-align:right;">
46.8
</td>
<td style="text-align:right;">
22.2
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
1.1432269
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:right;">
8562
</td>
<td style="text-align:right;">
8562
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
72.1
</td>
<td style="text-align:right;">
3183
</td>
<td style="text-align:right;">
2.7
</td>
<td style="text-align:right;">
87
</td>
<td style="text-align:right;">
161
</td>
<td style="text-align:right;">
-0.1490559
</td>
<td style="text-align:right;">
-0.0107732
</td>
<td style="text-align:right;">
8562
</td>
<td style="text-align:right;">
2200
</td>
<td style="text-align:right;">
1592
</td>
<td style="text-align:right;">
1995
</td>
<td style="text-align:right;">
1829
</td>
<td style="text-align:right;">
946
</td>
<td style="text-align:right;">
5416
</td>
<td style="text-align:right;">
7919
</td>
<td style="text-align:right;">
7922
</td>
<td style="text-align:right;">
7882
</td>
<td style="text-align:right;">
7887
</td>
<td style="text-align:right;">
7917
</td>
<td style="text-align:right;">
7916
</td>
<td style="text-align:right;">
8025
</td>
<td style="text-align:right;">
8317
</td>
<td style="text-align:right;">
8519
</td>
<td style="text-align:right;">
8588
</td>
<td style="text-align:right;">
8660
</td>
<td style="text-align:right;">
24.237875
</td>
<td style="text-align:right;">
64.57275
</td>
<td style="text-align:right;">
11.18938
</td>
<td style="text-align:right;">
783
</td>
<td style="text-align:right;">
692
</td>
<td style="text-align:right;">
624
</td>
<td style="text-align:right;">
657
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
608
</td>
<td style="text-align:right;">
616
</td>
<td style="text-align:right;">
643
</td>
<td style="text-align:right;">
673
</td>
<td style="text-align:right;">
656
</td>
<td style="text-align:right;">
508
</td>
<td style="text-align:right;">
386
</td>
<td style="text-align:right;">
320
</td>
<td style="text-align:right;">
321
</td>
<td style="text-align:right;">
202
</td>
<td style="text-align:right;">
194
</td>
<td style="text-align:right;">
127
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
3183
</td>
<td style="text-align:right;">
691
</td>
<td style="text-align:right;">
583
</td>
<td style="text-align:right;">
593
</td>
<td style="text-align:right;">
808
</td>
<td style="text-align:right;">
508
</td>
<td style="text-align:right;">
21.709080
</td>
<td style="text-align:right;">
18.31605
</td>
<td style="text-align:right;">
18.630223
</td>
<td style="text-align:right;">
25.38486
</td>
<td style="text-align:right;">
15.95979
</td>
<td style="text-align:right;">
5674
</td>
<td style="text-align:right;">
313
</td>
<td style="text-align:right;">
1050
</td>
<td style="text-align:right;">
1445
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
2888
</td>
<td style="text-align:right;">
66.26956
</td>
<td style="text-align:right;">
3.655688
</td>
<td style="text-align:right;">
12.263490
</td>
<td style="text-align:right;">
16.876898
</td>
<td style="text-align:right;">
0.9343611
</td>
<td style="text-align:right;">
33.73044
</td>
<td style="text-align:right;">
6425
</td>
<td style="text-align:right;">
2137
</td>
<td style="text-align:right;">
75.04088
</td>
<td style="text-align:right;">
24.95912
</td>
<td style="text-align:right;">
2868
</td>
<td style="text-align:right;">
315
</td>
<td style="text-align:right;">
90.10368
</td>
<td style="text-align:right;">
9.896324
</td>
<td style="text-align:right;">
4986
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
138
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
762
</td>
<td style="text-align:right;">
166
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
1816
</td>
<td style="text-align:right;">
618
</td>
<td style="text-align:right;">
58.2
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
8.9
</td>
<td style="text-align:right;">
1.9
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
21.2
</td>
<td style="text-align:right;">
7.2
</td>
<td style="text-align:right;">
711
</td>
<td style="text-align:right;">
1146
</td>
<td style="text-align:right;">
793
</td>
<td style="text-align:right;">
482
</td>
<td style="text-align:right;">
22.3
</td>
<td style="text-align:right;">
36.0
</td>
<td style="text-align:right;">
24.9
</td>
<td style="text-align:right;">
15.1
</td>
<td style="text-align:right;">
3183
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
136
</td>
<td style="text-align:right;">
622
</td>
<td style="text-align:right;">
2141
</td>
<td style="text-align:right;">
373
</td>
<td style="text-align:right;">
97.3
</td>
<td style="text-align:right;">
2.7
</td>
<td style="text-align:right;">
4.2
</td>
<td style="text-align:right;">
19.0
</td>
<td style="text-align:right;">
65.4
</td>
<td style="text-align:right;">
11.4
</td>
<td style="text-align:right;">
118.81
</td>
<td style="text-align:right;">
72.88949
</td>
<td style="text-align:right;">
162250
</td>
<td style="text-align:right;">
170000
</td>
<td style="text-align:right;">
185000
</td>
<td style="text-align:right;">
200000.0
</td>
<td style="text-align:right;">
166250
</td>
<td style="text-align:right;">
169000
</td>
<td style="text-align:right;">
165000
</td>
<td style="text-align:right;">
167000
</td>
<td style="text-align:right;">
180000
</td>
<td style="text-align:right;">
152
</td>
<td style="text-align:right;">
168
</td>
<td style="text-align:right;">
184
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
1839
</td>
<td style="text-align:right;">
1026
</td>
<td style="text-align:right;">
1038
</td>
<td style="text-align:right;">
160
</td>
<td style="text-align:right;">
653
</td>
<td style="text-align:right;">
1119
</td>
<td style="text-align:right;">
527
</td>
<td style="text-align:right;">
333
</td>
<td style="text-align:right;">
4052
</td>
<td style="text-align:right;">
394
</td>
<td style="text-align:right;">
1881
</td>
<td style="text-align:right;">
68.29597
</td>
<td style="text-align:right;">
9.723593
</td>
<td style="text-align:right;">
31.70403
</td>
<td style="text-align:right;">
307
</td>
<td style="text-align:right;">
9.6
</td>
<td style="text-align:right;">
34293.82
</td>
<td style="text-align:right;">
29155.68
</td>
<td style="text-align:right;">
22.9
</td>
<td style="text-align:right;">
25.3
</td>
<td style="text-align:right;">
442
</td>
<td style="text-align:right;">
231
</td>
<td style="text-align:right;">
52.3
</td>
<td style="text-align:right;">
96.3
</td>
<td style="text-align:right;">
713
</td>
<td style="text-align:right;">
722
</td>
<td style="text-align:right;">
7127
</td>
<td style="text-align:right;">
8.327494
</td>
<td style="text-align:right;">
8.432609
</td>
<td style="text-align:right;">
83.23990
</td>
<td style="text-align:right;">
4089
</td>
<td style="text-align:right;">
2811
</td>
<td style="text-align:right;">
1134
</td>
<td style="text-align:right;">
412
</td>
<td style="text-align:right;">
116
</td>
<td style="text-align:right;">
47.75753
</td>
<td style="text-align:right;">
32.83111
</td>
<td style="text-align:right;">
13.244569
</td>
<td style="text-align:right;">
4.811960
</td>
<td style="text-align:right;">
1.354824
</td>
<td style="text-align:right;">
7.7
</td>
<td style="text-align:right;">
6.0
</td>
<td style="text-align:right;">
9.9
</td>
<td style="text-align:right;">
29.7
</td>
<td style="text-align:right;">
110.0
</td>
<td style="text-align:right;">
106.1
</td>
<td style="text-align:right;">
76.8
</td>
<td style="text-align:right;">
79.9
</td>
<td style="text-align:right;">
1080
</td>
<td style="text-align:right;">
1423
</td>
<td style="text-align:right;">
551
</td>
<td style="text-align:right;">
109
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
2937
</td>
<td style="text-align:right;">
33.9
</td>
<td style="text-align:right;">
44.7
</td>
<td style="text-align:right;">
17.3
</td>
<td style="text-align:right;">
3.4
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.9227144
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
25
</td>
</tr>
<tr>
<td style="text-align:right;">
8791
</td>
<td style="text-align:right;">
8672
</td>
<td style="text-align:right;">
119
</td>
<td style="text-align:right;">
50.6
</td>
<td style="text-align:right;">
3441
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
136
</td>
<td style="text-align:right;">
0.0702553
</td>
<td style="text-align:right;">
-0.1401784
</td>
<td style="text-align:right;">
8791
</td>
<td style="text-align:right;">
2388
</td>
<td style="text-align:right;">
1765
</td>
<td style="text-align:right;">
1867
</td>
<td style="text-align:right;">
1736
</td>
<td style="text-align:right;">
1035
</td>
<td style="text-align:right;">
5368
</td>
<td style="text-align:right;">
7806
</td>
<td style="text-align:right;">
7726
</td>
<td style="text-align:right;">
7771
</td>
<td style="text-align:right;">
7820
</td>
<td style="text-align:right;">
7877
</td>
<td style="text-align:right;">
7974
</td>
<td style="text-align:right;">
8145
</td>
<td style="text-align:right;">
8394
</td>
<td style="text-align:right;">
8571
</td>
<td style="text-align:right;">
8823
</td>
<td style="text-align:right;">
9076
</td>
<td style="text-align:right;">
26.586602
</td>
<td style="text-align:right;">
62.02071
</td>
<td style="text-align:right;">
11.39268
</td>
<td style="text-align:right;">
957
</td>
<td style="text-align:right;">
792
</td>
<td style="text-align:right;">
664
</td>
<td style="text-align:right;">
633
</td>
<td style="text-align:right;">
642
</td>
<td style="text-align:right;">
686
</td>
<td style="text-align:right;">
634
</td>
<td style="text-align:right;">
651
</td>
<td style="text-align:right;">
596
</td>
<td style="text-align:right;">
610
</td>
<td style="text-align:right;">
483
</td>
<td style="text-align:right;">
398
</td>
<td style="text-align:right;">
296
</td>
<td style="text-align:right;">
242
</td>
<td style="text-align:right;">
207
</td>
<td style="text-align:right;">
180
</td>
<td style="text-align:right;">
181
</td>
<td style="text-align:right;">
139
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
3441
</td>
<td style="text-align:right;">
643
</td>
<td style="text-align:right;">
489
</td>
<td style="text-align:right;">
776
</td>
<td style="text-align:right;">
1064
</td>
<td style="text-align:right;">
469
</td>
<td style="text-align:right;">
18.686428
</td>
<td style="text-align:right;">
14.21099
</td>
<td style="text-align:right;">
22.551584
</td>
<td style="text-align:right;">
30.92124
</td>
<td style="text-align:right;">
13.62976
</td>
<td style="text-align:right;">
5906
</td>
<td style="text-align:right;">
307
</td>
<td style="text-align:right;">
526
</td>
<td style="text-align:right;">
1997
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
2885
</td>
<td style="text-align:right;">
67.18235
</td>
<td style="text-align:right;">
3.492208
</td>
<td style="text-align:right;">
5.983392
</td>
<td style="text-align:right;">
22.716414
</td>
<td style="text-align:right;">
0.6256399
</td>
<td style="text-align:right;">
32.81765
</td>
<td style="text-align:right;">
6658
</td>
<td style="text-align:right;">
2133
</td>
<td style="text-align:right;">
75.73655
</td>
<td style="text-align:right;">
24.26345
</td>
<td style="text-align:right;">
3117
</td>
<td style="text-align:right;">
324
</td>
<td style="text-align:right;">
90.58413
</td>
<td style="text-align:right;">
9.415867
</td>
<td style="text-align:right;">
5409
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
577
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
2148
</td>
<td style="text-align:right;">
512
</td>
<td style="text-align:right;">
61.5
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
6.6
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
24.4
</td>
<td style="text-align:right;">
5.8
</td>
<td style="text-align:right;">
558
</td>
<td style="text-align:right;">
821
</td>
<td style="text-align:right;">
1663
</td>
<td style="text-align:right;">
333
</td>
<td style="text-align:right;">
16.2
</td>
<td style="text-align:right;">
23.9
</td>
<td style="text-align:right;">
48.3
</td>
<td style="text-align:right;">
9.7
</td>
<td style="text-align:right;">
3441
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
82
</td>
<td style="text-align:right;">
761
</td>
<td style="text-align:right;">
1219
</td>
<td style="text-align:right;">
1471
</td>
<td style="text-align:right;">
97.4
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
2.3
</td>
<td style="text-align:right;">
21.5
</td>
<td style="text-align:right;">
34.5
</td>
<td style="text-align:right;">
41.6
</td>
<td style="text-align:right;">
173.58
</td>
<td style="text-align:right;">
52.28713
</td>
<td style="text-align:right;">
165000
</td>
<td style="text-align:right;">
165000
</td>
<td style="text-align:right;">
187000
</td>
<td style="text-align:right;">
199000.0
</td>
<td style="text-align:right;">
155000
</td>
<td style="text-align:right;">
165000
</td>
<td style="text-align:right;">
153750
</td>
<td style="text-align:right;">
172500
</td>
<td style="text-align:right;">
168500
</td>
<td style="text-align:right;">
112
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:right;">
139
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
76
</td>
<td style="text-align:right;">
48
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
2057
</td>
<td style="text-align:right;">
1065
</td>
<td style="text-align:right;">
1001
</td>
<td style="text-align:right;">
166
</td>
<td style="text-align:right;">
556
</td>
<td style="text-align:right;">
1129
</td>
<td style="text-align:right;">
429
</td>
<td style="text-align:right;">
402
</td>
<td style="text-align:right;">
3905
</td>
<td style="text-align:right;">
511
</td>
<td style="text-align:right;">
1893
</td>
<td style="text-align:right;">
67.35081
</td>
<td style="text-align:right;">
13.085788
</td>
<td style="text-align:right;">
32.64919
</td>
<td style="text-align:right;">
437
</td>
<td style="text-align:right;">
12.7
</td>
<td style="text-align:right;">
29975.83
</td>
<td style="text-align:right;">
25568.60
</td>
<td style="text-align:right;">
33.3
</td>
<td style="text-align:right;">
28.9
</td>
<td style="text-align:right;">
602
</td>
<td style="text-align:right;">
345
</td>
<td style="text-align:right;">
57.3
</td>
<td style="text-align:right;">
98.1
</td>
<td style="text-align:right;">
828
</td>
<td style="text-align:right;">
752
</td>
<td style="text-align:right;">
7211
</td>
<td style="text-align:right;">
9.418724
</td>
<td style="text-align:right;">
8.554203
</td>
<td style="text-align:right;">
82.02707
</td>
<td style="text-align:right;">
3996
</td>
<td style="text-align:right;">
3015
</td>
<td style="text-align:right;">
1252
</td>
<td style="text-align:right;">
407
</td>
<td style="text-align:right;">
121
</td>
<td style="text-align:right;">
45.45558
</td>
<td style="text-align:right;">
34.29644
</td>
<td style="text-align:right;">
14.241838
</td>
<td style="text-align:right;">
4.629735
</td>
<td style="text-align:right;">
1.376408
</td>
<td style="text-align:right;">
6.8
</td>
<td style="text-align:right;">
5.3
</td>
<td style="text-align:right;">
8.8
</td>
<td style="text-align:right;">
29.0
</td>
<td style="text-align:right;">
117.0
</td>
<td style="text-align:right;">
80.1
</td>
<td style="text-align:right;">
75.7
</td>
<td style="text-align:right;">
79.5
</td>
<td style="text-align:right;">
1496
</td>
<td style="text-align:right;">
1444
</td>
<td style="text-align:right;">
419
</td>
<td style="text-align:right;">
63
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
2549
</td>
<td style="text-align:right;">
43.5
</td>
<td style="text-align:right;">
42.0
</td>
<td style="text-align:right;">
12.2
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.7407730
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
27
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<p>We start with modelling our relative rate of burglary shift. We divide our sample into a training set which we’ll use to train the model, and a test set we’ll use to verify accuracy and validity.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-50_49f4c5cba018318edfa1271efe6c8f5d">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">=</span> <span class="fu">sample.split</span>(data<span class="sc">$</span>RPDburglaryShifted, <span class="at">SplitRatio =</span> <span class="fl">0.7</span>)</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>train <span class="ot">=</span> <span class="fu">subset</span>(data, sample <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>test  <span class="ot">=</span> <span class="fu">subset</span>(data, sample <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>rf_burglary <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(</span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a>  RPDburglaryShifted <span class="sc">~</span> .,</span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">data=</span>train, </span>
<span id="cb111-11"><a href="#cb111-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">importance=</span><span class="cn">TRUE</span></span>
<span id="cb111-12"><a href="#cb111-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb111-13"><a href="#cb111-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-14"><a href="#cb111-14" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(rf_burglary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                Length Class  Mode     
call              4    -none- call     
type              1    -none- character
predicted       685    -none- numeric  
mse             500    -none- numeric  
rsq             500    -none- numeric  
oob.times       685    -none- numeric  
importance      420    -none- numeric  
importanceSD    210    -none- numeric  
localImportance   0    -none- NULL     
proximity         0    -none- NULL     
ntree             1    -none- numeric  
mtry              1    -none- numeric  
forest           11    -none- list     
coefs             0    -none- NULL     
y               685    -none- numeric  
test              0    -none- NULL     
inbag             0    -none- NULL     
terms             3    terms  call     </code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-51_1b075fa831c9c6de9ce4fb6d197a515a">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calculate our predictions and a  rmse</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>prediction <span class="ot">&lt;-</span><span class="fu">predict</span>(rf_burglary, test)</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>Metrics<span class="sc">::</span><span class="fu">rmse</span>(test<span class="sc">$</span>RPDburglaryShifted, prediction)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2054765</code></pre>
</div>
</div>
<p>While machine learning models were once considered opaque and difficult to interpret, several libraries now offer functionality to explain predictions. Here I use <a href="https://cran.r-project.org/web/packages/DALEX/index.html">DALEX</a> to do just this.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-52_693a44981eae36703852c4c45ccebe12">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>rf_explainer_burglary <span class="ot">&lt;-</span> DALEX<span class="sc">::</span><span class="fu">explain</span>(rf_burglary, <span class="at">data=</span>train, <span class="at">y=</span> train<span class="sc">$</span>RPDburglaryShifted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Preparation of a new explainer is initiated
  -&gt; model label       :  randomForest  (  default  )
  -&gt; data              :  685  rows  211  cols 
  -&gt; data              :  tibble converted into a data.frame 
  -&gt; target variable   :  685  values 
  -&gt; predict function  :  yhat.randomForest  will be used (  default  )
  -&gt; predicted values  :  No value for predict function target column. (  default  )
  -&gt; model_info        :  package randomForest , ver. 4.7.1.1 , task regression (  default  ) 
  -&gt; predicted values  :  numerical, min =  -0.5274977 , mean =  -0.07802522 , max =  0.6606534  
  -&gt; residual function :  difference between y and yhat (  default  )
  -&gt; residuals         :  numerical, min =  -0.2851655 , mean =  -0.001568916 , max =  0.6340126  
  A new explainer has been created!  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>rf_perf_burg <span class="ot">&lt;-</span> <span class="fu">model_performance</span>(rf_explainer_burglary)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>rf_perf_burg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Measures for:  regression
mse        : 0.006624875 
rmse       : 0.08139334 
r2         : 0.8398785 
mad        : 0.04636179

Residuals:
          0%          10%          20%          30%          40%          50% 
-0.285165546 -0.093485342 -0.059400738 -0.040833227 -0.024804195 -0.007423066 
         60%          70%          80%          90%         100% 
 0.009744147  0.032325289  0.054260825  0.089461048  0.634012592 </code></pre>
</div>
</div>
<p>We can see that our model significantly outperforms our best linear models: the R2 suggests that almost 85% of the variance is correctly interpreted, and our rmse (root mean squared error) is around 0.2 on our test set.</p>
<p>This model would be ill-suited to prediction or operationalising -it is a default forecast with no hyper-parameter tuning, and no consideration of error rates - but using tools like DALEX, we can identify which predictors the model identifies as most important.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-53_b9483e940f3e4a1587658571afc62f3c">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>model_parts_burg <span class="ot">&lt;-</span><span class="fu">model_parts</span>(rf_explainer_burglary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-54_97e63125b038ba41a9f28111c12cee4d">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model_parts_burg, <span class="at">max_vars=</span><span class="dv">25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
<p>The three most important features our model highlights are: - the age composition of the population - the number of residents which are in commercial property - the historic number of burglaries</p>
<p>This seems to corroborate our previous regression model. To further unpick these trends, we can use Partial Dependence Plots to identify how the model prediction shifts with these values.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-55_745dc6bae476f6fc1c6c8561d1b8cfcb">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>pdp_b <span class="ot">&lt;-</span> <span class="fu">model_profile</span>(rf_explainer_burglary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-56_672f750eb1bba406cf8d8d49d6dcb89b">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_b, <span class="at">variables=</span><span class="st">"total_burglaries"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We still see a strong association between a high number of historic, and a large reduction during the lockdown period</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-57_e25fbb3c26763ca7a5f0a0c6540e322a">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_b, <span class="at">variables=</span> <span class="st">"Religion..2011..Christian"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-58_2d2eb6ee11b4873b18ebc2b0eaa9b0df">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(data<span class="sc">$</span>Religion..<span class="dv">2011</span>..Christian)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-59_580ec154f3e73f22af61c88e95ea8c23">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_b, <span class="at">variables=</span><span class="st">"ComEstRes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-60_460e8db4349c5ad22b4e19917bb888de">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(msoa_matrix_numeric<span class="sc">$</span>ComEstRes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>By combining the distribution of commercial residents by MSOA with our PDP, we can see that those MSOAs that are most densely populated by commercial residents see the smallest “covid decrease”(suggesting that those MSOAs that are very heavily residential saw the sharpest drops).</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-61_41e8a2f5ed4c0230edc79c97a3250a1f">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_b, <span class="at">variables=</span><span class="st">"House.Prices.Sales.2008"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Finally, we can see that those areas that experienced the highest volume of house sales experienced the lowest relative decrease in burglary.</p>
<p>This highlights the importance of identifying correlates in RF models - especially in a dataset where features are highly interlinked, association does not imply causation, and we should be wary of over-interpreting.</p>
<p>We can now repeat our process for our robbery shift.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-62_920d19af608215969c15446f760bfc02">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">=</span> <span class="fu">sample.split</span>(data<span class="sc">$</span>RPDRobberyShifted, <span class="at">SplitRatio =</span> <span class="fl">0.75</span>)</span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>train <span class="ot">=</span> <span class="fu">subset</span>(data, sample <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>test  <span class="ot">=</span> <span class="fu">subset</span>(data, sample <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a>rf_robbery <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(</span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a>  RPDRobberyShifted <span class="sc">~</span> .,</span>
<span id="cb128-11"><a href="#cb128-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">data=</span>train, </span>
<span id="cb128-12"><a href="#cb128-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">importance=</span><span class="cn">TRUE</span></span>
<span id="cb128-13"><a href="#cb128-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb128-14"><a href="#cb128-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-15"><a href="#cb128-15" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(rf_robbery)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                Length Class  Mode     
call              4    -none- call     
type              1    -none- character
predicted       734    -none- numeric  
mse             500    -none- numeric  
rsq             500    -none- numeric  
oob.times       734    -none- numeric  
importance      420    -none- numeric  
importanceSD    210    -none- numeric  
localImportance   0    -none- NULL     
proximity         0    -none- NULL     
ntree             1    -none- numeric  
mtry              1    -none- numeric  
forest           11    -none- list     
coefs             0    -none- NULL     
y               734    -none- numeric  
test              0    -none- NULL     
inbag             0    -none- NULL     
terms             3    terms  call     </code></pre>
</div>
</div>
<p>We’ve now trained a model. Let’s now use the DALEX library to understand it, and see how it performs.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-63_af543a37e56c433a782f9b9ff38bcc32">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>rf_explainer_robbery <span class="ot">&lt;-</span> DALEX<span class="sc">::</span><span class="fu">explain</span>(rf_robbery, <span class="at">data=</span>train, <span class="at">y=</span> train<span class="sc">$</span>RPDRobberyShifted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Preparation of a new explainer is initiated
  -&gt; model label       :  randomForest  (  default  )
  -&gt; data              :  734  rows  211  cols 
  -&gt; data              :  tibble converted into a data.frame 
  -&gt; target variable   :  734  values 
  -&gt; predict function  :  yhat.randomForest  will be used (  default  )
  -&gt; predicted values  :  No value for predict function target column. (  default  )
  -&gt; model_info        :  package randomForest , ver. 4.7.1.1 , task regression (  default  ) 
  -&gt; predicted values  :  numerical, min =  -0.9908618 , mean =  -0.04880848 , max =  0.3886733  
  -&gt; residual function :  difference between y and yhat (  default  )
  -&gt; residuals         :  numerical, min =  -0.4640489 , mean =  -0.0007951117 , max =  0.2909289  
  A new explainer has been created!  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>rf_perf_rob <span class="ot">&lt;-</span> <span class="fu">model_performance</span>(rf_explainer_robbery)</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>rf_perf_rob</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Measures for:  regression
mse        : 0.003630323 
rmse       : 0.06025216 
r2         : 0.872715 
mad        : 0.02818358

Residuals:
          0%          10%          20%          30%          40%          50% 
-0.464048863 -0.059133188 -0.037257312 -0.023376075 -0.014244755 -0.004866538 
         60%          70%          80%          90%         100% 
 0.005089387  0.019736886  0.034999616  0.059437002  0.290928866 </code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-64_e0f846a5f3a8edcdfbdf75d1efa110a7">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>model_parts_rob <span class="ot">&lt;-</span><span class="fu">model_parts</span>(rf_explainer_robbery)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-65_b256b9a8b44324dbc1958d2a01cccd23">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model_parts_rob, <span class="at">max_vars=</span><span class="dv">25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-66_34eba0e84d680ab343a508c49fb77d8e">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>pdp_rob <span class="ot">&lt;-</span> <span class="fu">model_profile</span>(rf_explainer_robbery)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-67_6f0e9aef772de05cd9ad7dd585e68bd5">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_rob, <span class="at">variables=</span><span class="st">"total_robberies"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-67-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-68_d80ac4259abd7ed5fbf1c258c1e61c64">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_rob, <span class="at">variables=</span><span class="st">"total_burglaries"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-68-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The effect of historic crime effects again appears like a reliable predictor of a robbery covid shift: those MSOAs with the highest number of burglaries and robberies see strong decreases in robbery (though the association with burglary is not clear cut, suggesting other interaction effects may be driving this)</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-69_816a9ed5a2d94a8095922585f5fde89d">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_rob, <span class="at">variables=</span><span class="st">"Road.Casualties.2011.2011.Total"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-69-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Road casualties is another strong relationship. This could be a proxy for deprivation, but I suggest this is more down to geographic features - road casualties are probably rarer in denser urban environments, most likely to be affected by lockdown.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-70_261b22b9c9ffed7819da67d482fcc98d">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_rob, <span class="at">variables=</span><span class="st">"Ethnic.Group..2011.Census..Other.ethnic.group...."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-70-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-71_07487ba58ee9152e4115322e9ffae391">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(data<span class="sc">$</span>Ethnic.Group..<span class="fl">2011.</span>Census..Other.ethnic.group....)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-71-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Finally, we see a demographic predictor linked to “other ethnic group”. I’m not clear how to interpret this, but it suggests that those MSOAs that are most diverse (and have the largest representation by these ethnic groups) experienced the strongest decreases in robbery during lockdown.</p>
<p>Together, these analyses suggest that the crime drop for robbery and burglary during national lockdown was significantly affected by distinct local factors. For both offences, historical crime trends play a role, with high crime areas experiencing a relatively larger drop in both burglary and robbery.</p>
<p>Beyond that, the drivers vary for each offence type: burglary was driven by the composition of the residential population, with heavily residential areas, and areas with a relatively “stable” population as measured by low housing sales also saw larger decrease - this is likely due to the increased number of empty residential properties.</p>
<p>Robbery decreases conversely, are well associated with high numbers of road casualties, as well as the ethnic makeup of the local population - this is likely due to an association with denser, more urban areas, with lower street speeds, and a possible link to deprivation, whereby minority population were least able to work from home, and were likely to still present as available targets for robbery.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>